2022-05-10 21:54:01,383 reid_baseline INFO: Saving model in the path :../logs/uda/deit_base/office-home/Art2ClipartDRI_Contrastive0.0
2022-05-10 21:54:01,383 reid_baseline INFO: Namespace(config_file='configs/uda.yml', opts=['MODEL.DEVICE_ID', "('0')", 'OUTPUT_DIR', '../logs/uda/deit_base/office-home/Art2ClipartDRI_Contrastive0.0', 'DATASETS.ROOT_TRAIN_DIR', '../data/OfficeHomeDataset/Art.txt', 'DATASETS.ROOT_TRAIN_DIR2', '../data/OfficeHomeDataset/Clipart.txt', 'DATASETS.ROOT_TEST_DIR', '../data/OfficeHomeDataset/Clipart.txt', 'DATASETS.NAMES', 'OfficeHome', 'DATASETS.NAMES2', 'OfficeHome', 'MODEL.Transformer_TYPE', 'uda_vit_base_patch16_224_TransReID'], local_rank=0, patch_size=8, dom_cls=False, layer_num=1, dom_weight=0.0)
2022-05-10 21:54:01,383 reid_baseline INFO: Loaded configuration file configs/uda.yml
2022-05-10 21:54:01,383 reid_baseline INFO: 
MODEL:
  PRETRAIN_CHOICE: 'imagenet'
  PRETRAIN_PATH: '../data/pretrainModel/deit_base_distilled_patch16_224-df68dfff.pth'
  METRIC_LOSS_TYPE: 'triplet'
  IF_LABELSMOOTH: 'on'
  IF_WITH_CENTER: 'no'
  NAME: 'transformer'
  NO_MARGIN: True
  DEVICE_ID: ('0')
  Transformer_TYPE: 'uda_vit_base_patch16_224_TransReID' #uda_vit_small_patch16_224_TransReID
  STRIDE_SIZE: [16, 16]
  BLOCK_PATTERN: '3_branches'
  TASK_TYPE: 'classify_DA'
  UDA_STAGE: 'UDA'
#  CAMERA_EMBEDDING: True
#  VIEWPOINT_EMBEDDING: True

INPUT:
  SIZE_TRAIN: [256, 256]
  SIZE_TEST: [256, 256]
  SIZE_CROP: [224, 224]
  PROB: 0.5 # random horizontal flip
  RE_PROB: 0.0 # random erasing
  PADDING: 0
  PIXEL_MEAN: [0.485, 0.456, 0.406]
  PIXEL_STD: [0.229, 0.224, 0.225]

DATASETS:
  NAMES: ('OURAPI')
  ROOT_TRAIN_DIR: ('./datasets/reid_datasets/Corrected_Market1501')
  NAMES2: ('OURAPI')
  ROOT_TRAIN_DIR2: ('./datasets/reid_datasets/Refined_DukeMTMC_reID')
  ROOT_TEST_DIR: ('./datasets/reid_datasets/Refined_DukeMTMC_reID')

DATALOADER:
  SAMPLER: 'softmax'
  NUM_INSTANCE: 4
  NUM_WORKERS: 4

SOLVER:
  OPTIMIZER_NAME: 'SGD'
  MAX_EPOCHS: 40
  BASE_LR: 0.008
  IMS_PER_BATCH: 16
  STEPS: [40, 80]
  GAMMA: 0.
  WARMUP_FACTOR: 0.01
  WARMUP_EPOCHS: 10
  WARMUP_METHOD: 'linear'
  LARGE_FC_LR: False
  CHECKPOINT_PERIOD: 10
  LOG_PERIOD: 100
  EVAL_PERIOD: 1
  WEIGHT_DECAY:  1e-4
  WEIGHT_DECAY_BIAS: 1e-4
  BIAS_LR_FACTOR: 2

TEST:
  EVAL: True
  IMS_PER_BATCH: 64
  RE_RANKING: False
  RE_RANKING_TRACK: False

  WEIGHT: '../logs/trans4DA/transformer_120.pth'
  NECK_FEAT: 'after'
  FEAT_NORM: 'yes'

OUTPUT_DIR: '../logs/trans4DA'



2022-05-10 21:54:01,383 reid_baseline INFO: Running with config:
DATALOADER:
  NUM_INSTANCE: 4
  NUM_WORKERS: 4
  SAMPLER: softmax
DATASETS:
  NAMES: OfficeHome
  NAMES2: OfficeHome
  PLUS_NUM_ID: 100
  QUERY_MINING: False
  ROOT_TEST_DIR: ../data/OfficeHomeDataset/Clipart.txt
  ROOT_TRAIN_DIR: ../data/OfficeHomeDataset/Art.txt
  ROOT_TRAIN_DIR2: ../data/OfficeHomeDataset/Clipart.txt
INPUT:
  AA_PROB: 0.0
  PADDING: 0
  PIXEL_MEAN: [0.485, 0.456, 0.406]
  PIXEL_STD: [0.229, 0.224, 0.225]
  PROB: 0.5
  RE_PROB: 0.0
  SIZE_CROP: [224, 224]
  SIZE_TEST: [256, 256]
  SIZE_TRAIN: [256, 256]
MODEL:
  AIE_COE: 1.5
  BLOCK_PATTERN: 3_branches
  CAMERA_EMBEDDING: False
  COS_LAYER: False
  DEVICE: cuda
  DEVICE_ID: 0
  DEVIDE_LENGTH: 4
  DIST_TRAIN: False
  DROP_OUT: 0.0
  DROP_PATH: 0.1
  FC_SETTING: TransReID
  FROZEN: -1
  ID_LOSS_TYPE: softmax
  ID_LOSS_WEIGHT: 1.0
  IF_LABELSMOOTH: on
  IF_WITH_CENTER: no
  LAST_STRIDE: 1
  LOCAL_F: False
  METRIC_LOSS_TYPE: triplet
  NAME: transformer
  NECK: bnneck
  NO_MARGIN: True
  NO_SHUFFLE: False
  PATCH_SHUFFLE: 2
  PRETRAIN_CHOICE: imagenet
  PRETRAIN_PATH: ../data/pretrainModel/deit_base_distilled_patch16_224-df68dfff.pth
  PROB: 0.0
  RECIP_LOSS: 
  STRIDE_SIZE: [16, 16]
  TASK_TYPE: classify_DA
  THRESH: 0.23
  TRIPLET_LOSS_WEIGHT: 1.0
  Transformer_TYPE: uda_vit_base_patch16_224_TransReID
  UDA_STAGE: UDA
  VIEWPOINT_EMBEDDING: False
  YIWEI_NUM: 5
  lameda: 0.5
OUTPUT_DIR: ../logs/uda/deit_base/office-home/Art2ClipartDRI_Contrastive0.0
SOLVER:
  BASE_LR: 0.008
  BIAS_LR_FACTOR: 2
  CENTER_LOSS_WEIGHT: 0.0005
  CENTER_LR: 0.5
  CHECKPOINT_PERIOD: 10
  CLUSTER_MARGIN: 0.3
  COSINE_MARGIN: 0.5
  COSINE_SCALE: 30
  EVAL_PERIOD: 1
  GAMMA: 0.0
  IMS_PER_BATCH: 16
  LARGE_FC_LR: False
  LOG_PERIOD: 100
  MARGIN: 0.3
  MAX_EPOCHS: 40
  MOMENTUM: 0.9
  OPTIMIZER_NAME: SGD
  RANGE_ALPHA: 0
  RANGE_BETA: 1
  RANGE_K: 2
  RANGE_LOSS_WEIGHT: 1
  RANGE_MARGIN: 0.3
  SEED: 1234
  STEPS: (40, 80)
  WARMUP_EPOCHS: 10
  WARMUP_FACTOR: 0.01
  WARMUP_METHOD: linear
  WEIGHT_DECAY: 0.0001
  WEIGHT_DECAY_BIAS: 0.0001
  WITH_PSEUDO_LABEL_FILTER: False
TEST:
  DIST_MAT: dist_mat.npy
  EVAL: True
  FEAT_NORM: yes
  FLIP_FEATS: off
  IMS_PER_BATCH: 64
  NECK_FEAT: after
  RE_RANKING: False
  RE_RANKING_TRACK: False
  WEIGHT: ../logs/trans4DA/transformer_120.pth
=> Office-Home loaded
Dataset statistics:
train Art and valid is Clipart
  ----------------------------------------
  subset   | # ids | # images | # cameras
  ----------------------------------------
  train   |    65 |     2427 |         1
  valid   |    65 |     4365 |         1
  ----------------------------------------
=> Office-Home loaded
Dataset statistics:
train Clipart and valid is Clipart
  ----------------------------------------
  subset   | # ids | # images | # cameras
  ----------------------------------------
  train   |    65 |     4365 |         1
  valid   |    65 |     4365 |         1
  ----------------------------------------
using Transformer_type: uda_vit_base_patch16_224_TransReID as a backbone
using stride: [16, 16], and part number is num_y14 * num_x14
using drop_path_rate is : 0.1
using aie_xishu is : 1.5
using 3branches blocks
distill need to choose right cls token in the pth
Resized position embedding: %s to %s torch.Size([1, 197, 768]) torch.Size([1, 197, 768])
Position embedding resize to height:14 width: 14
Loading pretrained ImageNet model......from ../data/pretrainModel/deit_base_distilled_patch16_224-df68dfff.pth
===========building uda transformer===========
label smooth on, numclasses: 65
2022-05-10 21:54:14,275 reid_baseline.train INFO: start training
2022-05-10 21:56:35,835 reid_baseline.train INFO: Epoch[1] Iteration[100/147] Loss1: 1.475, Loss2: 4.170, Loss3: 0.016,  Acc: 0.344, Acc2: 0.022, Acc2_pse: 0.022, Base Lr: 8.72e-04
2022-05-10 21:57:30,791 reid_baseline.train INFO: Epoch 1 done. Time per batch: 1.330[s] Speed: 12.0[samples/s]
2022-05-10 22:00:23,596 reid_baseline.train INFO: normal accuracy 0.04742268041237113 4.1727294921875 
2022-05-10 22:00:24,838 reid_baseline.train INFO: Classify Domain Adapatation Validation Results - Epoch: 1
2022-05-10 22:00:24,839 reid_baseline.train INFO: Accuracy: 4.7%, best Accuracy: 4.7%, min Mean_entropy: 4e+00
2022-05-10 22:02:30,375 reid_baseline.train INFO: Epoch[2] Iteration[100/147] Loss1: 1.146, Loss2: 4.135, Loss3: -0.029,  Acc: 0.507, Acc2: 0.095, Acc2_pse: 0.095, Base Lr: 1.66e-03
2022-05-10 22:03:24,627 reid_baseline.train INFO: Epoch 2 done. Time per batch: 1.240[s] Speed: 12.9[samples/s]
2022-05-10 22:06:07,604 reid_baseline.train INFO: normal accuracy 0.1152348224513173 4.171553611755371 
2022-05-10 22:06:08,434 reid_baseline.train INFO: Classify Domain Adapatation Validation Results - Epoch: 2
2022-05-10 22:06:08,434 reid_baseline.train INFO: Accuracy: 11.5%, best Accuracy: 11.5%, min Mean_entropy: 4e+00
2022-05-10 22:08:10,392 reid_baseline.train INFO: Epoch[3] Iteration[100/147] Loss1: 0.966, Loss2: 4.081, Loss3: -0.029,  Acc: 0.601, Acc2: 0.107, Acc2_pse: 0.107, Base Lr: 2.46e-03
2022-05-10 22:09:04,201 reid_baseline.train INFO: Epoch 3 done. Time per batch: 1.212[s] Speed: 13.2[samples/s]
2022-05-10 22:12:02,833 reid_baseline.train INFO: normal accuracy 0.13333333333333333 4.1675028800964355 
2022-05-10 22:12:03,622 reid_baseline.train INFO: Classify Domain Adapatation Validation Results - Epoch: 3
2022-05-10 22:12:03,622 reid_baseline.train INFO: Accuracy: 13.3%, best Accuracy: 13.3%, min Mean_entropy: 4e+00
2022-05-10 22:14:05,899 reid_baseline.train INFO: Epoch[4] Iteration[100/147] Loss1: 0.944, Loss2: 3.982, Loss3: -0.008,  Acc: 0.594, Acc2: 0.130, Acc2_pse: 0.130, Base Lr: 3.25e-03
2022-05-10 22:14:58,008 reid_baseline.train INFO: Epoch 4 done. Time per batch: 1.203[s] Speed: 13.3[samples/s]
2022-05-10 22:17:49,740 reid_baseline.train INFO: normal accuracy 0.14868270332187858 4.15565299987793 
2022-05-10 22:17:50,524 reid_baseline.train INFO: Classify Domain Adapatation Validation Results - Epoch: 4
2022-05-10 22:17:50,524 reid_baseline.train INFO: Accuracy: 14.9%, best Accuracy: 14.9%, min Mean_entropy: 4e+00
2022-05-10 22:19:50,217 reid_baseline.train INFO: Epoch[5] Iteration[100/147] Loss1: 0.923, Loss2: 3.866, Loss3: -0.165,  Acc: 0.610, Acc2: 0.131, Acc2_pse: 0.131, Base Lr: 4.04e-03
2022-05-10 22:20:47,026 reid_baseline.train INFO: Epoch 5 done. Time per batch: 1.209[s] Speed: 13.2[samples/s]
2022-05-10 22:23:14,882 reid_baseline.train INFO: normal accuracy 0.1672394043528064 4.119302272796631 
2022-05-10 22:23:15,731 reid_baseline.train INFO: Classify Domain Adapatation Validation Results - Epoch: 5
2022-05-10 22:23:15,731 reid_baseline.train INFO: Accuracy: 16.7%, best Accuracy: 16.7%, min Mean_entropy: 4e+00
2022-05-10 22:25:18,254 reid_baseline.train INFO: Epoch[6] Iteration[100/147] Loss1: 0.873, Loss2: 3.696, Loss3: -0.137,  Acc: 0.630, Acc2: 0.174, Acc2_pse: 0.174, Base Lr: 4.83e-03
2022-05-10 22:26:07,678 reid_baseline.train INFO: Epoch 6 done. Time per batch: 1.211[s] Speed: 13.2[samples/s]
2022-05-10 22:28:36,615 reid_baseline.train INFO: normal accuracy 0.22038946162657502 4.047686576843262 
2022-05-10 22:28:37,447 reid_baseline.train INFO: Classify Domain Adapatation Validation Results - Epoch: 6
2022-05-10 22:28:37,447 reid_baseline.train INFO: Accuracy: 22.0%, best Accuracy: 22.0%, min Mean_entropy: 4e+00
2022-05-10 22:30:44,452 reid_baseline.train INFO: Epoch[7] Iteration[100/147] Loss1: 0.868, Loss2: 3.515, Loss3: 0.022,  Acc: 0.631, Acc2: 0.229, Acc2_pse: 0.229, Base Lr: 5.62e-03
2022-05-10 22:31:36,804 reid_baseline.train INFO: Epoch 7 done. Time per batch: 1.254[s] Speed: 12.8[samples/s]
2022-05-10 22:34:17,766 reid_baseline.train INFO: normal accuracy 0.27101947308132873 3.912642002105713 
2022-05-10 22:34:18,681 reid_baseline.train INFO: Classify Domain Adapatation Validation Results - Epoch: 7
2022-05-10 22:34:18,681 reid_baseline.train INFO: Accuracy: 27.1%, best Accuracy: 27.1%, min Mean_entropy: 4e+00
2022-05-10 22:36:22,490 reid_baseline.train INFO: Epoch[8] Iteration[100/147] Loss1: 0.824, Loss2: 3.297, Loss3: 0.168,  Acc: 0.673, Acc2: 0.264, Acc2_pse: 0.264, Base Lr: 6.42e-03
2022-05-10 22:37:16,877 reid_baseline.train INFO: Epoch 8 done. Time per batch: 1.237[s] Speed: 12.9[samples/s]
2022-05-10 22:40:10,930 reid_baseline.train INFO: normal accuracy 0.315922107674685 3.725619316101074 
2022-05-10 22:40:11,874 reid_baseline.train INFO: Classify Domain Adapatation Validation Results - Epoch: 8
2022-05-10 22:40:11,874 reid_baseline.train INFO: Accuracy: 31.6%, best Accuracy: 31.6%, min Mean_entropy: 4e+00
2022-05-10 22:42:13,552 reid_baseline.train INFO: Epoch[9] Iteration[100/147] Loss1: 0.868, Loss2: 3.067, Loss3: -0.070,  Acc: 0.624, Acc2: 0.319, Acc2_pse: 0.319, Base Lr: 7.21e-03
2022-05-10 22:43:08,458 reid_baseline.train INFO: Epoch 9 done. Time per batch: 1.209[s] Speed: 13.2[samples/s]
2022-05-10 22:45:43,968 reid_baseline.train INFO: normal accuracy 0.3761741122565865 3.4427945613861084 
2022-05-10 22:45:44,766 reid_baseline.train INFO: Classify Domain Adapatation Validation Results - Epoch: 9
2022-05-10 22:45:44,766 reid_baseline.train INFO: Accuracy: 37.6%, best Accuracy: 37.6%, min Mean_entropy: 3e+00
2022-05-10 22:47:43,610 reid_baseline.train INFO: Epoch[10] Iteration[100/147] Loss1: 0.843, Loss2: 2.837, Loss3: 0.110,  Acc: 0.633, Acc2: 0.394, Acc2_pse: 0.394, Base Lr: 6.83e-03
2022-05-10 22:48:33,927 reid_baseline.train INFO: Epoch 10 done. Time per batch: 1.183[s] Speed: 13.5[samples/s]
2022-05-10 22:51:04,774 reid_baseline.train INFO: normal accuracy 0.39908361970217643 3.3353114128112793 
2022-05-10 22:51:05,585 reid_baseline.train INFO: Classify Domain Adapatation Validation Results - Epoch: 10
2022-05-10 22:51:05,585 reid_baseline.train INFO: Accuracy: 39.9%, best Accuracy: 39.9%, min Mean_entropy: 3e+00
2022-05-10 22:53:09,944 reid_baseline.train INFO: Epoch[11] Iteration[100/147] Loss1: 0.843, Loss2: 2.735, Loss3: -0.047,  Acc: 0.648, Acc2: 0.419, Acc2_pse: 0.419, Base Lr: 6.60e-03
2022-05-10 22:54:03,820 reid_baseline.train INFO: Epoch 11 done. Time per batch: 1.229[s] Speed: 13.0[samples/s]
2022-05-10 22:56:26,858 reid_baseline.train INFO: normal accuracy 0.4313860252004582 3.1434390544891357 
2022-05-10 22:56:28,922 reid_baseline.train INFO: Classify Domain Adapatation Validation Results - Epoch: 11
2022-05-10 22:56:28,923 reid_baseline.train INFO: Accuracy: 43.1%, best Accuracy: 43.1%, min Mean_entropy: 3e+00
2022-05-10 22:58:32,086 reid_baseline.train INFO: Epoch[12] Iteration[100/147] Loss1: 0.858, Loss2: 2.571, Loss3: 0.157,  Acc: 0.636, Acc2: 0.459, Acc2_pse: 0.459, Base Lr: 6.35e-03
2022-05-10 22:59:21,869 reid_baseline.train INFO: Epoch 12 done. Time per batch: 1.200[s] Speed: 13.3[samples/s]
2022-05-10 23:01:46,718 reid_baseline.train INFO: normal accuracy 0.4627720504009164 3.0821714401245117 
2022-05-10 23:01:47,577 reid_baseline.train INFO: Classify Domain Adapatation Validation Results - Epoch: 12
2022-05-10 23:01:47,577 reid_baseline.train INFO: Accuracy: 46.3%, best Accuracy: 46.3%, min Mean_entropy: 3e+00
2022-05-10 23:03:49,306 reid_baseline.train INFO: Epoch[13] Iteration[100/147] Loss1: 0.849, Loss2: 2.455, Loss3: -0.052,  Acc: 0.642, Acc2: 0.489, Acc2_pse: 0.489, Base Lr: 6.09e-03
2022-05-10 23:04:43,763 reid_baseline.train INFO: Epoch 13 done. Time per batch: 1.223[s] Speed: 13.1[samples/s]
2022-05-10 23:07:08,694 reid_baseline.train INFO: normal accuracy 0.47010309278350515 2.9592196941375732 
2022-05-10 23:07:09,482 reid_baseline.train INFO: Classify Domain Adapatation Validation Results - Epoch: 13
2022-05-10 23:07:09,482 reid_baseline.train INFO: Accuracy: 47.0%, best Accuracy: 47.0%, min Mean_entropy: 3e+00
2022-05-10 23:09:12,191 reid_baseline.train INFO: Epoch[14] Iteration[100/147] Loss1: 0.849, Loss2: 2.376, Loss3: 0.050,  Acc: 0.629, Acc2: 0.508, Acc2_pse: 0.508, Base Lr: 5.82e-03
2022-05-10 23:10:04,005 reid_baseline.train INFO: Epoch 14 done. Time per batch: 1.212[s] Speed: 13.2[samples/s]
2022-05-10 23:12:28,023 reid_baseline.train INFO: normal accuracy 0.4822451317296678 2.9585509300231934 
2022-05-10 23:12:28,890 reid_baseline.train INFO: Classify Domain Adapatation Validation Results - Epoch: 14
2022-05-10 23:12:28,890 reid_baseline.train INFO: Accuracy: 48.2%, best Accuracy: 48.2%, min Mean_entropy: 3e+00
2022-05-10 23:14:33,745 reid_baseline.train INFO: Epoch[15] Iteration[100/147] Loss1: 0.831, Loss2: 2.292, Loss3: 0.003,  Acc: 0.658, Acc2: 0.539, Acc2_pse: 0.539, Base Lr: 5.54e-03
2022-05-10 23:15:26,360 reid_baseline.train INFO: Epoch 15 done. Time per batch: 1.241[s] Speed: 12.9[samples/s]
2022-05-10 23:17:45,106 reid_baseline.train INFO: normal accuracy 0.49140893470790376 2.7518835067749023 
2022-05-10 23:17:45,957 reid_baseline.train INFO: Classify Domain Adapatation Validation Results - Epoch: 15
2022-05-10 23:17:45,958 reid_baseline.train INFO: Accuracy: 49.1%, best Accuracy: 49.1%, min Mean_entropy: 3e+00
2022-05-10 23:19:08,955 reid_baseline.train INFO: Epoch[16] Iteration[100/147] Loss1: 0.822, Loss2: 2.212, Loss3: -0.017,  Acc: 0.649, Acc2: 0.557, Acc2_pse: 0.557, Base Lr: 5.24e-03
2022-05-10 23:19:44,151 reid_baseline.train INFO: Epoch 16 done. Time per batch: 0.821[s] Speed: 19.5[samples/s]
2022-05-10 23:21:56,781 reid_baseline.train INFO: normal accuracy 0.506758304696449 2.781151056289673 
2022-05-10 23:21:57,584 reid_baseline.train INFO: Classify Domain Adapatation Validation Results - Epoch: 16
2022-05-10 23:21:57,584 reid_baseline.train INFO: Accuracy: 50.7%, best Accuracy: 50.7%, min Mean_entropy: 3e+00
2022-05-10 23:23:19,881 reid_baseline.train INFO: Epoch[17] Iteration[100/147] Loss1: 0.822, Loss2: 2.175, Loss3: 0.003,  Acc: 0.661, Acc2: 0.578, Acc2_pse: 0.578, Base Lr: 4.94e-03
2022-05-10 23:23:54,443 reid_baseline.train INFO: Epoch 17 done. Time per batch: 0.806[s] Speed: 19.9[samples/s]
2022-05-10 23:26:07,739 reid_baseline.train INFO: normal accuracy 0.5049255441008018 2.635227918624878 
2022-05-10 23:26:07,739 reid_baseline.train INFO: Classify Domain Adapatation Validation Results - Epoch: 17
2022-05-10 23:26:07,739 reid_baseline.train INFO: Accuracy: 50.5%, best Accuracy: 50.7%, min Mean_entropy: 3e+00
2022-05-10 23:27:32,458 reid_baseline.train INFO: Epoch[18] Iteration[100/147] Loss1: 0.840, Loss2: 2.098, Loss3: -0.106,  Acc: 0.639, Acc2: 0.603, Acc2_pse: 0.603, Base Lr: 4.63e-03
2022-05-10 23:28:09,127 reid_baseline.train INFO: Epoch 18 done. Time per batch: 0.830[s] Speed: 19.3[samples/s]
2022-05-10 23:30:21,249 reid_baseline.train INFO: normal accuracy 0.518213058419244 2.572360038757324 
2022-05-10 23:30:22,076 reid_baseline.train INFO: Classify Domain Adapatation Validation Results - Epoch: 18
2022-05-10 23:30:22,076 reid_baseline.train INFO: Accuracy: 51.8%, best Accuracy: 51.8%, min Mean_entropy: 3e+00
2022-05-10 23:31:46,391 reid_baseline.train INFO: Epoch[19] Iteration[100/147] Loss1: 0.802, Loss2: 2.052, Loss3: -0.016,  Acc: 0.666, Acc2: 0.606, Acc2_pse: 0.606, Base Lr: 4.32e-03
2022-05-10 23:32:20,412 reid_baseline.train INFO: Epoch 19 done. Time per batch: 0.827[s] Speed: 19.3[samples/s]
2022-05-10 23:34:31,366 reid_baseline.train INFO: normal accuracy 0.5083619702176403 2.3651514053344727 
2022-05-10 23:34:31,367 reid_baseline.train INFO: Classify Domain Adapatation Validation Results - Epoch: 19
2022-05-10 23:34:31,367 reid_baseline.train INFO: Accuracy: 50.8%, best Accuracy: 51.8%, min Mean_entropy: 3e+00
2022-05-10 23:35:51,894 reid_baseline.train INFO: Epoch[20] Iteration[100/147] Loss1: 0.822, Loss2: 1.976, Loss3: 0.005,  Acc: 0.649, Acc2: 0.633, Acc2_pse: 0.633, Base Lr: 4.01e-03
2022-05-10 23:36:26,960 reid_baseline.train INFO: Epoch 20 done. Time per batch: 0.807[s] Speed: 19.8[samples/s]
2022-05-10 23:38:35,886 reid_baseline.train INFO: normal accuracy 0.5262313860252005 2.549178123474121 
2022-05-10 23:38:36,659 reid_baseline.train INFO: Classify Domain Adapatation Validation Results - Epoch: 20
2022-05-10 23:38:36,659 reid_baseline.train INFO: Accuracy: 52.6%, best Accuracy: 52.6%, min Mean_entropy: 3e+00
2022-05-10 23:39:57,430 reid_baseline.train INFO: Epoch[21] Iteration[100/147] Loss1: 0.818, Loss2: 2.027, Loss3: -0.074,  Acc: 0.659, Acc2: 0.627, Acc2_pse: 0.627, Base Lr: 3.69e-03
2022-05-10 23:40:33,196 reid_baseline.train INFO: Epoch 21 done. Time per batch: 0.798[s] Speed: 20.0[samples/s]
2022-05-10 23:42:42,805 reid_baseline.train INFO: normal accuracy 0.5312714776632302 2.4552648067474365 
2022-05-10 23:42:43,662 reid_baseline.train INFO: Classify Domain Adapatation Validation Results - Epoch: 21
2022-05-10 23:42:43,663 reid_baseline.train INFO: Accuracy: 53.1%, best Accuracy: 53.1%, min Mean_entropy: 2e+00
2022-05-10 23:44:06,315 reid_baseline.train INFO: Epoch[22] Iteration[100/147] Loss1: 0.825, Loss2: 1.938, Loss3: -0.012,  Acc: 0.656, Acc2: 0.650, Acc2_pse: 0.650, Base Lr: 3.38e-03
2022-05-10 23:44:41,957 reid_baseline.train INFO: Epoch 22 done. Time per batch: 0.821[s] Speed: 19.5[samples/s]
2022-05-10 23:46:48,268 reid_baseline.train INFO: normal accuracy 0.5324169530355097 2.442997694015503 
2022-05-10 23:46:49,061 reid_baseline.train INFO: Classify Domain Adapatation Validation Results - Epoch: 22
2022-05-10 23:46:49,061 reid_baseline.train INFO: Accuracy: 53.2%, best Accuracy: 53.2%, min Mean_entropy: 2e+00
2022-05-10 23:48:10,239 reid_baseline.train INFO: Epoch[23] Iteration[100/147] Loss1: 0.865, Loss2: 1.900, Loss3: -0.093,  Acc: 0.626, Acc2: 0.668, Acc2_pse: 0.668, Base Lr: 3.08e-03
2022-05-10 23:48:44,608 reid_baseline.train INFO: Epoch 23 done. Time per batch: 0.802[s] Speed: 19.9[samples/s]
2022-05-10 23:50:49,619 reid_baseline.train INFO: normal accuracy 0.5376861397479954 2.323837995529175 
2022-05-10 23:50:50,398 reid_baseline.train INFO: Classify Domain Adapatation Validation Results - Epoch: 23
2022-05-10 23:50:50,398 reid_baseline.train INFO: Accuracy: 53.8%, best Accuracy: 53.8%, min Mean_entropy: 2e+00
2022-05-10 23:52:11,479 reid_baseline.train INFO: Epoch[24] Iteration[100/147] Loss1: 0.792, Loss2: 1.900, Loss3: -0.027,  Acc: 0.679, Acc2: 0.669, Acc2_pse: 0.669, Base Lr: 2.77e-03
2022-05-10 23:52:44,460 reid_baseline.train INFO: Epoch 24 done. Time per batch: 0.798[s] Speed: 20.1[samples/s]
2022-05-10 23:54:49,859 reid_baseline.train INFO: normal accuracy 0.5315005727376861 2.298870801925659 
2022-05-10 23:54:49,859 reid_baseline.train INFO: Classify Domain Adapatation Validation Results - Epoch: 24
2022-05-10 23:54:49,859 reid_baseline.train INFO: Accuracy: 53.2%, best Accuracy: 53.8%, min Mean_entropy: 2e+00
2022-05-10 23:56:09,859 reid_baseline.train INFO: Epoch[25] Iteration[100/147] Loss1: 0.815, Loss2: 1.904, Loss3: -0.014,  Acc: 0.657, Acc2: 0.669, Acc2_pse: 0.669, Base Lr: 2.48e-03
2022-05-10 23:56:43,488 reid_baseline.train INFO: Epoch 25 done. Time per batch: 0.784[s] Speed: 20.4[samples/s]
2022-05-10 23:58:44,327 reid_baseline.train INFO: normal accuracy 0.5369988545246277 2.220073699951172 
2022-05-10 23:58:44,327 reid_baseline.train INFO: Classify Domain Adapatation Validation Results - Epoch: 25
2022-05-10 23:58:44,327 reid_baseline.train INFO: Accuracy: 53.7%, best Accuracy: 53.8%, min Mean_entropy: 2e+00
2022-05-11 00:00:03,259 reid_baseline.train INFO: Epoch[26] Iteration[100/147] Loss1: 0.849, Loss2: 1.862, Loss3: -0.037,  Acc: 0.645, Acc2: 0.680, Acc2_pse: 0.680, Base Lr: 2.20e-03
2022-05-11 00:00:37,720 reid_baseline.train INFO: Epoch 26 done. Time per batch: 0.787[s] Speed: 20.3[samples/s]
2022-05-11 00:02:42,639 reid_baseline.train INFO: normal accuracy 0.53631156930126 2.302532196044922 
2022-05-11 00:02:42,639 reid_baseline.train INFO: Classify Domain Adapatation Validation Results - Epoch: 26
2022-05-11 00:02:42,639 reid_baseline.train INFO: Accuracy: 53.6%, best Accuracy: 53.8%, min Mean_entropy: 2e+00
2022-05-11 00:04:01,691 reid_baseline.train INFO: Epoch[27] Iteration[100/147] Loss1: 0.844, Loss2: 1.793, Loss3: 0.004,  Acc: 0.644, Acc2: 0.696, Acc2_pse: 0.696, Base Lr: 1.92e-03
2022-05-11 00:04:36,219 reid_baseline.train INFO: Epoch 27 done. Time per batch: 0.788[s] Speed: 20.3[samples/s]
2022-05-11 00:06:41,193 reid_baseline.train INFO: normal accuracy 0.5367697594501718 2.229431629180908 
2022-05-11 00:06:41,193 reid_baseline.train INFO: Classify Domain Adapatation Validation Results - Epoch: 27
2022-05-11 00:06:41,193 reid_baseline.train INFO: Accuracy: 53.7%, best Accuracy: 53.8%, min Mean_entropy: 2e+00
2022-05-11 00:08:01,754 reid_baseline.train INFO: Epoch[28] Iteration[100/147] Loss1: 0.796, Loss2: 1.828, Loss3: 0.000,  Acc: 0.673, Acc2: 0.686, Acc2_pse: 0.686, Base Lr: 1.66e-03
2022-05-11 00:08:35,011 reid_baseline.train INFO: Epoch 28 done. Time per batch: 0.796[s] Speed: 20.1[samples/s]
2022-05-11 00:10:43,550 reid_baseline.train INFO: normal accuracy 0.5337915234822451 2.1703619956970215 
2022-05-11 00:10:43,551 reid_baseline.train INFO: Classify Domain Adapatation Validation Results - Epoch: 28
2022-05-11 00:10:43,551 reid_baseline.train INFO: Accuracy: 53.4%, best Accuracy: 53.8%, min Mean_entropy: 2e+00
2022-05-11 00:12:01,277 reid_baseline.train INFO: Epoch[29] Iteration[100/147] Loss1: 0.809, Loss2: 1.772, Loss3: 0.059,  Acc: 0.657, Acc2: 0.704, Acc2_pse: 0.704, Base Lr: 1.42e-03
2022-05-11 00:12:34,718 reid_baseline.train INFO: Epoch 29 done. Time per batch: 0.777[s] Speed: 20.6[samples/s]
2022-05-11 00:14:37,690 reid_baseline.train INFO: normal accuracy 0.5415807560137457 2.2348544597625732 
2022-05-11 00:14:38,462 reid_baseline.train INFO: Classify Domain Adapatation Validation Results - Epoch: 29
2022-05-11 00:14:38,462 reid_baseline.train INFO: Accuracy: 54.2%, best Accuracy: 54.2%, min Mean_entropy: 2e+00
2022-05-11 00:15:58,980 reid_baseline.train INFO: Epoch[30] Iteration[100/147] Loss1: 0.831, Loss2: 1.780, Loss3: -0.072,  Acc: 0.657, Acc2: 0.698, Acc2_pse: 0.698, Base Lr: 1.19e-03
2022-05-11 00:16:32,924 reid_baseline.train INFO: Epoch 30 done. Time per batch: 0.789[s] Speed: 20.3[samples/s]
2022-05-11 00:18:39,210 reid_baseline.train INFO: normal accuracy 0.5406643757159221 2.1665585041046143 
2022-05-11 00:18:39,210 reid_baseline.train INFO: Classify Domain Adapatation Validation Results - Epoch: 30
2022-05-11 00:18:39,210 reid_baseline.train INFO: Accuracy: 54.1%, best Accuracy: 54.2%, min Mean_entropy: 2e+00
2022-05-11 00:19:57,691 reid_baseline.train INFO: Epoch[31] Iteration[100/147] Loss1: 0.830, Loss2: 1.753, Loss3: -0.038,  Acc: 0.665, Acc2: 0.706, Acc2_pse: 0.706, Base Lr: 9.72e-04
2022-05-11 00:20:32,555 reid_baseline.train INFO: Epoch 31 done. Time per batch: 0.782[s] Speed: 20.5[samples/s]
2022-05-11 00:22:36,215 reid_baseline.train INFO: normal accuracy 0.5369988545246277 2.2129085063934326 
2022-05-11 00:22:36,215 reid_baseline.train INFO: Classify Domain Adapatation Validation Results - Epoch: 31
2022-05-11 00:22:36,215 reid_baseline.train INFO: Accuracy: 53.7%, best Accuracy: 54.2%, min Mean_entropy: 2e+00
2022-05-11 00:23:54,954 reid_baseline.train INFO: Epoch[32] Iteration[100/147] Loss1: 0.835, Loss2: 1.745, Loss3: -0.043,  Acc: 0.659, Acc2: 0.699, Acc2_pse: 0.699, Base Lr: 7.78e-04
2022-05-11 00:24:29,708 reid_baseline.train INFO: Epoch 32 done. Time per batch: 0.783[s] Speed: 20.4[samples/s]
2022-05-11 00:26:35,782 reid_baseline.train INFO: normal accuracy 0.5427262313860252 2.2266485691070557 
2022-05-11 00:26:36,605 reid_baseline.train INFO: Classify Domain Adapatation Validation Results - Epoch: 32
2022-05-11 00:26:36,605 reid_baseline.train INFO: Accuracy: 54.3%, best Accuracy: 54.3%, min Mean_entropy: 2e+00
2022-05-11 00:27:56,877 reid_baseline.train INFO: Epoch[33] Iteration[100/147] Loss1: 0.793, Loss2: 1.751, Loss3: 0.077,  Acc: 0.691, Acc2: 0.715, Acc2_pse: 0.715, Base Lr: 6.04e-04
2022-05-11 00:28:28,805 reid_baseline.train INFO: Epoch 33 done. Time per batch: 0.784[s] Speed: 20.4[samples/s]
2022-05-11 00:30:31,476 reid_baseline.train INFO: normal accuracy 0.5447880870561282 2.2819576263427734 
2022-05-11 00:30:32,257 reid_baseline.train INFO: Classify Domain Adapatation Validation Results - Epoch: 33
2022-05-11 00:30:32,257 reid_baseline.train INFO: Accuracy: 54.5%, best Accuracy: 54.5%, min Mean_entropy: 2e+00
2022-05-11 00:31:53,569 reid_baseline.train INFO: Epoch[34] Iteration[100/147] Loss1: 0.770, Loss2: 1.715, Loss3: 0.027,  Acc: 0.687, Acc2: 0.708, Acc2_pse: 0.708, Base Lr: 4.51e-04
2022-05-11 00:32:26,496 reid_baseline.train INFO: Epoch 34 done. Time per batch: 0.799[s] Speed: 20.0[samples/s]
2022-05-11 00:34:28,249 reid_baseline.train INFO: normal accuracy 0.5411225658648339 2.057591438293457 
2022-05-11 00:34:28,250 reid_baseline.train INFO: Classify Domain Adapatation Validation Results - Epoch: 34
2022-05-11 00:34:28,250 reid_baseline.train INFO: Accuracy: 54.1%, best Accuracy: 54.5%, min Mean_entropy: 2e+00
2022-05-11 00:35:47,441 reid_baseline.train INFO: Epoch[35] Iteration[100/147] Loss1: 0.843, Loss2: 1.738, Loss3: -0.042,  Acc: 0.649, Acc2: 0.716, Acc2_pse: 0.716, Base Lr: 3.20e-04
2022-05-11 00:36:20,511 reid_baseline.train INFO: Epoch 35 done. Time per batch: 0.779[s] Speed: 20.6[samples/s]
2022-05-11 00:38:24,666 reid_baseline.train INFO: normal accuracy 0.54524627720504 2.1307015419006348 
2022-05-11 00:38:25,829 reid_baseline.train INFO: Classify Domain Adapatation Validation Results - Epoch: 35
2022-05-11 00:38:25,830 reid_baseline.train INFO: Accuracy: 54.5%, best Accuracy: 54.5%, min Mean_entropy: 2e+00
2022-05-11 00:39:47,067 reid_baseline.train INFO: Epoch[36] Iteration[100/147] Loss1: 0.790, Loss2: 1.736, Loss3: -0.031,  Acc: 0.669, Acc2: 0.714, Acc2_pse: 0.714, Base Lr: 2.11e-04
2022-05-11 00:40:19,002 reid_baseline.train INFO: Epoch 36 done. Time per batch: 0.802[s] Speed: 19.9[samples/s]
2022-05-11 00:42:22,368 reid_baseline.train INFO: normal accuracy 0.5461626575028636 2.1774439811706543 
2022-05-11 00:42:23,221 reid_baseline.train INFO: Classify Domain Adapatation Validation Results - Epoch: 36
2022-05-11 00:42:23,221 reid_baseline.train INFO: Accuracy: 54.6%, best Accuracy: 54.6%, min Mean_entropy: 2e+00
2022-05-11 00:43:45,195 reid_baseline.train INFO: Epoch[37] Iteration[100/147] Loss1: 0.781, Loss2: 1.775, Loss3: -0.068,  Acc: 0.679, Acc2: 0.701, Acc2_pse: 0.701, Base Lr: 1.26e-04
2022-05-11 00:44:18,151 reid_baseline.train INFO: Epoch 37 done. Time per batch: 0.809[s] Speed: 19.8[samples/s]
2022-05-11 00:46:22,442 reid_baseline.train INFO: normal accuracy 0.5447880870561282 2.15472149848938 
2022-05-11 00:46:22,443 reid_baseline.train INFO: Classify Domain Adapatation Validation Results - Epoch: 37
2022-05-11 00:46:22,443 reid_baseline.train INFO: Accuracy: 54.5%, best Accuracy: 54.6%, min Mean_entropy: 2e+00
2022-05-11 00:47:42,929 reid_baseline.train INFO: Epoch[38] Iteration[100/147] Loss1: 0.801, Loss2: 1.710, Loss3: -0.029,  Acc: 0.664, Acc2: 0.727, Acc2_pse: 0.727, Base Lr: 6.51e-05
2022-05-11 00:48:16,553 reid_baseline.train INFO: Epoch 38 done. Time per batch: 0.786[s] Speed: 20.4[samples/s]
2022-05-11 00:50:22,892 reid_baseline.train INFO: normal accuracy 0.5413516609392898 2.1612870693206787 
2022-05-11 00:50:22,893 reid_baseline.train INFO: Classify Domain Adapatation Validation Results - Epoch: 38
2022-05-11 00:50:22,893 reid_baseline.train INFO: Accuracy: 54.1%, best Accuracy: 54.6%, min Mean_entropy: 2e+00
2022-05-11 00:51:42,954 reid_baseline.train INFO: Epoch[39] Iteration[100/147] Loss1: 0.800, Loss2: 1.744, Loss3: -0.024,  Acc: 0.672, Acc2: 0.706, Acc2_pse: 0.706, Base Lr: 2.83e-05
2022-05-11 00:52:17,387 reid_baseline.train INFO: Epoch 39 done. Time per batch: 0.790[s] Speed: 20.3[samples/s]
2022-05-11 00:54:23,006 reid_baseline.train INFO: normal accuracy 0.5413516609392898 2.183647394180298 
2022-05-11 00:54:23,007 reid_baseline.train INFO: Classify Domain Adapatation Validation Results - Epoch: 39
2022-05-11 00:54:23,007 reid_baseline.train INFO: Accuracy: 54.1%, best Accuracy: 54.6%, min Mean_entropy: 2e+00
2022-05-11 00:55:44,146 reid_baseline.train INFO: Epoch[40] Iteration[100/147] Loss1: 0.797, Loss2: 1.736, Loss3: -0.086,  Acc: 0.676, Acc2: 0.720, Acc2_pse: 0.720, Base Lr: 1.60e-05
2022-05-11 00:56:17,737 reid_baseline.train INFO: Epoch 40 done. Time per batch: 0.791[s] Speed: 20.2[samples/s]
2022-05-11 00:58:23,563 reid_baseline.train INFO: normal accuracy 0.5415807560137457 2.078794002532959 
2022-05-11 00:58:23,563 reid_baseline.train INFO: Classify Domain Adapatation Validation Results - Epoch: 40
2022-05-11 00:58:23,563 reid_baseline.train INFO: Accuracy: 54.2%, best Accuracy: 54.6%, min Mean_entropy: 2e+00
best model preformance is 0.5461626575028636
Loading pretrained model for finetuning from ../logs/uda/deit_base/office-home/Art2ClipartDRI_Contrastive0.0/transformer_best_model.pth
2022-05-11 01:00:28,389 reid_baseline.train INFO: normal accuracy 0.5461626575028636 2.1774439811706543 
2022-05-11 01:00:28,390 reid_baseline.train INFO: Classify Domain Adapatation Validation Results - Best model
2022-05-11 01:00:28,390 reid_baseline.train INFO: Accuracy: 54.6%
2022-05-11 01:02:16,884 reid_baseline.train INFO: normal accuracy 0.9122373300370828 1.1619288921356201 
2022-05-11 01:02:16,884 reid_baseline.train INFO: Classify Domain Adapatation Source Results - Best model
2022-05-11 01:02:16,884 reid_baseline.train INFO: Accuracy: 91.2%
2022-05-11 01:02:22,328 reid_baseline INFO: Saving model in the path :../logs/uda/deit_base/office-home/Art2ProductDRI_Contrastive0.0
2022-05-11 01:02:22,329 reid_baseline INFO: Namespace(config_file='configs/uda.yml', opts=['MODEL.DEVICE_ID', "('0')", 'OUTPUT_DIR', '../logs/uda/deit_base/office-home/Art2ProductDRI_Contrastive0.0', 'DATASETS.ROOT_TRAIN_DIR', '../data/OfficeHomeDataset/Art.txt', 'DATASETS.ROOT_TRAIN_DIR2', '../data/OfficeHomeDataset/Product.txt', 'DATASETS.ROOT_TEST_DIR', '../data/OfficeHomeDataset/Product.txt', 'DATASETS.NAMES', 'OfficeHome', 'DATASETS.NAMES2', 'OfficeHome', 'MODEL.Transformer_TYPE', 'uda_vit_base_patch16_224_TransReID'], local_rank=0, patch_size=8, dom_cls=False, layer_num=1, dom_weight=0.0)
2022-05-11 01:02:22,329 reid_baseline INFO: Loaded configuration file configs/uda.yml
2022-05-11 01:02:22,329 reid_baseline INFO: 
MODEL:
  PRETRAIN_CHOICE: 'imagenet'
  PRETRAIN_PATH: '../data/pretrainModel/deit_base_distilled_patch16_224-df68dfff.pth'
  METRIC_LOSS_TYPE: 'triplet'
  IF_LABELSMOOTH: 'on'
  IF_WITH_CENTER: 'no'
  NAME: 'transformer'
  NO_MARGIN: True
  DEVICE_ID: ('0')
  Transformer_TYPE: 'uda_vit_base_patch16_224_TransReID' #uda_vit_small_patch16_224_TransReID
  STRIDE_SIZE: [16, 16]
  BLOCK_PATTERN: '3_branches'
  TASK_TYPE: 'classify_DA'
  UDA_STAGE: 'UDA'
#  CAMERA_EMBEDDING: True
#  VIEWPOINT_EMBEDDING: True

INPUT:
  SIZE_TRAIN: [256, 256]
  SIZE_TEST: [256, 256]
  SIZE_CROP: [224, 224]
  PROB: 0.5 # random horizontal flip
  RE_PROB: 0.0 # random erasing
  PADDING: 0
  PIXEL_MEAN: [0.485, 0.456, 0.406]
  PIXEL_STD: [0.229, 0.224, 0.225]

DATASETS:
  NAMES: ('OURAPI')
  ROOT_TRAIN_DIR: ('./datasets/reid_datasets/Corrected_Market1501')
  NAMES2: ('OURAPI')
  ROOT_TRAIN_DIR2: ('./datasets/reid_datasets/Refined_DukeMTMC_reID')
  ROOT_TEST_DIR: ('./datasets/reid_datasets/Refined_DukeMTMC_reID')

DATALOADER:
  SAMPLER: 'softmax'
  NUM_INSTANCE: 4
  NUM_WORKERS: 4

SOLVER:
  OPTIMIZER_NAME: 'SGD'
  MAX_EPOCHS: 40
  BASE_LR: 0.008
  IMS_PER_BATCH: 16
  STEPS: [40, 80]
  GAMMA: 0.
  WARMUP_FACTOR: 0.01
  WARMUP_EPOCHS: 10
  WARMUP_METHOD: 'linear'
  LARGE_FC_LR: False
  CHECKPOINT_PERIOD: 10
  LOG_PERIOD: 100
  EVAL_PERIOD: 1
  WEIGHT_DECAY:  1e-4
  WEIGHT_DECAY_BIAS: 1e-4
  BIAS_LR_FACTOR: 2

TEST:
  EVAL: True
  IMS_PER_BATCH: 64
  RE_RANKING: False
  RE_RANKING_TRACK: False

  WEIGHT: '../logs/trans4DA/transformer_120.pth'
  NECK_FEAT: 'after'
  FEAT_NORM: 'yes'

OUTPUT_DIR: '../logs/trans4DA'



2022-05-11 01:02:22,329 reid_baseline INFO: Running with config:
DATALOADER:
  NUM_INSTANCE: 4
  NUM_WORKERS: 4
  SAMPLER: softmax
DATASETS:
  NAMES: OfficeHome
  NAMES2: OfficeHome
  PLUS_NUM_ID: 100
  QUERY_MINING: False
  ROOT_TEST_DIR: ../data/OfficeHomeDataset/Product.txt
  ROOT_TRAIN_DIR: ../data/OfficeHomeDataset/Art.txt
  ROOT_TRAIN_DIR2: ../data/OfficeHomeDataset/Product.txt
INPUT:
  AA_PROB: 0.0
  PADDING: 0
  PIXEL_MEAN: [0.485, 0.456, 0.406]
  PIXEL_STD: [0.229, 0.224, 0.225]
  PROB: 0.5
  RE_PROB: 0.0
  SIZE_CROP: [224, 224]
  SIZE_TEST: [256, 256]
  SIZE_TRAIN: [256, 256]
MODEL:
  AIE_COE: 1.5
  BLOCK_PATTERN: 3_branches
  CAMERA_EMBEDDING: False
  COS_LAYER: False
  DEVICE: cuda
  DEVICE_ID: 0
  DEVIDE_LENGTH: 4
  DIST_TRAIN: False
  DROP_OUT: 0.0
  DROP_PATH: 0.1
  FC_SETTING: TransReID
  FROZEN: -1
  ID_LOSS_TYPE: softmax
  ID_LOSS_WEIGHT: 1.0
  IF_LABELSMOOTH: on
  IF_WITH_CENTER: no
  LAST_STRIDE: 1
  LOCAL_F: False
  METRIC_LOSS_TYPE: triplet
  NAME: transformer
  NECK: bnneck
  NO_MARGIN: True
  NO_SHUFFLE: False
  PATCH_SHUFFLE: 2
  PRETRAIN_CHOICE: imagenet
  PRETRAIN_PATH: ../data/pretrainModel/deit_base_distilled_patch16_224-df68dfff.pth
  PROB: 0.0
  RECIP_LOSS: 
  STRIDE_SIZE: [16, 16]
  TASK_TYPE: classify_DA
  THRESH: 0.23
  TRIPLET_LOSS_WEIGHT: 1.0
  Transformer_TYPE: uda_vit_base_patch16_224_TransReID
  UDA_STAGE: UDA
  VIEWPOINT_EMBEDDING: False
  YIWEI_NUM: 5
  lameda: 0.5
OUTPUT_DIR: ../logs/uda/deit_base/office-home/Art2ProductDRI_Contrastive0.0
SOLVER:
  BASE_LR: 0.008
  BIAS_LR_FACTOR: 2
  CENTER_LOSS_WEIGHT: 0.0005
  CENTER_LR: 0.5
  CHECKPOINT_PERIOD: 10
  CLUSTER_MARGIN: 0.3
  COSINE_MARGIN: 0.5
  COSINE_SCALE: 30
  EVAL_PERIOD: 1
  GAMMA: 0.0
  IMS_PER_BATCH: 16
  LARGE_FC_LR: False
  LOG_PERIOD: 100
  MARGIN: 0.3
  MAX_EPOCHS: 40
  MOMENTUM: 0.9
  OPTIMIZER_NAME: SGD
  RANGE_ALPHA: 0
  RANGE_BETA: 1
  RANGE_K: 2
  RANGE_LOSS_WEIGHT: 1
  RANGE_MARGIN: 0.3
  SEED: 1234
  STEPS: (40, 80)
  WARMUP_EPOCHS: 10
  WARMUP_FACTOR: 0.01
  WARMUP_METHOD: linear
  WEIGHT_DECAY: 0.0001
  WEIGHT_DECAY_BIAS: 0.0001
  WITH_PSEUDO_LABEL_FILTER: False
TEST:
  DIST_MAT: dist_mat.npy
  EVAL: True
  FEAT_NORM: yes
  FLIP_FEATS: off
  IMS_PER_BATCH: 64
  NECK_FEAT: after
  RE_RANKING: False
  RE_RANKING_TRACK: False
  WEIGHT: ../logs/trans4DA/transformer_120.pth
=> Office-Home loaded
Dataset statistics:
train Art and valid is Product
  ----------------------------------------
  subset   | # ids | # images | # cameras
  ----------------------------------------
  train   |    65 |     2427 |         1
  valid   |    65 |     4439 |         1
  ----------------------------------------
=> Office-Home loaded
Dataset statistics:
train Product and valid is Product
  ----------------------------------------
  subset   | # ids | # images | # cameras
  ----------------------------------------
  train   |    65 |     4439 |         1
  valid   |    65 |     4439 |         1
  ----------------------------------------
using Transformer_type: uda_vit_base_patch16_224_TransReID as a backbone
using stride: [16, 16], and part number is num_y14 * num_x14
using drop_path_rate is : 0.1
using aie_xishu is : 1.5
using 3branches blocks
distill need to choose right cls token in the pth
Resized position embedding: %s to %s torch.Size([1, 197, 768]) torch.Size([1, 197, 768])
Position embedding resize to height:14 width: 14
Loading pretrained ImageNet model......from ../data/pretrainModel/deit_base_distilled_patch16_224-df68dfff.pth
===========building uda transformer===========
label smooth on, numclasses: 65
2022-05-11 01:02:33,587 reid_baseline.train INFO: start training
2022-05-11 01:04:09,431 reid_baseline.train INFO: Epoch[1] Iteration[100/147] Loss1: 1.475, Loss2: 4.170, Loss3: 0.016,  Acc: 0.343, Acc2: 0.022, Acc2_pse: 0.022, Base Lr: 8.72e-04
2022-05-11 01:04:45,446 reid_baseline.train INFO: Epoch 1 done. Time per batch: 0.886[s] Speed: 18.1[samples/s]
2022-05-11 01:06:54,965 reid_baseline.train INFO: normal accuracy 0.048434332056769544 4.172848224639893 
2022-05-11 01:06:55,717 reid_baseline.train INFO: Classify Domain Adapatation Validation Results - Epoch: 1
2022-05-11 01:06:55,717 reid_baseline.train INFO: Accuracy: 4.8%, best Accuracy: 4.8%, min Mean_entropy: 4e+00
2022-05-11 01:08:14,863 reid_baseline.train INFO: Epoch[2] Iteration[100/147] Loss1: 1.146, Loss2: 4.135, Loss3: -0.029,  Acc: 0.507, Acc2: 0.095, Acc2_pse: 0.095, Base Lr: 1.66e-03
2022-05-11 01:08:49,375 reid_baseline.train INFO: Epoch 2 done. Time per batch: 0.784[s] Speed: 20.4[samples/s]
2022-05-11 01:11:00,609 reid_baseline.train INFO: normal accuracy 0.11736877675152062 4.171815872192383 
2022-05-11 01:11:01,404 reid_baseline.train INFO: Classify Domain Adapatation Validation Results - Epoch: 2
2022-05-11 01:11:01,404 reid_baseline.train INFO: Accuracy: 11.7%, best Accuracy: 11.7%, min Mean_entropy: 4e+00
2022-05-11 01:12:21,052 reid_baseline.train INFO: Epoch[3] Iteration[100/147] Loss1: 0.966, Loss2: 4.081, Loss3: -0.029,  Acc: 0.600, Acc2: 0.107, Acc2_pse: 0.107, Base Lr: 2.46e-03
2022-05-11 01:12:55,409 reid_baseline.train INFO: Epoch 3 done. Time per batch: 0.786[s] Speed: 20.4[samples/s]
2022-05-11 01:15:00,230 reid_baseline.train INFO: normal accuracy 0.14012164902004956 4.168206214904785 
2022-05-11 01:15:01,039 reid_baseline.train INFO: Classify Domain Adapatation Validation Results - Epoch: 3
2022-05-11 01:15:01,040 reid_baseline.train INFO: Accuracy: 14.0%, best Accuracy: 14.0%, min Mean_entropy: 4e+00
2022-05-11 01:16:19,557 reid_baseline.train INFO: Epoch[4] Iteration[100/147] Loss1: 0.946, Loss2: 3.983, Loss3: -0.008,  Acc: 0.594, Acc2: 0.132, Acc2_pse: 0.132, Base Lr: 3.25e-03
2022-05-11 01:16:52,902 reid_baseline.train INFO: Epoch 4 done. Time per batch: 0.769[s] Speed: 20.8[samples/s]
2022-05-11 01:19:02,188 reid_baseline.train INFO: normal accuracy 0.14935796350529398 4.156795978546143 
2022-05-11 01:19:02,975 reid_baseline.train INFO: Classify Domain Adapatation Validation Results - Epoch: 4
2022-05-11 01:19:02,975 reid_baseline.train INFO: Accuracy: 14.9%, best Accuracy: 14.9%, min Mean_entropy: 4e+00
2022-05-11 01:20:21,432 reid_baseline.train INFO: Epoch[5] Iteration[100/147] Loss1: 0.924, Loss2: 3.867, Loss3: -0.165,  Acc: 0.608, Acc2: 0.134, Acc2_pse: 0.134, Base Lr: 4.04e-03
2022-05-11 01:20:59,739 reid_baseline.train INFO: Epoch 5 done. Time per batch: 0.799[s] Speed: 20.0[samples/s]
2022-05-11 01:23:11,443 reid_baseline.train INFO: normal accuracy 0.17661635503491777 4.120643138885498 
2022-05-11 01:23:12,269 reid_baseline.train INFO: Classify Domain Adapatation Validation Results - Epoch: 5
2022-05-11 01:23:12,269 reid_baseline.train INFO: Accuracy: 17.7%, best Accuracy: 17.7%, min Mean_entropy: 4e+00
2022-05-11 01:24:32,855 reid_baseline.train INFO: Epoch[6] Iteration[100/147] Loss1: 0.871, Loss2: 3.698, Loss3: -0.137,  Acc: 0.630, Acc2: 0.178, Acc2_pse: 0.178, Base Lr: 4.83e-03
2022-05-11 01:25:05,534 reid_baseline.train INFO: Epoch 6 done. Time per batch: 0.797[s] Speed: 20.1[samples/s]
2022-05-11 01:27:12,790 reid_baseline.train INFO: normal accuracy 0.2293309303897274 4.0509748458862305 
2022-05-11 01:27:13,628 reid_baseline.train INFO: Classify Domain Adapatation Validation Results - Epoch: 6
2022-05-11 01:27:13,628 reid_baseline.train INFO: Accuracy: 22.9%, best Accuracy: 22.9%, min Mean_entropy: 4e+00
2022-05-11 01:28:33,285 reid_baseline.train INFO: Epoch[7] Iteration[100/147] Loss1: 0.868, Loss2: 3.517, Loss3: 0.022,  Acc: 0.631, Acc2: 0.225, Acc2_pse: 0.225, Base Lr: 5.62e-03
2022-05-11 01:29:06,918 reid_baseline.train INFO: Epoch 7 done. Time per batch: 0.792[s] Speed: 20.2[samples/s]
2022-05-11 01:31:21,129 reid_baseline.train INFO: normal accuracy 0.30457310205001126 3.9364333152770996 
2022-05-11 01:31:21,949 reid_baseline.train INFO: Classify Domain Adapatation Validation Results - Epoch: 7
2022-05-11 01:31:21,949 reid_baseline.train INFO: Accuracy: 30.5%, best Accuracy: 30.5%, min Mean_entropy: 4e+00
2022-05-11 01:32:43,735 reid_baseline.train INFO: Epoch[8] Iteration[100/147] Loss1: 0.823, Loss2: 3.299, Loss3: 0.169,  Acc: 0.665, Acc2: 0.265, Acc2_pse: 0.265, Base Lr: 6.42e-03
2022-05-11 01:33:17,884 reid_baseline.train INFO: Epoch 8 done. Time per batch: 0.805[s] Speed: 19.9[samples/s]
2022-05-11 01:35:27,284 reid_baseline.train INFO: normal accuracy 0.3651723361117369 3.759770393371582 
2022-05-11 01:35:28,129 reid_baseline.train INFO: Classify Domain Adapatation Validation Results - Epoch: 8
2022-05-11 01:35:28,129 reid_baseline.train INFO: Accuracy: 36.5%, best Accuracy: 36.5%, min Mean_entropy: 4e+00
2022-05-11 01:36:48,457 reid_baseline.train INFO: Epoch[9] Iteration[100/147] Loss1: 0.866, Loss2: 3.073, Loss3: -0.071,  Acc: 0.621, Acc2: 0.315, Acc2_pse: 0.315, Base Lr: 7.21e-03
2022-05-11 01:37:24,180 reid_baseline.train INFO: Epoch 9 done. Time per batch: 0.795[s] Speed: 20.1[samples/s]
2022-05-11 01:39:30,415 reid_baseline.train INFO: normal accuracy 0.42487046632124353 3.427271842956543 
2022-05-11 01:39:31,300 reid_baseline.train INFO: Classify Domain Adapatation Validation Results - Epoch: 9
2022-05-11 01:39:31,300 reid_baseline.train INFO: Accuracy: 42.5%, best Accuracy: 42.5%, min Mean_entropy: 3e+00
2022-05-11 01:40:50,175 reid_baseline.train INFO: Epoch[10] Iteration[100/147] Loss1: 0.845, Loss2: 2.843, Loss3: 0.107,  Acc: 0.639, Acc2: 0.389, Acc2_pse: 0.389, Base Lr: 6.83e-03
2022-05-11 01:41:22,939 reid_baseline.train INFO: Epoch 10 done. Time per batch: 0.781[s] Speed: 20.5[samples/s]
2022-05-11 01:43:35,790 reid_baseline.train INFO: normal accuracy 0.48614552827213336 3.2844605445861816 
2022-05-11 01:43:36,580 reid_baseline.train INFO: Classify Domain Adapatation Validation Results - Epoch: 10
2022-05-11 01:43:36,581 reid_baseline.train INFO: Accuracy: 48.6%, best Accuracy: 48.6%, min Mean_entropy: 3e+00
2022-05-11 01:44:56,417 reid_baseline.train INFO: Epoch[11] Iteration[100/147] Loss1: 0.847, Loss2: 2.737, Loss3: -0.046,  Acc: 0.653, Acc2: 0.413, Acc2_pse: 0.413, Base Lr: 6.60e-03
2022-05-11 01:45:31,797 reid_baseline.train INFO: Epoch 11 done. Time per batch: 0.795[s] Speed: 20.1[samples/s]
2022-05-11 01:47:43,811 reid_baseline.train INFO: normal accuracy 0.518810542915071 3.106172800064087 
2022-05-11 01:47:46,774 reid_baseline.train INFO: Classify Domain Adapatation Validation Results - Epoch: 11
2022-05-11 01:47:46,774 reid_baseline.train INFO: Accuracy: 51.9%, best Accuracy: 51.9%, min Mean_entropy: 3e+00
2022-05-11 01:49:06,766 reid_baseline.train INFO: Epoch[12] Iteration[100/147] Loss1: 0.856, Loss2: 2.572, Loss3: 0.158,  Acc: 0.641, Acc2: 0.452, Acc2_pse: 0.452, Base Lr: 6.35e-03
2022-05-11 01:49:39,479 reid_baseline.train INFO: Epoch 12 done. Time per batch: 0.783[s] Speed: 20.4[samples/s]
2022-05-11 01:51:46,499 reid_baseline.train INFO: normal accuracy 0.5609371480063077 3.0041091442108154 
2022-05-11 01:51:47,312 reid_baseline.train INFO: Classify Domain Adapatation Validation Results - Epoch: 12
2022-05-11 01:51:47,312 reid_baseline.train INFO: Accuracy: 56.1%, best Accuracy: 56.1%, min Mean_entropy: 3e+00
2022-05-11 01:53:07,144 reid_baseline.train INFO: Epoch[13] Iteration[100/147] Loss1: 0.847, Loss2: 2.458, Loss3: -0.055,  Acc: 0.644, Acc2: 0.492, Acc2_pse: 0.492, Base Lr: 6.09e-03
2022-05-11 01:53:42,673 reid_baseline.train INFO: Epoch 13 done. Time per batch: 0.801[s] Speed: 20.0[samples/s]
2022-05-11 01:55:55,289 reid_baseline.train INFO: normal accuracy 0.575580085604866 2.913952350616455 
2022-05-11 01:55:56,097 reid_baseline.train INFO: Classify Domain Adapatation Validation Results - Epoch: 13
2022-05-11 01:55:56,098 reid_baseline.train INFO: Accuracy: 57.6%, best Accuracy: 57.6%, min Mean_entropy: 3e+00
2022-05-11 01:57:14,929 reid_baseline.train INFO: Epoch[14] Iteration[100/147] Loss1: 0.851, Loss2: 2.380, Loss3: 0.050,  Acc: 0.629, Acc2: 0.510, Acc2_pse: 0.510, Base Lr: 5.82e-03
2022-05-11 01:57:47,969 reid_baseline.train INFO: Epoch 14 done. Time per batch: 0.777[s] Speed: 20.6[samples/s]
2022-05-11 01:59:54,757 reid_baseline.train INFO: normal accuracy 0.6041901329128182 2.832960844039917 
2022-05-11 01:59:57,822 reid_baseline.train INFO: Classify Domain Adapatation Validation Results - Epoch: 14
2022-05-11 01:59:57,823 reid_baseline.train INFO: Accuracy: 60.4%, best Accuracy: 60.4%, min Mean_entropy: 3e+00
2022-05-11 02:01:18,373 reid_baseline.train INFO: Epoch[15] Iteration[100/147] Loss1: 0.835, Loss2: 2.298, Loss3: 0.006,  Acc: 0.651, Acc2: 0.532, Acc2_pse: 0.532, Base Lr: 5.54e-03
2022-05-11 02:01:51,584 reid_baseline.train INFO: Epoch 15 done. Time per batch: 0.796[s] Speed: 20.1[samples/s]
2022-05-11 02:03:56,327 reid_baseline.train INFO: normal accuracy 0.6276188330705114 2.6755545139312744 
2022-05-11 02:03:57,112 reid_baseline.train INFO: Classify Domain Adapatation Validation Results - Epoch: 15
2022-05-11 02:03:57,112 reid_baseline.train INFO: Accuracy: 62.8%, best Accuracy: 62.8%, min Mean_entropy: 3e+00
2022-05-11 02:05:17,922 reid_baseline.train INFO: Epoch[16] Iteration[100/147] Loss1: 0.821, Loss2: 2.214, Loss3: -0.016,  Acc: 0.645, Acc2: 0.558, Acc2_pse: 0.558, Base Lr: 5.24e-03
2022-05-11 02:05:51,720 reid_baseline.train INFO: Epoch 16 done. Time per batch: 0.795[s] Speed: 20.1[samples/s]
2022-05-11 02:08:05,559 reid_baseline.train INFO: normal accuracy 0.6591574678981753 2.664726495742798 
2022-05-11 02:08:06,340 reid_baseline.train INFO: Classify Domain Adapatation Validation Results - Epoch: 16
2022-05-11 02:08:06,341 reid_baseline.train INFO: Accuracy: 65.9%, best Accuracy: 65.9%, min Mean_entropy: 3e+00
2022-05-11 02:09:27,507 reid_baseline.train INFO: Epoch[17] Iteration[100/147] Loss1: 0.824, Loss2: 2.171, Loss3: 0.003,  Acc: 0.656, Acc2: 0.583, Acc2_pse: 0.583, Base Lr: 4.94e-03
2022-05-11 02:10:02,720 reid_baseline.train INFO: Epoch 17 done. Time per batch: 0.803[s] Speed: 19.9[samples/s]
2022-05-11 02:12:17,813 reid_baseline.train INFO: normal accuracy 0.6528497409326425 2.5293548107147217 
2022-05-11 02:12:17,813 reid_baseline.train INFO: Classify Domain Adapatation Validation Results - Epoch: 17
2022-05-11 02:12:17,813 reid_baseline.train INFO: Accuracy: 65.3%, best Accuracy: 65.9%, min Mean_entropy: 3e+00
2022-05-11 02:13:44,392 reid_baseline.train INFO: Epoch[18] Iteration[100/147] Loss1: 0.838, Loss2: 2.097, Loss3: -0.105,  Acc: 0.643, Acc2: 0.601, Acc2_pse: 0.601, Base Lr: 4.63e-03
2022-05-11 02:14:19,003 reid_baseline.train INFO: Epoch 18 done. Time per batch: 0.829[s] Speed: 19.3[samples/s]
2022-05-11 02:16:30,412 reid_baseline.train INFO: normal accuracy 0.6697454381617481 2.4239161014556885 
2022-05-11 02:16:31,199 reid_baseline.train INFO: Classify Domain Adapatation Validation Results - Epoch: 18
2022-05-11 02:16:31,200 reid_baseline.train INFO: Accuracy: 67.0%, best Accuracy: 67.0%, min Mean_entropy: 2e+00
2022-05-11 02:17:52,229 reid_baseline.train INFO: Epoch[19] Iteration[100/147] Loss1: 0.803, Loss2: 2.057, Loss3: -0.009,  Acc: 0.665, Acc2: 0.601, Acc2_pse: 0.601, Base Lr: 4.32e-03
2022-05-11 02:18:25,114 reid_baseline.train INFO: Epoch 19 done. Time per batch: 0.797[s] Speed: 20.1[samples/s]
2022-05-11 02:20:51,848 reid_baseline.train INFO: normal accuracy 0.6740256814597883 2.2136716842651367 
2022-05-11 02:20:52,663 reid_baseline.train INFO: Classify Domain Adapatation Validation Results - Epoch: 19
2022-05-11 02:20:52,664 reid_baseline.train INFO: Accuracy: 67.4%, best Accuracy: 67.4%, min Mean_entropy: 2e+00
2022-05-11 02:22:16,498 reid_baseline.train INFO: Epoch[20] Iteration[100/147] Loss1: 0.824, Loss2: 1.977, Loss3: 0.005,  Acc: 0.650, Acc2: 0.636, Acc2_pse: 0.636, Base Lr: 4.01e-03
2022-05-11 02:22:50,836 reid_baseline.train INFO: Epoch 20 done. Time per batch: 0.826[s] Speed: 19.4[samples/s]
2022-05-11 02:25:20,670 reid_baseline.train INFO: normal accuracy 0.6778553728317188 2.4194273948669434 
2022-05-11 02:25:21,506 reid_baseline.train INFO: Classify Domain Adapatation Validation Results - Epoch: 20
2022-05-11 02:25:21,506 reid_baseline.train INFO: Accuracy: 67.8%, best Accuracy: 67.8%, min Mean_entropy: 2e+00
2022-05-11 02:26:48,249 reid_baseline.train INFO: Epoch[21] Iteration[100/147] Loss1: 0.821, Loss2: 2.034, Loss3: -0.076,  Acc: 0.657, Acc2: 0.623, Acc2_pse: 0.623, Base Lr: 3.69e-03
2022-05-11 02:27:24,184 reid_baseline.train INFO: Epoch 21 done. Time per batch: 0.839[s] Speed: 19.1[samples/s]
2022-05-11 02:29:52,689 reid_baseline.train INFO: normal accuracy 0.6819103401667043 2.2909810543060303 
2022-05-11 02:29:53,531 reid_baseline.train INFO: Classify Domain Adapatation Validation Results - Epoch: 21
2022-05-11 02:29:53,531 reid_baseline.train INFO: Accuracy: 68.2%, best Accuracy: 68.2%, min Mean_entropy: 2e+00
2022-05-11 02:31:20,148 reid_baseline.train INFO: Epoch[22] Iteration[100/147] Loss1: 0.826, Loss2: 1.945, Loss3: -0.012,  Acc: 0.654, Acc2: 0.650, Acc2_pse: 0.650, Base Lr: 3.38e-03
2022-05-11 02:31:54,638 reid_baseline.train INFO: Epoch 22 done. Time per batch: 0.841[s] Speed: 19.0[samples/s]
2022-05-11 02:34:27,492 reid_baseline.train INFO: normal accuracy 0.6922730344672223 2.276876449584961 
2022-05-11 02:34:28,413 reid_baseline.train INFO: Classify Domain Adapatation Validation Results - Epoch: 22
2022-05-11 02:34:28,413 reid_baseline.train INFO: Accuracy: 69.2%, best Accuracy: 69.2%, min Mean_entropy: 2e+00
2022-05-11 02:35:54,085 reid_baseline.train INFO: Epoch[23] Iteration[100/147] Loss1: 0.868, Loss2: 1.896, Loss3: -0.091,  Acc: 0.633, Acc2: 0.667, Acc2_pse: 0.667, Base Lr: 3.08e-03
2022-05-11 02:36:31,711 reid_baseline.train INFO: Epoch 23 done. Time per batch: 0.856[s] Speed: 18.7[samples/s]
2022-05-11 02:39:05,293 reid_baseline.train INFO: normal accuracy 0.6938499662086055 2.157569408416748 
2022-05-11 02:39:06,163 reid_baseline.train INFO: Classify Domain Adapatation Validation Results - Epoch: 23
2022-05-11 02:39:06,163 reid_baseline.train INFO: Accuracy: 69.4%, best Accuracy: 69.4%, min Mean_entropy: 2e+00
2022-05-11 02:40:35,025 reid_baseline.train INFO: Epoch[24] Iteration[100/147] Loss1: 0.796, Loss2: 1.898, Loss3: -0.029,  Acc: 0.674, Acc2: 0.669, Acc2_pse: 0.669, Base Lr: 2.77e-03
2022-05-11 02:41:10,719 reid_baseline.train INFO: Epoch 24 done. Time per batch: 0.871[s] Speed: 18.4[samples/s]
2022-05-11 02:43:45,666 reid_baseline.train INFO: normal accuracy 0.688218067132237 2.1269397735595703 
2022-05-11 02:43:45,667 reid_baseline.train INFO: Classify Domain Adapatation Validation Results - Epoch: 24
2022-05-11 02:43:45,667 reid_baseline.train INFO: Accuracy: 68.8%, best Accuracy: 69.4%, min Mean_entropy: 2e+00
2022-05-11 02:45:15,621 reid_baseline.train INFO: Epoch[25] Iteration[100/147] Loss1: 0.818, Loss2: 1.904, Loss3: -0.014,  Acc: 0.658, Acc2: 0.664, Acc2_pse: 0.664, Base Lr: 2.48e-03
2022-05-11 02:45:51,574 reid_baseline.train INFO: Epoch 25 done. Time per batch: 0.868[s] Speed: 18.4[samples/s]
2022-05-11 02:48:18,841 reid_baseline.train INFO: normal accuracy 0.688218067132237 2.0479068756103516 
2022-05-11 02:48:18,841 reid_baseline.train INFO: Classify Domain Adapatation Validation Results - Epoch: 25
2022-05-11 02:48:18,841 reid_baseline.train INFO: Accuracy: 68.8%, best Accuracy: 69.4%, min Mean_entropy: 2e+00
2022-05-11 02:49:48,407 reid_baseline.train INFO: Epoch[26] Iteration[100/147] Loss1: 0.847, Loss2: 1.861, Loss3: -0.035,  Acc: 0.642, Acc2: 0.676, Acc2_pse: 0.676, Base Lr: 2.20e-03
2022-05-11 02:50:26,250 reid_baseline.train INFO: Epoch 26 done. Time per batch: 0.885[s] Speed: 18.1[samples/s]
2022-05-11 02:53:00,415 reid_baseline.train INFO: normal accuracy 0.7057895922505069 2.1371231079101562 
2022-05-11 02:53:03,049 reid_baseline.train INFO: Classify Domain Adapatation Validation Results - Epoch: 26
2022-05-11 02:53:03,050 reid_baseline.train INFO: Accuracy: 70.6%, best Accuracy: 70.6%, min Mean_entropy: 2e+00
2022-05-11 02:54:32,261 reid_baseline.train INFO: Epoch[27] Iteration[100/147] Loss1: 0.843, Loss2: 1.793, Loss3: 0.004,  Acc: 0.646, Acc2: 0.700, Acc2_pse: 0.700, Base Lr: 1.92e-03
2022-05-11 02:55:08,773 reid_baseline.train INFO: Epoch 27 done. Time per batch: 0.873[s] Speed: 18.3[samples/s]
2022-05-11 02:57:40,131 reid_baseline.train INFO: normal accuracy 0.7057895922505069 2.076295852661133 
2022-05-11 02:57:40,131 reid_baseline.train INFO: Classify Domain Adapatation Validation Results - Epoch: 27
2022-05-11 02:57:40,131 reid_baseline.train INFO: Accuracy: 70.6%, best Accuracy: 70.6%, min Mean_entropy: 2e+00
2022-05-11 02:59:06,889 reid_baseline.train INFO: Epoch[28] Iteration[100/147] Loss1: 0.797, Loss2: 1.828, Loss3: 0.004,  Acc: 0.675, Acc2: 0.687, Acc2_pse: 0.687, Base Lr: 1.66e-03
2022-05-11 02:59:43,898 reid_baseline.train INFO: Epoch 28 done. Time per batch: 0.865[s] Speed: 18.5[samples/s]
2022-05-11 03:02:21,030 reid_baseline.train INFO: normal accuracy 0.7053390403243974 2.0390353202819824 
2022-05-11 03:02:21,030 reid_baseline.train INFO: Classify Domain Adapatation Validation Results - Epoch: 28
2022-05-11 03:02:21,030 reid_baseline.train INFO: Accuracy: 70.5%, best Accuracy: 70.6%, min Mean_entropy: 2e+00
2022-05-11 03:03:48,656 reid_baseline.train INFO: Epoch[29] Iteration[100/147] Loss1: 0.807, Loss2: 1.773, Loss3: 0.062,  Acc: 0.671, Acc2: 0.702, Acc2_pse: 0.702, Base Lr: 1.42e-03
2022-05-11 03:04:26,439 reid_baseline.train INFO: Epoch 29 done. Time per batch: 0.877[s] Speed: 18.2[samples/s]
2022-05-11 03:06:58,086 reid_baseline.train INFO: normal accuracy 0.7087181797702186 2.081977605819702 
2022-05-11 03:06:58,896 reid_baseline.train INFO: Classify Domain Adapatation Validation Results - Epoch: 29
2022-05-11 03:06:58,896 reid_baseline.train INFO: Accuracy: 70.9%, best Accuracy: 70.9%, min Mean_entropy: 2e+00
2022-05-11 03:08:26,112 reid_baseline.train INFO: Epoch[30] Iteration[100/147] Loss1: 0.831, Loss2: 1.783, Loss3: -0.068,  Acc: 0.662, Acc2: 0.698, Acc2_pse: 0.698, Base Lr: 1.19e-03
2022-05-11 03:09:04,304 reid_baseline.train INFO: Epoch 30 done. Time per batch: 0.865[s] Speed: 18.5[samples/s]
2022-05-11 03:11:37,924 reid_baseline.train INFO: normal accuracy 0.702185176841631 2.0088841915130615 
2022-05-11 03:11:37,925 reid_baseline.train INFO: Classify Domain Adapatation Validation Results - Epoch: 30
2022-05-11 03:11:37,925 reid_baseline.train INFO: Accuracy: 70.2%, best Accuracy: 70.9%, min Mean_entropy: 2e+00
2022-05-11 03:13:05,129 reid_baseline.train INFO: Epoch[31] Iteration[100/147] Loss1: 0.830, Loss2: 1.751, Loss3: -0.037,  Acc: 0.663, Acc2: 0.713, Acc2_pse: 0.713, Base Lr: 9.72e-04
2022-05-11 03:13:44,582 reid_baseline.train INFO: Epoch 31 done. Time per batch: 0.873[s] Speed: 18.3[samples/s]
2022-05-11 03:16:17,540 reid_baseline.train INFO: normal accuracy 0.7017346249155215 2.077512502670288 
2022-05-11 03:16:17,540 reid_baseline.train INFO: Classify Domain Adapatation Validation Results - Epoch: 31
2022-05-11 03:16:17,540 reid_baseline.train INFO: Accuracy: 70.2%, best Accuracy: 70.9%, min Mean_entropy: 2e+00
2022-05-11 03:17:45,399 reid_baseline.train INFO: Epoch[32] Iteration[100/147] Loss1: 0.833, Loss2: 1.743, Loss3: -0.038,  Acc: 0.658, Acc2: 0.704, Acc2_pse: 0.704, Base Lr: 7.78e-04
2022-05-11 03:18:25,060 reid_baseline.train INFO: Epoch 32 done. Time per batch: 0.879[s] Speed: 18.2[samples/s]
2022-05-11 03:20:59,351 reid_baseline.train INFO: normal accuracy 0.7060148682135616 2.074580192565918 
2022-05-11 03:20:59,351 reid_baseline.train INFO: Classify Domain Adapatation Validation Results - Epoch: 32
2022-05-11 03:20:59,351 reid_baseline.train INFO: Accuracy: 70.6%, best Accuracy: 70.9%, min Mean_entropy: 2e+00
2022-05-11 03:22:28,903 reid_baseline.train INFO: Epoch[33] Iteration[100/147] Loss1: 0.794, Loss2: 1.752, Loss3: 0.078,  Acc: 0.692, Acc2: 0.718, Acc2_pse: 0.718, Base Lr: 6.04e-04
2022-05-11 03:23:04,728 reid_baseline.train INFO: Epoch 33 done. Time per batch: 0.877[s] Speed: 18.2[samples/s]
2022-05-11 03:25:38,456 reid_baseline.train INFO: normal accuracy 0.7145753548096418 2.141479969024658 
2022-05-11 03:25:39,310 reid_baseline.train INFO: Classify Domain Adapatation Validation Results - Epoch: 33
2022-05-11 03:25:39,310 reid_baseline.train INFO: Accuracy: 71.5%, best Accuracy: 71.5%, min Mean_entropy: 2e+00
2022-05-11 03:27:05,947 reid_baseline.train INFO: Epoch[34] Iteration[100/147] Loss1: 0.771, Loss2: 1.718, Loss3: 0.026,  Acc: 0.686, Acc2: 0.708, Acc2_pse: 0.708, Base Lr: 4.51e-04
2022-05-11 03:27:42,509 reid_baseline.train INFO: Epoch 34 done. Time per batch: 0.860[s] Speed: 18.6[samples/s]
2022-05-11 03:29:53,373 reid_baseline.train INFO: normal accuracy 0.7109709394007659 1.9035704135894775 
2022-05-11 03:29:53,373 reid_baseline.train INFO: Classify Domain Adapatation Validation Results - Epoch: 34
2022-05-11 03:29:53,373 reid_baseline.train INFO: Accuracy: 71.1%, best Accuracy: 71.5%, min Mean_entropy: 2e+00
2022-05-11 03:31:11,962 reid_baseline.train INFO: Epoch[35] Iteration[100/147] Loss1: 0.845, Loss2: 1.737, Loss3: -0.045,  Acc: 0.655, Acc2: 0.713, Acc2_pse: 0.713, Base Lr: 3.20e-04
2022-05-11 03:31:44,897 reid_baseline.train INFO: Epoch 35 done. Time per batch: 0.774[s] Speed: 20.7[samples/s]
2022-05-11 03:33:52,894 reid_baseline.train INFO: normal accuracy 0.7125478711421491 1.9642528295516968 
2022-05-11 03:33:52,894 reid_baseline.train INFO: Classify Domain Adapatation Validation Results - Epoch: 35
2022-05-11 03:33:52,894 reid_baseline.train INFO: Accuracy: 71.3%, best Accuracy: 71.5%, min Mean_entropy: 2e+00
2022-05-11 03:35:13,702 reid_baseline.train INFO: Epoch[36] Iteration[100/147] Loss1: 0.790, Loss2: 1.737, Loss3: -0.031,  Acc: 0.669, Acc2: 0.706, Acc2_pse: 0.706, Base Lr: 2.11e-04
2022-05-11 03:35:45,713 reid_baseline.train INFO: Epoch 36 done. Time per batch: 0.800[s] Speed: 20.0[samples/s]
2022-05-11 03:37:54,120 reid_baseline.train INFO: normal accuracy 0.7109709394007659 2.0452206134796143 
2022-05-11 03:37:54,120 reid_baseline.train INFO: Classify Domain Adapatation Validation Results - Epoch: 36
2022-05-11 03:37:54,120 reid_baseline.train INFO: Accuracy: 71.1%, best Accuracy: 71.5%, min Mean_entropy: 2e+00
2022-05-11 03:39:17,385 reid_baseline.train INFO: Epoch[37] Iteration[100/147] Loss1: 0.782, Loss2: 1.776, Loss3: -0.069,  Acc: 0.674, Acc2: 0.696, Acc2_pse: 0.696, Base Lr: 1.26e-04
2022-05-11 03:39:50,588 reid_baseline.train INFO: Epoch 37 done. Time per batch: 0.819[s] Speed: 19.5[samples/s]
2022-05-11 03:42:07,630 reid_baseline.train INFO: normal accuracy 0.7098445595854922 2.016787052154541 
2022-05-11 03:42:07,630 reid_baseline.train INFO: Classify Domain Adapatation Validation Results - Epoch: 37
2022-05-11 03:42:07,630 reid_baseline.train INFO: Accuracy: 71.0%, best Accuracy: 71.5%, min Mean_entropy: 2e+00
2022-05-11 03:43:28,454 reid_baseline.train INFO: Epoch[38] Iteration[100/147] Loss1: 0.805, Loss2: 1.707, Loss3: -0.031,  Acc: 0.660, Acc2: 0.722, Acc2_pse: 0.722, Base Lr: 6.51e-05
2022-05-11 03:44:02,601 reid_baseline.train INFO: Epoch 38 done. Time per batch: 0.793[s] Speed: 20.2[samples/s]
2022-05-11 03:46:32,480 reid_baseline.train INFO: normal accuracy 0.7118720432529849 2.017674446105957 
2022-05-11 03:46:32,482 reid_baseline.train INFO: Classify Domain Adapatation Validation Results - Epoch: 38
2022-05-11 03:46:32,483 reid_baseline.train INFO: Accuracy: 71.2%, best Accuracy: 71.5%, min Mean_entropy: 2e+00
2022-05-11 03:47:57,069 reid_baseline.train INFO: Epoch[39] Iteration[100/147] Loss1: 0.802, Loss2: 1.745, Loss3: -0.027,  Acc: 0.673, Acc2: 0.708, Acc2_pse: 0.708, Base Lr: 2.83e-05
2022-05-11 03:48:33,008 reid_baseline.train INFO: Epoch 39 done. Time per batch: 0.831[s] Speed: 19.3[samples/s]
2022-05-11 03:50:58,129 reid_baseline.train INFO: normal accuracy 0.710069835548547 2.0438930988311768 
2022-05-11 03:50:58,130 reid_baseline.train INFO: Classify Domain Adapatation Validation Results - Epoch: 39
2022-05-11 03:50:58,130 reid_baseline.train INFO: Accuracy: 71.0%, best Accuracy: 71.5%, min Mean_entropy: 2e+00
2022-05-11 03:52:27,962 reid_baseline.train INFO: Epoch[40] Iteration[100/147] Loss1: 0.796, Loss2: 1.738, Loss3: -0.084,  Acc: 0.675, Acc2: 0.723, Acc2_pse: 0.723, Base Lr: 1.60e-05
2022-05-11 03:53:04,254 reid_baseline.train INFO: Epoch 40 done. Time per batch: 0.870[s] Speed: 18.4[samples/s]
2022-05-11 03:55:35,217 reid_baseline.train INFO: normal accuracy 0.7078170759179996 1.9265111684799194 
2022-05-11 03:55:35,217 reid_baseline.train INFO: Classify Domain Adapatation Validation Results - Epoch: 40
2022-05-11 03:55:35,217 reid_baseline.train INFO: Accuracy: 70.8%, best Accuracy: 71.5%, min Mean_entropy: 2e+00
best model preformance is 0.7145753548096418
Loading pretrained model for finetuning from ../logs/uda/deit_base/office-home/Art2ProductDRI_Contrastive0.0/transformer_best_model.pth
2022-05-11 03:58:10,737 reid_baseline.train INFO: normal accuracy 0.7145753548096418 2.141479969024658 
2022-05-11 03:58:10,738 reid_baseline.train INFO: Classify Domain Adapatation Validation Results - Best model
2022-05-11 03:58:10,738 reid_baseline.train INFO: Accuracy: 71.5%
2022-05-11 04:00:17,082 reid_baseline.train INFO: normal accuracy 0.9138854552946024 1.259420394897461 
2022-05-11 04:00:17,082 reid_baseline.train INFO: Classify Domain Adapatation Source Results - Best model
2022-05-11 04:00:17,082 reid_baseline.train INFO: Accuracy: 91.4%
2022-05-11 04:00:22,661 reid_baseline INFO: Saving model in the path :../logs/uda/deit_base/office-home/Art2Real_WorldDRI_Contrastive0.0
2022-05-11 04:00:22,661 reid_baseline INFO: Namespace(config_file='configs/uda.yml', opts=['MODEL.DEVICE_ID', "('0')", 'OUTPUT_DIR', '../logs/uda/deit_base/office-home/Art2Real_WorldDRI_Contrastive0.0', 'DATASETS.ROOT_TRAIN_DIR', '../data/OfficeHomeDataset/Art.txt', 'DATASETS.ROOT_TRAIN_DIR2', '../data/OfficeHomeDataset/Real_World.txt', 'DATASETS.ROOT_TEST_DIR', '../data/OfficeHomeDataset/Real_World.txt', 'DATASETS.NAMES', 'OfficeHome', 'DATASETS.NAMES2', 'OfficeHome', 'MODEL.Transformer_TYPE', 'uda_vit_base_patch16_224_TransReID'], local_rank=0, patch_size=8, dom_cls=False, layer_num=1, dom_weight=0.0)
2022-05-11 04:00:22,661 reid_baseline INFO: Loaded configuration file configs/uda.yml
2022-05-11 04:00:22,662 reid_baseline INFO: 
MODEL:
  PRETRAIN_CHOICE: 'imagenet'
  PRETRAIN_PATH: '../data/pretrainModel/deit_base_distilled_patch16_224-df68dfff.pth'
  METRIC_LOSS_TYPE: 'triplet'
  IF_LABELSMOOTH: 'on'
  IF_WITH_CENTER: 'no'
  NAME: 'transformer'
  NO_MARGIN: True
  DEVICE_ID: ('0')
  Transformer_TYPE: 'uda_vit_base_patch16_224_TransReID' #uda_vit_small_patch16_224_TransReID
  STRIDE_SIZE: [16, 16]
  BLOCK_PATTERN: '3_branches'
  TASK_TYPE: 'classify_DA'
  UDA_STAGE: 'UDA'
#  CAMERA_EMBEDDING: True
#  VIEWPOINT_EMBEDDING: True

INPUT:
  SIZE_TRAIN: [256, 256]
  SIZE_TEST: [256, 256]
  SIZE_CROP: [224, 224]
  PROB: 0.5 # random horizontal flip
  RE_PROB: 0.0 # random erasing
  PADDING: 0
  PIXEL_MEAN: [0.485, 0.456, 0.406]
  PIXEL_STD: [0.229, 0.224, 0.225]

DATASETS:
  NAMES: ('OURAPI')
  ROOT_TRAIN_DIR: ('./datasets/reid_datasets/Corrected_Market1501')
  NAMES2: ('OURAPI')
  ROOT_TRAIN_DIR2: ('./datasets/reid_datasets/Refined_DukeMTMC_reID')
  ROOT_TEST_DIR: ('./datasets/reid_datasets/Refined_DukeMTMC_reID')

DATALOADER:
  SAMPLER: 'softmax'
  NUM_INSTANCE: 4
  NUM_WORKERS: 4

SOLVER:
  OPTIMIZER_NAME: 'SGD'
  MAX_EPOCHS: 40
  BASE_LR: 0.008
  IMS_PER_BATCH: 16
  STEPS: [40, 80]
  GAMMA: 0.
  WARMUP_FACTOR: 0.01
  WARMUP_EPOCHS: 10
  WARMUP_METHOD: 'linear'
  LARGE_FC_LR: False
  CHECKPOINT_PERIOD: 10
  LOG_PERIOD: 100
  EVAL_PERIOD: 1
  WEIGHT_DECAY:  1e-4
  WEIGHT_DECAY_BIAS: 1e-4
  BIAS_LR_FACTOR: 2

TEST:
  EVAL: True
  IMS_PER_BATCH: 64
  RE_RANKING: False
  RE_RANKING_TRACK: False

  WEIGHT: '../logs/trans4DA/transformer_120.pth'
  NECK_FEAT: 'after'
  FEAT_NORM: 'yes'

OUTPUT_DIR: '../logs/trans4DA'



2022-05-11 04:00:22,662 reid_baseline INFO: Running with config:
DATALOADER:
  NUM_INSTANCE: 4
  NUM_WORKERS: 4
  SAMPLER: softmax
DATASETS:
  NAMES: OfficeHome
  NAMES2: OfficeHome
  PLUS_NUM_ID: 100
  QUERY_MINING: False
  ROOT_TEST_DIR: ../data/OfficeHomeDataset/Real_World.txt
  ROOT_TRAIN_DIR: ../data/OfficeHomeDataset/Art.txt
  ROOT_TRAIN_DIR2: ../data/OfficeHomeDataset/Real_World.txt
INPUT:
  AA_PROB: 0.0
  PADDING: 0
  PIXEL_MEAN: [0.485, 0.456, 0.406]
  PIXEL_STD: [0.229, 0.224, 0.225]
  PROB: 0.5
  RE_PROB: 0.0
  SIZE_CROP: [224, 224]
  SIZE_TEST: [256, 256]
  SIZE_TRAIN: [256, 256]
MODEL:
  AIE_COE: 1.5
  BLOCK_PATTERN: 3_branches
  CAMERA_EMBEDDING: False
  COS_LAYER: False
  DEVICE: cuda
  DEVICE_ID: 0
  DEVIDE_LENGTH: 4
  DIST_TRAIN: False
  DROP_OUT: 0.0
  DROP_PATH: 0.1
  FC_SETTING: TransReID
  FROZEN: -1
  ID_LOSS_TYPE: softmax
  ID_LOSS_WEIGHT: 1.0
  IF_LABELSMOOTH: on
  IF_WITH_CENTER: no
  LAST_STRIDE: 1
  LOCAL_F: False
  METRIC_LOSS_TYPE: triplet
  NAME: transformer
  NECK: bnneck
  NO_MARGIN: True
  NO_SHUFFLE: False
  PATCH_SHUFFLE: 2
  PRETRAIN_CHOICE: imagenet
  PRETRAIN_PATH: ../data/pretrainModel/deit_base_distilled_patch16_224-df68dfff.pth
  PROB: 0.0
  RECIP_LOSS: 
  STRIDE_SIZE: [16, 16]
  TASK_TYPE: classify_DA
  THRESH: 0.23
  TRIPLET_LOSS_WEIGHT: 1.0
  Transformer_TYPE: uda_vit_base_patch16_224_TransReID
  UDA_STAGE: UDA
  VIEWPOINT_EMBEDDING: False
  YIWEI_NUM: 5
  lameda: 0.5
OUTPUT_DIR: ../logs/uda/deit_base/office-home/Art2Real_WorldDRI_Contrastive0.0
SOLVER:
  BASE_LR: 0.008
  BIAS_LR_FACTOR: 2
  CENTER_LOSS_WEIGHT: 0.0005
  CENTER_LR: 0.5
  CHECKPOINT_PERIOD: 10
  CLUSTER_MARGIN: 0.3
  COSINE_MARGIN: 0.5
  COSINE_SCALE: 30
  EVAL_PERIOD: 1
  GAMMA: 0.0
  IMS_PER_BATCH: 16
  LARGE_FC_LR: False
  LOG_PERIOD: 100
  MARGIN: 0.3
  MAX_EPOCHS: 40
  MOMENTUM: 0.9
  OPTIMIZER_NAME: SGD
  RANGE_ALPHA: 0
  RANGE_BETA: 1
  RANGE_K: 2
  RANGE_LOSS_WEIGHT: 1
  RANGE_MARGIN: 0.3
  SEED: 1234
  STEPS: (40, 80)
  WARMUP_EPOCHS: 10
  WARMUP_FACTOR: 0.01
  WARMUP_METHOD: linear
  WEIGHT_DECAY: 0.0001
  WEIGHT_DECAY_BIAS: 0.0001
  WITH_PSEUDO_LABEL_FILTER: False
TEST:
  DIST_MAT: dist_mat.npy
  EVAL: True
  FEAT_NORM: yes
  FLIP_FEATS: off
  IMS_PER_BATCH: 64
  NECK_FEAT: after
  RE_RANKING: False
  RE_RANKING_TRACK: False
  WEIGHT: ../logs/trans4DA/transformer_120.pth
=> Office-Home loaded
Dataset statistics:
train Art and valid is Real_World
  ----------------------------------------
  subset   | # ids | # images | # cameras
  ----------------------------------------
  train   |    65 |     2427 |         1
  valid   |    65 |     4357 |         1
  ----------------------------------------
=> Office-Home loaded
Dataset statistics:
train Real_World and valid is Real_World
  ----------------------------------------
  subset   | # ids | # images | # cameras
  ----------------------------------------
  train   |    65 |     4357 |         1
  valid   |    65 |     4357 |         1
  ----------------------------------------
using Transformer_type: uda_vit_base_patch16_224_TransReID as a backbone
using stride: [16, 16], and part number is num_y14 * num_x14
using drop_path_rate is : 0.1
using aie_xishu is : 1.5
using 3branches blocks
distill need to choose right cls token in the pth
Resized position embedding: %s to %s torch.Size([1, 197, 768]) torch.Size([1, 197, 768])
Position embedding resize to height:14 width: 14
Loading pretrained ImageNet model......from ../data/pretrainModel/deit_base_distilled_patch16_224-df68dfff.pth
===========building uda transformer===========
label smooth on, numclasses: 65
2022-05-11 04:00:32,120 reid_baseline.train INFO: start training
2022-05-11 04:02:09,099 reid_baseline.train INFO: Epoch[1] Iteration[100/147] Loss1: 1.475, Loss2: 4.170, Loss3: 0.016,  Acc: 0.342, Acc2: 0.022, Acc2_pse: 0.022, Base Lr: 8.72e-04
2022-05-11 04:02:48,419 reid_baseline.train INFO: Epoch 1 done. Time per batch: 0.917[s] Speed: 17.5[samples/s]
2022-05-11 04:10:09,021 reid_baseline.train INFO: normal accuracy 0.06265779205875603 4.172855377197266 
2022-05-11 04:10:09,831 reid_baseline.train INFO: Classify Domain Adapatation Validation Results - Epoch: 1
2022-05-11 04:10:09,832 reid_baseline.train INFO: Accuracy: 6.3%, best Accuracy: 6.3%, min Mean_entropy: 4e+00
2022-05-11 04:11:38,213 reid_baseline.train INFO: Epoch[2] Iteration[100/147] Loss1: 1.146, Loss2: 4.135, Loss3: -0.029,  Acc: 0.507, Acc2: 0.095, Acc2_pse: 0.095, Base Lr: 1.66e-03
2022-05-11 04:12:16,866 reid_baseline.train INFO: Epoch 2 done. Time per batch: 0.876[s] Speed: 18.3[samples/s]
2022-05-11 04:19:36,800 reid_baseline.train INFO: normal accuracy 0.16341519394078494 4.171785354614258 
2022-05-11 04:19:37,629 reid_baseline.train INFO: Classify Domain Adapatation Validation Results - Epoch: 2
2022-05-11 04:19:37,629 reid_baseline.train INFO: Accuracy: 16.3%, best Accuracy: 16.3%, min Mean_entropy: 4e+00
2022-05-11 04:21:12,397 reid_baseline.train INFO: Epoch[3] Iteration[100/147] Loss1: 0.966, Loss2: 4.081, Loss3: -0.029,  Acc: 0.602, Acc2: 0.106, Acc2_pse: 0.106, Base Lr: 2.46e-03
2022-05-11 04:21:52,578 reid_baseline.train INFO: Epoch 3 done. Time per batch: 0.931[s] Speed: 17.2[samples/s]
2022-05-11 04:29:23,025 reid_baseline.train INFO: normal accuracy 0.19072756483819142 4.16785192489624 
2022-05-11 04:29:23,844 reid_baseline.train INFO: Classify Domain Adapatation Validation Results - Epoch: 3
2022-05-11 04:29:23,845 reid_baseline.train INFO: Accuracy: 19.1%, best Accuracy: 19.1%, min Mean_entropy: 4e+00
2022-05-11 04:30:55,865 reid_baseline.train INFO: Epoch[4] Iteration[100/147] Loss1: 0.946, Loss2: 3.984, Loss3: -0.008,  Acc: 0.596, Acc2: 0.127, Acc2_pse: 0.127, Base Lr: 3.25e-03
2022-05-11 04:31:33,439 reid_baseline.train INFO: Epoch 4 done. Time per batch: 0.894[s] Speed: 17.9[samples/s]
2022-05-11 04:38:56,617 reid_baseline.train INFO: normal accuracy 0.21436768418636676 4.1556878089904785 
2022-05-11 04:38:57,630 reid_baseline.train INFO: Classify Domain Adapatation Validation Results - Epoch: 4
2022-05-11 04:38:57,631 reid_baseline.train INFO: Accuracy: 21.4%, best Accuracy: 21.4%, min Mean_entropy: 4e+00
2022-05-11 04:40:31,177 reid_baseline.train INFO: Epoch[5] Iteration[100/147] Loss1: 0.924, Loss2: 3.868, Loss3: -0.165,  Acc: 0.608, Acc2: 0.135, Acc2_pse: 0.135, Base Lr: 4.04e-03
2022-05-11 04:41:10,727 reid_baseline.train INFO: Epoch 5 done. Time per batch: 0.911[s] Speed: 17.6[samples/s]
2022-05-11 04:48:52,059 reid_baseline.train INFO: normal accuracy 0.23341748909800322 4.115256309509277 
2022-05-11 04:48:52,893 reid_baseline.train INFO: Classify Domain Adapatation Validation Results - Epoch: 5
2022-05-11 04:48:52,894 reid_baseline.train INFO: Accuracy: 23.3%, best Accuracy: 23.3%, min Mean_entropy: 4e+00
2022-05-11 04:50:32,498 reid_baseline.train INFO: Epoch[6] Iteration[100/147] Loss1: 0.873, Loss2: 3.700, Loss3: -0.138,  Acc: 0.633, Acc2: 0.173, Acc2_pse: 0.173, Base Lr: 4.83e-03
2022-05-11 04:51:13,144 reid_baseline.train INFO: Epoch 6 done. Time per batch: 0.988[s] Speed: 16.2[samples/s]
2022-05-11 04:58:29,529 reid_baseline.train INFO: normal accuracy 0.296993344044067 4.031940937042236 
2022-05-11 04:58:30,423 reid_baseline.train INFO: Classify Domain Adapatation Validation Results - Epoch: 6
2022-05-11 04:58:30,423 reid_baseline.train INFO: Accuracy: 29.7%, best Accuracy: 29.7%, min Mean_entropy: 4e+00
2022-05-11 05:00:06,188 reid_baseline.train INFO: Epoch[7] Iteration[100/147] Loss1: 0.867, Loss2: 3.518, Loss3: 0.022,  Acc: 0.641, Acc2: 0.229, Acc2_pse: 0.229, Base Lr: 5.62e-03
2022-05-11 05:00:45,511 reid_baseline.train INFO: Epoch 7 done. Time per batch: 0.943[s] Speed: 17.0[samples/s]
2022-05-11 05:09:08,697 reid_baseline.train INFO: normal accuracy 0.3842093183383062 3.8880176544189453 
2022-05-11 05:09:10,108 reid_baseline.train INFO: Classify Domain Adapatation Validation Results - Epoch: 7
2022-05-11 05:09:10,108 reid_baseline.train INFO: Accuracy: 38.4%, best Accuracy: 38.4%, min Mean_entropy: 4e+00
2022-05-11 05:11:07,495 reid_baseline.train INFO: Epoch[8] Iteration[100/147] Loss1: 0.822, Loss2: 3.296, Loss3: 0.169,  Acc: 0.673, Acc2: 0.267, Acc2_pse: 0.267, Base Lr: 6.42e-03
2022-05-11 05:11:58,582 reid_baseline.train INFO: Epoch 8 done. Time per batch: 1.170[s] Speed: 13.7[samples/s]
2022-05-11 05:20:56,919 reid_baseline.train INFO: normal accuracy 0.4721138397980262 3.6649742126464844 
2022-05-11 05:20:59,607 reid_baseline.train INFO: Classify Domain Adapatation Validation Results - Epoch: 8
2022-05-11 05:20:59,608 reid_baseline.train INFO: Accuracy: 47.2%, best Accuracy: 47.2%, min Mean_entropy: 4e+00
2022-05-11 05:22:50,275 reid_baseline.train INFO: Epoch[9] Iteration[100/147] Loss1: 0.867, Loss2: 3.071, Loss3: -0.070,  Acc: 0.626, Acc2: 0.318, Acc2_pse: 0.318, Base Lr: 7.21e-03
2022-05-11 05:23:39,012 reid_baseline.train INFO: Epoch 9 done. Time per batch: 1.090[s] Speed: 14.7[samples/s]
2022-05-11 05:31:19,365 reid_baseline.train INFO: normal accuracy 0.5434932292862061 3.2801430225372314 
2022-05-11 05:31:20,386 reid_baseline.train INFO: Classify Domain Adapatation Validation Results - Epoch: 9
2022-05-11 05:31:20,386 reid_baseline.train INFO: Accuracy: 54.3%, best Accuracy: 54.3%, min Mean_entropy: 3e+00
2022-05-11 05:33:04,500 reid_baseline.train INFO: Epoch[10] Iteration[100/147] Loss1: 0.848, Loss2: 2.843, Loss3: 0.108,  Acc: 0.637, Acc2: 0.392, Acc2_pse: 0.392, Base Lr: 6.83e-03
2022-05-11 05:33:47,193 reid_baseline.train INFO: Epoch 10 done. Time per batch: 1.025[s] Speed: 15.6[samples/s]
2022-05-11 05:41:29,718 reid_baseline.train INFO: normal accuracy 0.5825109019967868 3.1098124980926514 
2022-05-11 05:41:30,541 reid_baseline.train INFO: Classify Domain Adapatation Validation Results - Epoch: 10
2022-05-11 05:41:30,541 reid_baseline.train INFO: Accuracy: 58.3%, best Accuracy: 58.3%, min Mean_entropy: 3e+00
2022-05-11 05:43:11,622 reid_baseline.train INFO: Epoch[11] Iteration[100/147] Loss1: 0.846, Loss2: 2.734, Loss3: -0.047,  Acc: 0.656, Acc2: 0.415, Acc2_pse: 0.415, Base Lr: 6.60e-03
2022-05-11 05:43:57,438 reid_baseline.train INFO: Epoch 11 done. Time per batch: 1.013[s] Speed: 15.8[samples/s]
2022-05-11 05:51:02,705 reid_baseline.train INFO: normal accuracy 0.6130364929997705 2.846964120864868 
2022-05-11 05:51:03,568 reid_baseline.train INFO: Classify Domain Adapatation Validation Results - Epoch: 11
2022-05-11 05:51:03,568 reid_baseline.train INFO: Accuracy: 61.3%, best Accuracy: 61.3%, min Mean_entropy: 3e+00
2022-05-11 05:52:48,135 reid_baseline.train INFO: Epoch[12] Iteration[100/147] Loss1: 0.856, Loss2: 2.568, Loss3: 0.160,  Acc: 0.642, Acc2: 0.455, Acc2_pse: 0.455, Base Lr: 6.35e-03
2022-05-11 05:53:30,388 reid_baseline.train INFO: Epoch 12 done. Time per batch: 1.019[s] Speed: 15.7[samples/s]
2022-05-11 05:59:41,913 reid_baseline.train INFO: normal accuracy 0.6506770713793895 2.7632200717926025 
2022-05-11 05:59:42,704 reid_baseline.train INFO: Classify Domain Adapatation Validation Results - Epoch: 12
2022-05-11 05:59:42,704 reid_baseline.train INFO: Accuracy: 65.1%, best Accuracy: 65.1%, min Mean_entropy: 3e+00
2022-05-11 06:01:01,920 reid_baseline.train INFO: Epoch[13] Iteration[100/147] Loss1: 0.848, Loss2: 2.455, Loss3: -0.057,  Acc: 0.634, Acc2: 0.492, Acc2_pse: 0.492, Base Lr: 6.09e-03
2022-05-11 06:01:37,689 reid_baseline.train INFO: Epoch 13 done. Time per batch: 0.798[s] Speed: 20.0[samples/s]
2022-05-11 06:07:33,700 reid_baseline.train INFO: normal accuracy 0.6660546247417948 2.6773734092712402 
2022-05-11 06:07:34,517 reid_baseline.train INFO: Classify Domain Adapatation Validation Results - Epoch: 13
2022-05-11 06:07:34,517 reid_baseline.train INFO: Accuracy: 66.6%, best Accuracy: 66.6%, min Mean_entropy: 3e+00
2022-05-11 06:08:53,640 reid_baseline.train INFO: Epoch[14] Iteration[100/147] Loss1: 0.850, Loss2: 2.377, Loss3: 0.050,  Acc: 0.629, Acc2: 0.503, Acc2_pse: 0.503, Base Lr: 5.82e-03
2022-05-11 06:09:26,681 reid_baseline.train INFO: Epoch 14 done. Time per batch: 0.779[s] Speed: 20.5[samples/s]
2022-05-11 06:15:33,342 reid_baseline.train INFO: normal accuracy 0.6784484737204498 2.5623180866241455 
2022-05-11 06:15:34,181 reid_baseline.train INFO: Classify Domain Adapatation Validation Results - Epoch: 14
2022-05-11 06:15:34,181 reid_baseline.train INFO: Accuracy: 67.8%, best Accuracy: 67.8%, min Mean_entropy: 3e+00
2022-05-11 06:16:54,415 reid_baseline.train INFO: Epoch[15] Iteration[100/147] Loss1: 0.832, Loss2: 2.292, Loss3: 0.006,  Acc: 0.655, Acc2: 0.534, Acc2_pse: 0.534, Base Lr: 5.54e-03
2022-05-11 06:17:27,678 reid_baseline.train INFO: Epoch 15 done. Time per batch: 0.793[s] Speed: 20.2[samples/s]
2022-05-11 06:23:19,032 reid_baseline.train INFO: normal accuracy 0.6938260270828551 2.406642198562622 
2022-05-11 06:23:19,878 reid_baseline.train INFO: Classify Domain Adapatation Validation Results - Epoch: 15
2022-05-11 06:23:19,879 reid_baseline.train INFO: Accuracy: 69.4%, best Accuracy: 69.4%, min Mean_entropy: 2e+00
2022-05-11 06:24:40,573 reid_baseline.train INFO: Epoch[16] Iteration[100/147] Loss1: 0.823, Loss2: 2.217, Loss3: -0.017,  Acc: 0.647, Acc2: 0.556, Acc2_pse: 0.556, Base Lr: 5.24e-03
2022-05-11 06:25:14,478 reid_baseline.train INFO: Epoch 16 done. Time per batch: 0.794[s] Speed: 20.1[samples/s]
2022-05-11 06:31:13,824 reid_baseline.train INFO: normal accuracy 0.715859536378242 2.350637197494507 
2022-05-11 06:31:14,650 reid_baseline.train INFO: Classify Domain Adapatation Validation Results - Epoch: 16
2022-05-11 06:31:14,651 reid_baseline.train INFO: Accuracy: 71.6%, best Accuracy: 71.6%, min Mean_entropy: 2e+00
2022-05-11 06:32:35,065 reid_baseline.train INFO: Epoch[17] Iteration[100/147] Loss1: 0.823, Loss2: 2.172, Loss3: 0.006,  Acc: 0.656, Acc2: 0.586, Acc2_pse: 0.586, Base Lr: 4.94e-03
2022-05-11 06:33:09,009 reid_baseline.train INFO: Epoch 17 done. Time per batch: 0.789[s] Speed: 20.3[samples/s]
2022-05-11 06:39:06,212 reid_baseline.train INFO: normal accuracy 0.7218269451457425 2.2337186336517334 
2022-05-11 06:39:06,991 reid_baseline.train INFO: Classify Domain Adapatation Validation Results - Epoch: 17
2022-05-11 06:39:06,991 reid_baseline.train INFO: Accuracy: 72.2%, best Accuracy: 72.2%, min Mean_entropy: 2e+00
2022-05-11 06:40:27,489 reid_baseline.train INFO: Epoch[18] Iteration[100/147] Loss1: 0.836, Loss2: 2.093, Loss3: -0.107,  Acc: 0.641, Acc2: 0.602, Acc2_pse: 0.602, Base Lr: 4.63e-03
2022-05-11 06:41:02,020 reid_baseline.train INFO: Epoch 18 done. Time per batch: 0.788[s] Speed: 20.3[samples/s]
2022-05-11 06:47:08,163 reid_baseline.train INFO: normal accuracy 0.7268762910259353 2.132930278778076 
2022-05-11 06:47:08,943 reid_baseline.train INFO: Classify Domain Adapatation Validation Results - Epoch: 18
2022-05-11 06:47:08,943 reid_baseline.train INFO: Accuracy: 72.7%, best Accuracy: 72.7%, min Mean_entropy: 2e+00
2022-05-11 06:48:22,886 reid_baseline.train INFO: Epoch[19] Iteration[100/147] Loss1: 0.803, Loss2: 2.052, Loss3: -0.010,  Acc: 0.666, Acc2: 0.608, Acc2_pse: 0.608, Base Lr: 4.32e-03
2022-05-11 06:48:53,279 reid_baseline.train INFO: Epoch 19 done. Time per batch: 0.730[s] Speed: 21.9[samples/s]
2022-05-11 06:54:57,317 reid_baseline.train INFO: normal accuracy 0.7252696809731467 1.9095968008041382 
2022-05-11 06:54:57,317 reid_baseline.train INFO: Classify Domain Adapatation Validation Results - Epoch: 19
2022-05-11 06:54:57,317 reid_baseline.train INFO: Accuracy: 72.5%, best Accuracy: 72.7%, min Mean_entropy: 2e+00
2022-05-11 06:56:07,813 reid_baseline.train INFO: Epoch[20] Iteration[100/147] Loss1: 0.823, Loss2: 1.974, Loss3: 0.006,  Acc: 0.648, Acc2: 0.640, Acc2_pse: 0.640, Base Lr: 4.01e-03
2022-05-11 06:56:35,494 reid_baseline.train INFO: Epoch 20 done. Time per batch: 0.686[s] Speed: 23.3[samples/s]
2022-05-11 07:02:41,489 reid_baseline.train INFO: normal accuracy 0.7376635299518017 2.1046953201293945 
2022-05-11 07:02:42,260 reid_baseline.train INFO: Classify Domain Adapatation Validation Results - Epoch: 20
2022-05-11 07:02:42,260 reid_baseline.train INFO: Accuracy: 73.8%, best Accuracy: 73.8%, min Mean_entropy: 2e+00
2022-05-11 07:03:51,797 reid_baseline.train INFO: Epoch[21] Iteration[100/147] Loss1: 0.820, Loss2: 2.032, Loss3: -0.072,  Acc: 0.655, Acc2: 0.616, Acc2_pse: 0.616, Base Lr: 3.69e-03
2022-05-11 07:04:22,984 reid_baseline.train INFO: Epoch 21 done. Time per batch: 0.690[s] Speed: 23.2[samples/s]
2022-05-11 07:10:23,034 reid_baseline.train INFO: normal accuracy 0.7399586871700712 2.0033462047576904 
2022-05-11 07:10:23,861 reid_baseline.train INFO: Classify Domain Adapatation Validation Results - Epoch: 21
2022-05-11 07:10:23,861 reid_baseline.train INFO: Accuracy: 74.0%, best Accuracy: 74.0%, min Mean_entropy: 2e+00
2022-05-11 07:11:32,499 reid_baseline.train INFO: Epoch[22] Iteration[100/147] Loss1: 0.827, Loss2: 1.942, Loss3: -0.008,  Acc: 0.654, Acc2: 0.652, Acc2_pse: 0.652, Base Lr: 3.38e-03
2022-05-11 07:12:02,204 reid_baseline.train INFO: Epoch 22 done. Time per batch: 0.682[s] Speed: 23.4[samples/s]
2022-05-11 07:18:00,200 reid_baseline.train INFO: normal accuracy 0.7461556116593987 1.9882892370224 
2022-05-11 07:18:01,046 reid_baseline.train INFO: Classify Domain Adapatation Validation Results - Epoch: 22
2022-05-11 07:18:01,047 reid_baseline.train INFO: Accuracy: 74.6%, best Accuracy: 74.6%, min Mean_entropy: 2e+00
2022-05-11 07:19:11,829 reid_baseline.train INFO: Epoch[23] Iteration[100/147] Loss1: 0.867, Loss2: 1.895, Loss3: -0.092,  Acc: 0.629, Acc2: 0.668, Acc2_pse: 0.668, Base Lr: 3.08e-03
2022-05-11 07:19:40,540 reid_baseline.train INFO: Epoch 23 done. Time per batch: 0.691[s] Speed: 23.2[samples/s]
2022-05-11 07:25:36,514 reid_baseline.train INFO: normal accuracy 0.7512049575395915 1.8829559087753296 
2022-05-11 07:25:37,308 reid_baseline.train INFO: Classify Domain Adapatation Validation Results - Epoch: 23
2022-05-11 07:25:37,308 reid_baseline.train INFO: Accuracy: 75.1%, best Accuracy: 75.1%, min Mean_entropy: 2e+00
2022-05-11 07:26:49,104 reid_baseline.train INFO: Epoch[24] Iteration[100/147] Loss1: 0.793, Loss2: 1.896, Loss3: -0.026,  Acc: 0.675, Acc2: 0.670, Acc2_pse: 0.670, Base Lr: 2.77e-03
2022-05-11 07:27:19,070 reid_baseline.train INFO: Epoch 24 done. Time per batch: 0.711[s] Speed: 22.5[samples/s]
2022-05-11 07:33:07,281 reid_baseline.train INFO: normal accuracy 0.7456965802157448 1.8386973142623901 
2022-05-11 07:33:07,281 reid_baseline.train INFO: Classify Domain Adapatation Validation Results - Epoch: 24
2022-05-11 07:33:07,281 reid_baseline.train INFO: Accuracy: 74.6%, best Accuracy: 75.1%, min Mean_entropy: 2e+00
2022-05-11 07:34:18,052 reid_baseline.train INFO: Epoch[25] Iteration[100/147] Loss1: 0.823, Loss2: 1.904, Loss3: -0.016,  Acc: 0.658, Acc2: 0.668, Acc2_pse: 0.668, Base Lr: 2.48e-03
2022-05-11 07:34:48,544 reid_baseline.train INFO: Epoch 25 done. Time per batch: 0.698[s] Speed: 22.9[samples/s]
2022-05-11 07:40:37,710 reid_baseline.train INFO: normal accuracy 0.7502868946522837 1.759189248085022 
2022-05-11 07:40:37,710 reid_baseline.train INFO: Classify Domain Adapatation Validation Results - Epoch: 25
2022-05-11 07:40:37,710 reid_baseline.train INFO: Accuracy: 75.0%, best Accuracy: 75.1%, min Mean_entropy: 2e+00
2022-05-11 07:41:46,590 reid_baseline.train INFO: Epoch[26] Iteration[100/147] Loss1: 0.850, Loss2: 1.857, Loss3: -0.035,  Acc: 0.643, Acc2: 0.675, Acc2_pse: 0.675, Base Lr: 2.20e-03
2022-05-11 07:42:16,879 reid_baseline.train INFO: Epoch 26 done. Time per batch: 0.689[s] Speed: 23.2[samples/s]
2022-05-11 07:48:03,537 reid_baseline.train INFO: normal accuracy 0.7560247876979573 1.8393867015838623 
2022-05-11 07:48:04,330 reid_baseline.train INFO: Classify Domain Adapatation Validation Results - Epoch: 26
2022-05-11 07:48:04,331 reid_baseline.train INFO: Accuracy: 75.6%, best Accuracy: 75.6%, min Mean_entropy: 2e+00
2022-05-11 07:49:15,138 reid_baseline.train INFO: Epoch[27] Iteration[100/147] Loss1: 0.845, Loss2: 1.791, Loss3: 0.005,  Acc: 0.645, Acc2: 0.700, Acc2_pse: 0.700, Base Lr: 1.92e-03
2022-05-11 07:49:44,852 reid_baseline.train INFO: Epoch 27 done. Time per batch: 0.698[s] Speed: 22.9[samples/s]
2022-05-11 07:55:34,982 reid_baseline.train INFO: normal accuracy 0.7505164103741107 1.7859601974487305 
2022-05-11 07:55:34,983 reid_baseline.train INFO: Classify Domain Adapatation Validation Results - Epoch: 27
2022-05-11 07:55:34,983 reid_baseline.train INFO: Accuracy: 75.1%, best Accuracy: 75.6%, min Mean_entropy: 2e+00
2022-05-11 07:56:44,365 reid_baseline.train INFO: Epoch[28] Iteration[100/147] Loss1: 0.799, Loss2: 1.827, Loss3: -0.000,  Acc: 0.673, Acc2: 0.687, Acc2_pse: 0.687, Base Lr: 1.66e-03
2022-05-11 07:57:12,356 reid_baseline.train INFO: Epoch 28 done. Time per batch: 0.680[s] Speed: 23.5[samples/s]
2022-05-11 08:03:02,574 reid_baseline.train INFO: normal accuracy 0.7551067248106496 1.731874704360962 
2022-05-11 08:03:02,575 reid_baseline.train INFO: Classify Domain Adapatation Validation Results - Epoch: 28
2022-05-11 08:03:02,575 reid_baseline.train INFO: Accuracy: 75.5%, best Accuracy: 75.6%, min Mean_entropy: 2e+00
2022-05-11 08:04:11,856 reid_baseline.train INFO: Epoch[29] Iteration[100/147] Loss1: 0.808, Loss2: 1.771, Loss3: 0.062,  Acc: 0.668, Acc2: 0.703, Acc2_pse: 0.703, Base Lr: 1.42e-03
2022-05-11 08:04:41,129 reid_baseline.train INFO: Epoch 29 done. Time per batch: 0.689[s] Speed: 23.2[samples/s]
2022-05-11 08:10:29,834 reid_baseline.train INFO: normal accuracy 0.7603855864126693 1.767271637916565 
2022-05-11 08:10:30,601 reid_baseline.train INFO: Classify Domain Adapatation Validation Results - Epoch: 29
2022-05-11 08:10:30,601 reid_baseline.train INFO: Accuracy: 76.0%, best Accuracy: 76.0%, min Mean_entropy: 2e+00
2022-05-11 08:11:40,890 reid_baseline.train INFO: Epoch[30] Iteration[100/147] Loss1: 0.831, Loss2: 1.782, Loss3: -0.070,  Acc: 0.662, Acc2: 0.695, Acc2_pse: 0.695, Base Lr: 1.19e-03
2022-05-11 08:12:13,110 reid_baseline.train INFO: Epoch 30 done. Time per batch: 0.707[s] Speed: 22.6[samples/s]
2022-05-11 08:18:15,201 reid_baseline.train INFO: normal accuracy 0.7590084920817076 1.6978931427001953 
2022-05-11 08:18:15,201 reid_baseline.train INFO: Classify Domain Adapatation Validation Results - Epoch: 30
2022-05-11 08:18:15,201 reid_baseline.train INFO: Accuracy: 75.9%, best Accuracy: 76.0%, min Mean_entropy: 2e+00
2022-05-11 08:19:25,358 reid_baseline.train INFO: Epoch[31] Iteration[100/147] Loss1: 0.828, Loss2: 1.752, Loss3: -0.038,  Acc: 0.665, Acc2: 0.715, Acc2_pse: 0.715, Base Lr: 9.72e-04
2022-05-11 08:19:55,920 reid_baseline.train INFO: Epoch 31 done. Time per batch: 0.694[s] Speed: 23.0[samples/s]
2022-05-11 08:25:47,338 reid_baseline.train INFO: normal accuracy 0.7571723663070921 1.7745383977890015 
2022-05-11 08:25:47,339 reid_baseline.train INFO: Classify Domain Adapatation Validation Results - Epoch: 31
2022-05-11 08:25:47,339 reid_baseline.train INFO: Accuracy: 75.7%, best Accuracy: 76.0%, min Mean_entropy: 2e+00
2022-05-11 08:26:56,981 reid_baseline.train INFO: Epoch[32] Iteration[100/147] Loss1: 0.834, Loss2: 1.741, Loss3: -0.039,  Acc: 0.658, Acc2: 0.699, Acc2_pse: 0.699, Base Lr: 7.78e-04
2022-05-11 08:27:29,537 reid_baseline.train INFO: Epoch 32 done. Time per batch: 0.704[s] Speed: 22.7[samples/s]
2022-05-11 08:33:41,248 reid_baseline.train INFO: normal accuracy 0.7622217121872848 1.7821191549301147 
2022-05-11 08:33:42,021 reid_baseline.train INFO: Classify Domain Adapatation Validation Results - Epoch: 32
2022-05-11 08:33:42,022 reid_baseline.train INFO: Accuracy: 76.2%, best Accuracy: 76.2%, min Mean_entropy: 2e+00
2022-05-11 08:34:51,527 reid_baseline.train INFO: Epoch[33] Iteration[100/147] Loss1: 0.793, Loss2: 1.750, Loss3: 0.080,  Acc: 0.686, Acc2: 0.722, Acc2_pse: 0.722, Base Lr: 6.04e-04
2022-05-11 08:35:20,840 reid_baseline.train INFO: Epoch 33 done. Time per batch: 0.691[s] Speed: 23.2[samples/s]
2022-05-11 08:41:05,924 reid_baseline.train INFO: normal accuracy 0.7665825109019968 1.8356105089187622 
2022-05-11 08:41:06,722 reid_baseline.train INFO: Classify Domain Adapatation Validation Results - Epoch: 33
2022-05-11 08:41:06,722 reid_baseline.train INFO: Accuracy: 76.7%, best Accuracy: 76.7%, min Mean_entropy: 2e+00
2022-05-11 08:42:15,310 reid_baseline.train INFO: Epoch[34] Iteration[100/147] Loss1: 0.772, Loss2: 1.716, Loss3: 0.027,  Acc: 0.685, Acc2: 0.709, Acc2_pse: 0.709, Base Lr: 4.51e-04
2022-05-11 08:42:44,109 reid_baseline.train INFO: Epoch 34 done. Time per batch: 0.681[s] Speed: 23.5[samples/s]
2022-05-11 08:48:37,683 reid_baseline.train INFO: normal accuracy 0.7610741335781501 1.6090900897979736 
2022-05-11 08:48:37,683 reid_baseline.train INFO: Classify Domain Adapatation Validation Results - Epoch: 34
2022-05-11 08:48:37,683 reid_baseline.train INFO: Accuracy: 76.1%, best Accuracy: 76.7%, min Mean_entropy: 2e+00
2022-05-11 08:49:49,303 reid_baseline.train INFO: Epoch[35] Iteration[100/147] Loss1: 0.843, Loss2: 1.738, Loss3: -0.043,  Acc: 0.658, Acc2: 0.713, Acc2_pse: 0.713, Base Lr: 3.20e-04
2022-05-11 08:50:18,101 reid_baseline.train INFO: Epoch 35 done. Time per batch: 0.697[s] Speed: 23.0[samples/s]
2022-05-11 08:56:08,285 reid_baseline.train INFO: normal accuracy 0.7619921964654579 1.670088768005371 
2022-05-11 08:56:08,285 reid_baseline.train INFO: Classify Domain Adapatation Validation Results - Epoch: 35
2022-05-11 08:56:08,285 reid_baseline.train INFO: Accuracy: 76.2%, best Accuracy: 76.7%, min Mean_entropy: 2e+00
2022-05-11 08:57:17,430 reid_baseline.train INFO: Epoch[36] Iteration[100/147] Loss1: 0.790, Loss2: 1.739, Loss3: -0.032,  Acc: 0.670, Acc2: 0.705, Acc2_pse: 0.705, Base Lr: 2.11e-04
2022-05-11 08:57:47,001 reid_baseline.train INFO: Epoch 36 done. Time per batch: 0.699[s] Speed: 22.9[samples/s]
2022-05-11 09:03:31,232 reid_baseline.train INFO: normal accuracy 0.7638283222400735 1.7469277381896973 
2022-05-11 09:03:31,232 reid_baseline.train INFO: Classify Domain Adapatation Validation Results - Epoch: 36
2022-05-11 09:03:31,233 reid_baseline.train INFO: Accuracy: 76.4%, best Accuracy: 76.7%, min Mean_entropy: 2e+00
2022-05-11 09:04:38,712 reid_baseline.train INFO: Epoch[37] Iteration[100/147] Loss1: 0.780, Loss2: 1.775, Loss3: -0.066,  Acc: 0.676, Acc2: 0.697, Acc2_pse: 0.697, Base Lr: 1.26e-04
2022-05-11 09:05:06,587 reid_baseline.train INFO: Epoch 37 done. Time per batch: 0.670[s] Speed: 23.9[samples/s]
2022-05-11 09:10:56,963 reid_baseline.train INFO: normal accuracy 0.7624512279091118 1.7285772562026978 
2022-05-11 09:10:56,964 reid_baseline.train INFO: Classify Domain Adapatation Validation Results - Epoch: 37
2022-05-11 09:10:56,964 reid_baseline.train INFO: Accuracy: 76.2%, best Accuracy: 76.7%, min Mean_entropy: 2e+00
2022-05-11 09:12:04,473 reid_baseline.train INFO: Epoch[38] Iteration[100/147] Loss1: 0.803, Loss2: 1.706, Loss3: -0.029,  Acc: 0.660, Acc2: 0.726, Acc2_pse: 0.726, Base Lr: 6.51e-05
2022-05-11 09:12:37,045 reid_baseline.train INFO: Epoch 38 done. Time per batch: 0.689[s] Speed: 23.2[samples/s]
2022-05-11 09:18:30,137 reid_baseline.train INFO: normal accuracy 0.7580904291943998 1.7243459224700928 
2022-05-11 09:18:30,138 reid_baseline.train INFO: Classify Domain Adapatation Validation Results - Epoch: 38
2022-05-11 09:18:30,138 reid_baseline.train INFO: Accuracy: 75.8%, best Accuracy: 76.7%, min Mean_entropy: 2e+00
2022-05-11 09:19:40,996 reid_baseline.train INFO: Epoch[39] Iteration[100/147] Loss1: 0.802, Loss2: 1.745, Loss3: -0.027,  Acc: 0.676, Acc2: 0.708, Acc2_pse: 0.708, Base Lr: 2.83e-05
2022-05-11 09:20:12,306 reid_baseline.train INFO: Epoch 39 done. Time per batch: 0.704[s] Speed: 22.7[samples/s]
2022-05-11 09:25:58,297 reid_baseline.train INFO: normal accuracy 0.7590084920817076 1.7461596727371216 
2022-05-11 09:25:58,297 reid_baseline.train INFO: Classify Domain Adapatation Validation Results - Epoch: 39
2022-05-11 09:25:58,297 reid_baseline.train INFO: Accuracy: 75.9%, best Accuracy: 76.7%, min Mean_entropy: 2e+00
2022-05-11 09:27:07,899 reid_baseline.train INFO: Epoch[40] Iteration[100/147] Loss1: 0.796, Loss2: 1.734, Loss3: -0.085,  Acc: 0.668, Acc2: 0.717, Acc2_pse: 0.717, Base Lr: 1.60e-05
2022-05-11 09:27:37,229 reid_baseline.train INFO: Epoch 40 done. Time per batch: 0.682[s] Speed: 23.5[samples/s]
2022-05-11 09:33:23,895 reid_baseline.train INFO: normal accuracy 0.7601560706908423 1.633278489112854 
2022-05-11 09:33:23,895 reid_baseline.train INFO: Classify Domain Adapatation Validation Results - Epoch: 40
2022-05-11 09:33:23,895 reid_baseline.train INFO: Accuracy: 76.0%, best Accuracy: 76.7%, min Mean_entropy: 2e+00
best model preformance is 0.7665825109019968
Loading pretrained model for finetuning from ../logs/uda/deit_base/office-home/Art2Real_WorldDRI_Contrastive0.0/transformer_best_model.pth
2022-05-11 09:39:05,169 reid_baseline.train INFO: normal accuracy 0.7665825109019968 1.8356105089187622 
2022-05-11 09:39:05,180 reid_baseline.train INFO: Classify Domain Adapatation Validation Results - Best model
2022-05-11 09:39:05,180 reid_baseline.train INFO: Accuracy: 76.7%
2022-05-11 09:40:50,495 reid_baseline.train INFO: normal accuracy 0.9142974866089822 1.2378058433532715 
2022-05-11 09:40:50,495 reid_baseline.train INFO: Classify Domain Adapatation Source Results - Best model
2022-05-11 09:40:50,495 reid_baseline.train INFO: Accuracy: 91.4%
2022-05-11 09:40:55,794 reid_baseline INFO: Saving model in the path :../logs/uda/deit_base/office-home/Art2ClipartDRI_Contrastive1.0
2022-05-11 09:40:55,794 reid_baseline INFO: Namespace(config_file='configs/uda.yml', opts=['MODEL.DEVICE_ID', "('0')", 'OUTPUT_DIR', '../logs/uda/deit_base/office-home/Art2ClipartDRI_Contrastive1.0', 'DATASETS.ROOT_TRAIN_DIR', '../data/OfficeHomeDataset/Art.txt', 'DATASETS.ROOT_TRAIN_DIR2', '../data/OfficeHomeDataset/Clipart.txt', 'DATASETS.ROOT_TEST_DIR', '../data/OfficeHomeDataset/Clipart.txt', 'DATASETS.NAMES', 'OfficeHome', 'DATASETS.NAMES2', 'OfficeHome', 'MODEL.Transformer_TYPE', 'uda_vit_base_patch16_224_TransReID'], local_rank=0, patch_size=8, dom_cls=False, layer_num=1, dom_weight=1.0)
2022-05-11 09:40:55,794 reid_baseline INFO: Loaded configuration file configs/uda.yml
2022-05-11 09:40:55,794 reid_baseline INFO: 
MODEL:
  PRETRAIN_CHOICE: 'imagenet'
  PRETRAIN_PATH: '../data/pretrainModel/deit_base_distilled_patch16_224-df68dfff.pth'
  METRIC_LOSS_TYPE: 'triplet'
  IF_LABELSMOOTH: 'on'
  IF_WITH_CENTER: 'no'
  NAME: 'transformer'
  NO_MARGIN: True
  DEVICE_ID: ('0')
  Transformer_TYPE: 'uda_vit_base_patch16_224_TransReID' #uda_vit_small_patch16_224_TransReID
  STRIDE_SIZE: [16, 16]
  BLOCK_PATTERN: '3_branches'
  TASK_TYPE: 'classify_DA'
  UDA_STAGE: 'UDA'
#  CAMERA_EMBEDDING: True
#  VIEWPOINT_EMBEDDING: True

INPUT:
  SIZE_TRAIN: [256, 256]
  SIZE_TEST: [256, 256]
  SIZE_CROP: [224, 224]
  PROB: 0.5 # random horizontal flip
  RE_PROB: 0.0 # random erasing
  PADDING: 0
  PIXEL_MEAN: [0.485, 0.456, 0.406]
  PIXEL_STD: [0.229, 0.224, 0.225]

DATASETS:
  NAMES: ('OURAPI')
  ROOT_TRAIN_DIR: ('./datasets/reid_datasets/Corrected_Market1501')
  NAMES2: ('OURAPI')
  ROOT_TRAIN_DIR2: ('./datasets/reid_datasets/Refined_DukeMTMC_reID')
  ROOT_TEST_DIR: ('./datasets/reid_datasets/Refined_DukeMTMC_reID')

DATALOADER:
  SAMPLER: 'softmax'
  NUM_INSTANCE: 4
  NUM_WORKERS: 4

SOLVER:
  OPTIMIZER_NAME: 'SGD'
  MAX_EPOCHS: 40
  BASE_LR: 0.008
  IMS_PER_BATCH: 16
  STEPS: [40, 80]
  GAMMA: 0.
  WARMUP_FACTOR: 0.01
  WARMUP_EPOCHS: 10
  WARMUP_METHOD: 'linear'
  LARGE_FC_LR: False
  CHECKPOINT_PERIOD: 10
  LOG_PERIOD: 100
  EVAL_PERIOD: 1
  WEIGHT_DECAY:  1e-4
  WEIGHT_DECAY_BIAS: 1e-4
  BIAS_LR_FACTOR: 2

TEST:
  EVAL: True
  IMS_PER_BATCH: 64
  RE_RANKING: False
  RE_RANKING_TRACK: False

  WEIGHT: '../logs/trans4DA/transformer_120.pth'
  NECK_FEAT: 'after'
  FEAT_NORM: 'yes'

OUTPUT_DIR: '../logs/trans4DA'



2022-05-11 09:40:55,794 reid_baseline INFO: Running with config:
DATALOADER:
  NUM_INSTANCE: 4
  NUM_WORKERS: 4
  SAMPLER: softmax
DATASETS:
  NAMES: OfficeHome
  NAMES2: OfficeHome
  PLUS_NUM_ID: 100
  QUERY_MINING: False
  ROOT_TEST_DIR: ../data/OfficeHomeDataset/Clipart.txt
  ROOT_TRAIN_DIR: ../data/OfficeHomeDataset/Art.txt
  ROOT_TRAIN_DIR2: ../data/OfficeHomeDataset/Clipart.txt
INPUT:
  AA_PROB: 0.0
  PADDING: 0
  PIXEL_MEAN: [0.485, 0.456, 0.406]
  PIXEL_STD: [0.229, 0.224, 0.225]
  PROB: 0.5
  RE_PROB: 0.0
  SIZE_CROP: [224, 224]
  SIZE_TEST: [256, 256]
  SIZE_TRAIN: [256, 256]
MODEL:
  AIE_COE: 1.5
  BLOCK_PATTERN: 3_branches
  CAMERA_EMBEDDING: False
  COS_LAYER: False
  DEVICE: cuda
  DEVICE_ID: 0
  DEVIDE_LENGTH: 4
  DIST_TRAIN: False
  DROP_OUT: 0.0
  DROP_PATH: 0.1
  FC_SETTING: TransReID
  FROZEN: -1
  ID_LOSS_TYPE: softmax
  ID_LOSS_WEIGHT: 1.0
  IF_LABELSMOOTH: on
  IF_WITH_CENTER: no
  LAST_STRIDE: 1
  LOCAL_F: False
  METRIC_LOSS_TYPE: triplet
  NAME: transformer
  NECK: bnneck
  NO_MARGIN: True
  NO_SHUFFLE: False
  PATCH_SHUFFLE: 2
  PRETRAIN_CHOICE: imagenet
  PRETRAIN_PATH: ../data/pretrainModel/deit_base_distilled_patch16_224-df68dfff.pth
  PROB: 0.0
  RECIP_LOSS: 
  STRIDE_SIZE: [16, 16]
  TASK_TYPE: classify_DA
  THRESH: 0.23
  TRIPLET_LOSS_WEIGHT: 1.0
  Transformer_TYPE: uda_vit_base_patch16_224_TransReID
  UDA_STAGE: UDA
  VIEWPOINT_EMBEDDING: False
  YIWEI_NUM: 5
  lameda: 0.5
OUTPUT_DIR: ../logs/uda/deit_base/office-home/Art2ClipartDRI_Contrastive1.0
SOLVER:
  BASE_LR: 0.008
  BIAS_LR_FACTOR: 2
  CENTER_LOSS_WEIGHT: 0.0005
  CENTER_LR: 0.5
  CHECKPOINT_PERIOD: 10
  CLUSTER_MARGIN: 0.3
  COSINE_MARGIN: 0.5
  COSINE_SCALE: 30
  EVAL_PERIOD: 1
  GAMMA: 0.0
  IMS_PER_BATCH: 16
  LARGE_FC_LR: False
  LOG_PERIOD: 100
  MARGIN: 0.3
  MAX_EPOCHS: 40
  MOMENTUM: 0.9
  OPTIMIZER_NAME: SGD
  RANGE_ALPHA: 0
  RANGE_BETA: 1
  RANGE_K: 2
  RANGE_LOSS_WEIGHT: 1
  RANGE_MARGIN: 0.3
  SEED: 1234
  STEPS: (40, 80)
  WARMUP_EPOCHS: 10
  WARMUP_FACTOR: 0.01
  WARMUP_METHOD: linear
  WEIGHT_DECAY: 0.0001
  WEIGHT_DECAY_BIAS: 0.0001
  WITH_PSEUDO_LABEL_FILTER: False
TEST:
  DIST_MAT: dist_mat.npy
  EVAL: True
  FEAT_NORM: yes
  FLIP_FEATS: off
  IMS_PER_BATCH: 64
  NECK_FEAT: after
  RE_RANKING: False
  RE_RANKING_TRACK: False
  WEIGHT: ../logs/trans4DA/transformer_120.pth
=> Office-Home loaded
Dataset statistics:
train Art and valid is Clipart
  ----------------------------------------
  subset   | # ids | # images | # cameras
  ----------------------------------------
  train   |    65 |     2427 |         1
  valid   |    65 |     4365 |         1
  ----------------------------------------
=> Office-Home loaded
Dataset statistics:
train Clipart and valid is Clipart
  ----------------------------------------
  subset   | # ids | # images | # cameras
  ----------------------------------------
  train   |    65 |     4365 |         1
  valid   |    65 |     4365 |         1
  ----------------------------------------
using Transformer_type: uda_vit_base_patch16_224_TransReID as a backbone
using stride: [16, 16], and part number is num_y14 * num_x14
using drop_path_rate is : 0.1
using aie_xishu is : 1.5
using 3branches blocks
distill need to choose right cls token in the pth
Resized position embedding: %s to %s torch.Size([1, 197, 768]) torch.Size([1, 197, 768])
Position embedding resize to height:14 width: 14
Loading pretrained ImageNet model......from ../data/pretrainModel/deit_base_distilled_patch16_224-df68dfff.pth
===========building uda transformer===========
label smooth on, numclasses: 65
2022-05-11 09:41:03,551 reid_baseline.train INFO: start training
2022-05-11 09:42:13,304 reid_baseline.train INFO: Epoch[1] Iteration[100/147] Loss1: 1.475, Loss2: 4.170, Loss3: 0.016,  Acc: 0.343, Acc2: 0.022, Acc2_pse: 0.022, Base Lr: 8.72e-04
2022-05-11 09:42:42,045 reid_baseline.train INFO: Epoch 1 done. Time per batch: 0.674[s] Speed: 23.7[samples/s]
2022-05-11 09:44:41,683 reid_baseline.train INFO: normal accuracy 0.04765177548682703 4.1727294921875 
2022-05-11 09:44:42,452 reid_baseline.train INFO: Classify Domain Adapatation Validation Results - Epoch: 1
2022-05-11 09:44:42,452 reid_baseline.train INFO: Accuracy: 4.8%, best Accuracy: 4.8%, min Mean_entropy: 4e+00
2022-05-11 09:45:51,500 reid_baseline.train INFO: Epoch[2] Iteration[100/147] Loss1: 1.146, Loss2: 4.135, Loss3: -0.029,  Acc: 0.508, Acc2: 0.095, Acc2_pse: 0.095, Base Lr: 1.66e-03
2022-05-11 09:46:24,460 reid_baseline.train INFO: Epoch 2 done. Time per batch: 0.704[s] Speed: 22.7[samples/s]
2022-05-11 09:48:23,324 reid_baseline.train INFO: normal accuracy 0.115922107674685 4.171553611755371 
2022-05-11 09:48:24,087 reid_baseline.train INFO: Classify Domain Adapatation Validation Results - Epoch: 2
2022-05-11 09:48:24,087 reid_baseline.train INFO: Accuracy: 11.6%, best Accuracy: 11.6%, min Mean_entropy: 4e+00
2022-05-11 09:49:33,871 reid_baseline.train INFO: Epoch[3] Iteration[100/147] Loss1: 0.966, Loss2: 4.081, Loss3: -0.029,  Acc: 0.601, Acc2: 0.106, Acc2_pse: 0.106, Base Lr: 2.46e-03
2022-05-11 09:50:03,792 reid_baseline.train INFO: Epoch 3 done. Time per batch: 0.688[s] Speed: 23.3[samples/s]
2022-05-11 09:52:02,623 reid_baseline.train INFO: normal accuracy 0.13287514318442153 4.167523384094238 
2022-05-11 09:52:03,392 reid_baseline.train INFO: Classify Domain Adapatation Validation Results - Epoch: 3
2022-05-11 09:52:03,392 reid_baseline.train INFO: Accuracy: 13.3%, best Accuracy: 13.3%, min Mean_entropy: 4e+00
2022-05-11 09:53:11,473 reid_baseline.train INFO: Epoch[4] Iteration[100/147] Loss1: 0.944, Loss2: 3.982, Loss3: -0.008,  Acc: 0.590, Acc2: 0.128, Acc2_pse: 0.128, Base Lr: 3.25e-03
2022-05-11 09:53:41,771 reid_baseline.train INFO: Epoch 4 done. Time per batch: 0.678[s] Speed: 23.6[samples/s]
2022-05-11 09:55:38,569 reid_baseline.train INFO: normal accuracy 0.15166093928980526 4.156016826629639 
2022-05-11 09:55:39,350 reid_baseline.train INFO: Classify Domain Adapatation Validation Results - Epoch: 4
2022-05-11 09:55:39,351 reid_baseline.train INFO: Accuracy: 15.2%, best Accuracy: 15.2%, min Mean_entropy: 4e+00
2022-05-11 09:56:50,770 reid_baseline.train INFO: Epoch[5] Iteration[100/147] Loss1: 0.924, Loss2: 3.868, Loss3: -0.166,  Acc: 0.611, Acc2: 0.136, Acc2_pse: 0.136, Base Lr: 4.04e-03
2022-05-11 09:57:23,280 reid_baseline.train INFO: Epoch 5 done. Time per batch: 0.712[s] Speed: 22.5[samples/s]
2022-05-11 09:59:23,424 reid_baseline.train INFO: normal accuracy 0.1711340206185567 4.122775077819824 
2022-05-11 09:59:24,225 reid_baseline.train INFO: Classify Domain Adapatation Validation Results - Epoch: 5
2022-05-11 09:59:24,225 reid_baseline.train INFO: Accuracy: 17.1%, best Accuracy: 17.1%, min Mean_entropy: 4e+00
2022-05-11 10:00:33,617 reid_baseline.train INFO: Epoch[6] Iteration[100/147] Loss1: 0.873, Loss2: 3.705, Loss3: -0.140,  Acc: 0.628, Acc2: 0.173, Acc2_pse: 0.173, Base Lr: 4.83e-03
2022-05-11 10:01:02,780 reid_baseline.train INFO: Epoch 6 done. Time per batch: 0.694[s] Speed: 23.1[samples/s]
2022-05-11 10:02:59,805 reid_baseline.train INFO: normal accuracy 0.21191294387170675 4.053593158721924 
2022-05-11 10:03:00,607 reid_baseline.train INFO: Classify Domain Adapatation Validation Results - Epoch: 6
2022-05-11 10:03:00,608 reid_baseline.train INFO: Accuracy: 21.2%, best Accuracy: 21.2%, min Mean_entropy: 4e+00
2022-05-11 10:04:08,014 reid_baseline.train INFO: Epoch[7] Iteration[100/147] Loss1: 0.861, Loss2: 3.528, Loss3: 0.018,  Acc: 0.631, Acc2: 0.232, Acc2_pse: 0.232, Base Lr: 5.62e-03
2022-05-11 10:04:38,034 reid_baseline.train INFO: Epoch 7 done. Time per batch: 0.681[s] Speed: 23.5[samples/s]
2022-05-11 10:06:37,806 reid_baseline.train INFO: normal accuracy 0.2609392898052692 3.9272258281707764 
2022-05-11 10:06:38,625 reid_baseline.train INFO: Classify Domain Adapatation Validation Results - Epoch: 7
2022-05-11 10:06:38,625 reid_baseline.train INFO: Accuracy: 26.1%, best Accuracy: 26.1%, min Mean_entropy: 4e+00
2022-05-11 10:07:48,515 reid_baseline.train INFO: Epoch[8] Iteration[100/147] Loss1: 0.828, Loss2: 3.329, Loss3: 0.156,  Acc: 0.671, Acc2: 0.259, Acc2_pse: 0.259, Base Lr: 6.42e-03
2022-05-11 10:08:19,500 reid_baseline.train INFO: Epoch 8 done. Time per batch: 0.699[s] Speed: 22.9[samples/s]
2022-05-11 10:10:20,579 reid_baseline.train INFO: normal accuracy 0.30607101947308135 3.7569448947906494 
2022-05-11 10:10:21,363 reid_baseline.train INFO: Classify Domain Adapatation Validation Results - Epoch: 8
2022-05-11 10:10:21,363 reid_baseline.train INFO: Accuracy: 30.6%, best Accuracy: 30.6%, min Mean_entropy: 4e+00
2022-05-11 10:11:28,073 reid_baseline.train INFO: Epoch[9] Iteration[100/147] Loss1: 0.870, Loss2: 3.127, Loss3: -0.086,  Acc: 0.627, Acc2: 0.293, Acc2_pse: 0.293, Base Lr: 7.21e-03
2022-05-11 10:12:01,141 reid_baseline.train INFO: Epoch 9 done. Time per batch: 0.682[s] Speed: 23.5[samples/s]
2022-05-11 10:14:03,745 reid_baseline.train INFO: normal accuracy 0.35601374570446737 3.5867326259613037 
2022-05-11 10:14:04,520 reid_baseline.train INFO: Classify Domain Adapatation Validation Results - Epoch: 9
2022-05-11 10:14:04,520 reid_baseline.train INFO: Accuracy: 35.6%, best Accuracy: 35.6%, min Mean_entropy: 4e+00
2022-05-11 10:15:21,451 reid_baseline.train INFO: Epoch[10] Iteration[100/147] Loss1: 0.848, Loss2: 2.918, Loss3: 0.036,  Acc: 0.630, Acc2: 0.360, Acc2_pse: 0.360, Base Lr: 6.83e-03
2022-05-11 10:15:53,787 reid_baseline.train INFO: Epoch 10 done. Time per batch: 0.763[s] Speed: 21.0[samples/s]
2022-05-11 10:17:58,601 reid_baseline.train INFO: normal accuracy 0.3747995418098511 3.346691608428955 
2022-05-11 10:17:59,440 reid_baseline.train INFO: Classify Domain Adapatation Validation Results - Epoch: 10
2022-05-11 10:17:59,441 reid_baseline.train INFO: Accuracy: 37.5%, best Accuracy: 37.5%, min Mean_entropy: 3e+00
2022-05-11 10:19:17,181 reid_baseline.train INFO: Epoch[11] Iteration[100/147] Loss1: 0.841, Loss2: 2.873, Loss3: -0.143,  Acc: 0.654, Acc2: 0.375, Acc2_pse: 0.375, Base Lr: 6.60e-03
2022-05-11 10:19:52,014 reid_baseline.train INFO: Epoch 11 done. Time per batch: 0.776[s] Speed: 20.6[samples/s]
2022-05-11 10:21:53,029 reid_baseline.train INFO: normal accuracy 0.4036655211912944 3.2141287326812744 
2022-05-11 10:21:53,801 reid_baseline.train INFO: Classify Domain Adapatation Validation Results - Epoch: 11
2022-05-11 10:21:53,801 reid_baseline.train INFO: Accuracy: 40.4%, best Accuracy: 40.4%, min Mean_entropy: 3e+00
2022-05-11 10:23:12,107 reid_baseline.train INFO: Epoch[12] Iteration[100/147] Loss1: 0.854, Loss2: 2.714, Loss3: 0.036,  Acc: 0.639, Acc2: 0.404, Acc2_pse: 0.404, Base Lr: 6.35e-03
2022-05-11 10:23:44,158 reid_baseline.train INFO: Epoch 12 done. Time per batch: 0.766[s] Speed: 20.9[samples/s]
2022-05-11 10:25:49,148 reid_baseline.train INFO: normal accuracy 0.4316151202749141 3.150010347366333 
2022-05-11 10:25:49,932 reid_baseline.train INFO: Classify Domain Adapatation Validation Results - Epoch: 12
2022-05-11 10:25:49,932 reid_baseline.train INFO: Accuracy: 43.2%, best Accuracy: 43.2%, min Mean_entropy: 3e+00
2022-05-11 10:27:08,183 reid_baseline.train INFO: Epoch[13] Iteration[100/147] Loss1: 0.855, Loss2: 2.646, Loss3: -0.237,  Acc: 0.632, Acc2: 0.436, Acc2_pse: 0.436, Base Lr: 6.09e-03
2022-05-11 10:27:43,566 reid_baseline.train INFO: Epoch 13 done. Time per batch: 0.789[s] Speed: 20.3[samples/s]
2022-05-11 10:29:45,281 reid_baseline.train INFO: normal accuracy 0.4435280641466208 3.167170524597168 
2022-05-11 10:29:46,105 reid_baseline.train INFO: Classify Domain Adapatation Validation Results - Epoch: 13
2022-05-11 10:29:46,106 reid_baseline.train INFO: Accuracy: 44.4%, best Accuracy: 44.4%, min Mean_entropy: 3e+00
2022-05-11 10:31:03,431 reid_baseline.train INFO: Epoch[14] Iteration[100/147] Loss1: 0.849, Loss2: 2.580, Loss3: -0.151,  Acc: 0.633, Acc2: 0.450, Acc2_pse: 0.450, Base Lr: 5.82e-03
2022-05-11 10:31:35,901 reid_baseline.train INFO: Epoch 14 done. Time per batch: 0.762[s] Speed: 21.0[samples/s]
2022-05-11 10:33:37,450 reid_baseline.train INFO: normal accuracy 0.46002290950744557 3.138934850692749 
2022-05-11 10:33:38,226 reid_baseline.train INFO: Classify Domain Adapatation Validation Results - Epoch: 14
2022-05-11 10:33:38,227 reid_baseline.train INFO: Accuracy: 46.0%, best Accuracy: 46.0%, min Mean_entropy: 3e+00
2022-05-11 10:34:56,635 reid_baseline.train INFO: Epoch[15] Iteration[100/147] Loss1: 0.829, Loss2: 2.511, Loss3: -0.215,  Acc: 0.649, Acc2: 0.470, Acc2_pse: 0.470, Base Lr: 5.54e-03
2022-05-11 10:35:29,413 reid_baseline.train INFO: Epoch 15 done. Time per batch: 0.778[s] Speed: 20.6[samples/s]
2022-05-11 10:37:32,946 reid_baseline.train INFO: normal accuracy 0.4655211912943872 3.2604520320892334 
2022-05-11 10:37:33,775 reid_baseline.train INFO: Classify Domain Adapatation Validation Results - Epoch: 15
2022-05-11 10:37:33,775 reid_baseline.train INFO: Accuracy: 46.6%, best Accuracy: 46.6%, min Mean_entropy: 3e+00
2022-05-11 10:38:52,748 reid_baseline.train INFO: Epoch[16] Iteration[100/147] Loss1: 0.824, Loss2: 2.456, Loss3: -0.247,  Acc: 0.652, Acc2: 0.490, Acc2_pse: 0.490, Base Lr: 5.24e-03
2022-05-11 10:39:26,112 reid_baseline.train INFO: Epoch 16 done. Time per batch: 0.780[s] Speed: 20.5[samples/s]
2022-05-11 10:41:29,621 reid_baseline.train INFO: normal accuracy 0.4859106529209622 2.8957245349884033 
2022-05-11 10:41:30,423 reid_baseline.train INFO: Classify Domain Adapatation Validation Results - Epoch: 16
2022-05-11 10:41:30,423 reid_baseline.train INFO: Accuracy: 48.6%, best Accuracy: 48.6%, min Mean_entropy: 3e+00
2022-05-11 10:42:49,366 reid_baseline.train INFO: Epoch[17] Iteration[100/147] Loss1: 0.813, Loss2: 2.418, Loss3: -0.225,  Acc: 0.658, Acc2: 0.505, Acc2_pse: 0.505, Base Lr: 4.94e-03
2022-05-11 10:43:22,481 reid_baseline.train INFO: Epoch 17 done. Time per batch: 0.773[s] Speed: 20.7[samples/s]
2022-05-11 10:45:23,443 reid_baseline.train INFO: normal accuracy 0.4870561282932417 2.7521872520446777 
2022-05-11 10:45:24,224 reid_baseline.train INFO: Classify Domain Adapatation Validation Results - Epoch: 17
2022-05-11 10:45:24,224 reid_baseline.train INFO: Accuracy: 48.7%, best Accuracy: 48.7%, min Mean_entropy: 3e+00
2022-05-11 10:46:43,970 reid_baseline.train INFO: Epoch[18] Iteration[100/147] Loss1: 0.835, Loss2: 2.355, Loss3: -0.390,  Acc: 0.641, Acc2: 0.521, Acc2_pse: 0.521, Base Lr: 4.63e-03
2022-05-11 10:47:17,822 reid_baseline.train INFO: Epoch 18 done. Time per batch: 0.776[s] Speed: 20.6[samples/s]
2022-05-11 10:49:19,238 reid_baseline.train INFO: normal accuracy 0.5026345933562428 2.650716543197632 
2022-05-11 10:49:20,035 reid_baseline.train INFO: Classify Domain Adapatation Validation Results - Epoch: 18
2022-05-11 10:49:20,035 reid_baseline.train INFO: Accuracy: 50.3%, best Accuracy: 50.3%, min Mean_entropy: 3e+00
2022-05-11 10:50:39,817 reid_baseline.train INFO: Epoch[19] Iteration[100/147] Loss1: 0.803, Loss2: 2.313, Loss3: -0.286,  Acc: 0.664, Acc2: 0.547, Acc2_pse: 0.547, Base Lr: 4.32e-03
2022-05-11 10:51:11,848 reid_baseline.train INFO: Epoch 19 done. Time per batch: 0.782[s] Speed: 20.5[samples/s]
2022-05-11 10:53:13,536 reid_baseline.train INFO: normal accuracy 0.49140893470790376 2.4163081645965576 
2022-05-11 10:53:13,537 reid_baseline.train INFO: Classify Domain Adapatation Validation Results - Epoch: 19
2022-05-11 10:53:13,537 reid_baseline.train INFO: Accuracy: 49.1%, best Accuracy: 50.3%, min Mean_entropy: 3e+00
2022-05-11 10:54:31,937 reid_baseline.train INFO: Epoch[20] Iteration[100/147] Loss1: 0.815, Loss2: 2.247, Loss3: -0.301,  Acc: 0.651, Acc2: 0.562, Acc2_pse: 0.562, Base Lr: 4.01e-03
2022-05-11 10:55:04,334 reid_baseline.train INFO: Epoch 20 done. Time per batch: 0.775[s] Speed: 20.7[samples/s]
2022-05-11 10:57:04,600 reid_baseline.train INFO: normal accuracy 0.506758304696449 2.5039989948272705 
2022-05-11 10:57:05,359 reid_baseline.train INFO: Classify Domain Adapatation Validation Results - Epoch: 20
2022-05-11 10:57:05,360 reid_baseline.train INFO: Accuracy: 50.7%, best Accuracy: 50.7%, min Mean_entropy: 3e+00
2022-05-11 10:58:22,560 reid_baseline.train INFO: Epoch[21] Iteration[100/147] Loss1: 0.828, Loss2: 2.321, Loss3: -0.396,  Acc: 0.656, Acc2: 0.537, Acc2_pse: 0.537, Base Lr: 3.69e-03
2022-05-11 10:58:56,688 reid_baseline.train INFO: Epoch 21 done. Time per batch: 0.762[s] Speed: 21.0[samples/s]
2022-05-11 11:00:56,120 reid_baseline.train INFO: normal accuracy 0.5140893470790378 2.682462215423584 
2022-05-11 11:00:56,892 reid_baseline.train INFO: Classify Domain Adapatation Validation Results - Epoch: 21
2022-05-11 11:00:56,892 reid_baseline.train INFO: Accuracy: 51.4%, best Accuracy: 51.4%, min Mean_entropy: 3e+00
2022-05-11 11:02:16,260 reid_baseline.train INFO: Epoch[22] Iteration[100/147] Loss1: 0.827, Loss2: 2.234, Loss3: -0.314,  Acc: 0.654, Acc2: 0.558, Acc2_pse: 0.558, Base Lr: 3.38e-03
2022-05-11 11:02:49,708 reid_baseline.train INFO: Epoch 22 done. Time per batch: 0.782[s] Speed: 20.5[samples/s]
2022-05-11 11:04:51,372 reid_baseline.train INFO: normal accuracy 0.5179839633447881 2.5812764167785645 
2022-05-11 11:04:52,175 reid_baseline.train INFO: Classify Domain Adapatation Validation Results - Epoch: 22
2022-05-11 11:04:52,175 reid_baseline.train INFO: Accuracy: 51.8%, best Accuracy: 51.8%, min Mean_entropy: 3e+00
2022-05-11 11:06:09,624 reid_baseline.train INFO: Epoch[23] Iteration[100/147] Loss1: 0.862, Loss2: 2.176, Loss3: -0.405,  Acc: 0.636, Acc2: 0.589, Acc2_pse: 0.589, Base Lr: 3.08e-03
2022-05-11 11:06:42,564 reid_baseline.train INFO: Epoch 23 done. Time per batch: 0.767[s] Speed: 20.9[samples/s]
2022-05-11 11:08:43,198 reid_baseline.train INFO: normal accuracy 0.5129438717067583 2.3297228813171387 
2022-05-11 11:08:43,199 reid_baseline.train INFO: Classify Domain Adapatation Validation Results - Epoch: 23
2022-05-11 11:08:43,199 reid_baseline.train INFO: Accuracy: 51.3%, best Accuracy: 51.8%, min Mean_entropy: 3e+00
2022-05-11 11:10:03,094 reid_baseline.train INFO: Epoch[24] Iteration[100/147] Loss1: 0.796, Loss2: 2.192, Loss3: -0.364,  Acc: 0.681, Acc2: 0.584, Acc2_pse: 0.584, Base Lr: 2.77e-03
2022-05-11 11:10:35,154 reid_baseline.train INFO: Epoch 24 done. Time per batch: 0.783[s] Speed: 20.4[samples/s]
