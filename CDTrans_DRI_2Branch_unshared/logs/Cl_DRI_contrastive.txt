2022-05-10 21:54:11,172 reid_baseline INFO: Saving model in the path :../logs/uda/deit_base/office-home/Clipart2ArtDRI_Contrastive0.0
2022-05-10 21:54:11,172 reid_baseline INFO: Namespace(config_file='configs/uda.yml', opts=['MODEL.DEVICE_ID', "('3')", 'OUTPUT_DIR', '../logs/uda/deit_base/office-home/Clipart2ArtDRI_Contrastive0.0', 'DATASETS.ROOT_TRAIN_DIR', '../data/OfficeHomeDataset/Clipart.txt', 'DATASETS.ROOT_TRAIN_DIR2', '../data/OfficeHomeDataset/Art.txt', 'DATASETS.ROOT_TEST_DIR', '../data/OfficeHomeDataset/Art.txt', 'DATASETS.NAMES', 'OfficeHome', 'DATASETS.NAMES2', 'OfficeHome', 'MODEL.Transformer_TYPE', 'uda_vit_base_patch16_224_TransReID'], local_rank=0, patch_size=8, dom_cls=False, layer_num=1, dom_weight=0.0)
2022-05-10 21:54:11,172 reid_baseline INFO: Loaded configuration file configs/uda.yml
2022-05-10 21:54:11,172 reid_baseline INFO: 
MODEL:
  PRETRAIN_CHOICE: 'imagenet'
  PRETRAIN_PATH: '../data/pretrainModel/deit_base_distilled_patch16_224-df68dfff.pth'
  METRIC_LOSS_TYPE: 'triplet'
  IF_LABELSMOOTH: 'on'
  IF_WITH_CENTER: 'no'
  NAME: 'transformer'
  NO_MARGIN: True
  DEVICE_ID: ('0')
  Transformer_TYPE: 'uda_vit_base_patch16_224_TransReID' #uda_vit_small_patch16_224_TransReID
  STRIDE_SIZE: [16, 16]
  BLOCK_PATTERN: '3_branches'
  TASK_TYPE: 'classify_DA'
  UDA_STAGE: 'UDA'
#  CAMERA_EMBEDDING: True
#  VIEWPOINT_EMBEDDING: True

INPUT:
  SIZE_TRAIN: [256, 256]
  SIZE_TEST: [256, 256]
  SIZE_CROP: [224, 224]
  PROB: 0.5 # random horizontal flip
  RE_PROB: 0.0 # random erasing
  PADDING: 0
  PIXEL_MEAN: [0.485, 0.456, 0.406]
  PIXEL_STD: [0.229, 0.224, 0.225]

DATASETS:
  NAMES: ('OURAPI')
  ROOT_TRAIN_DIR: ('./datasets/reid_datasets/Corrected_Market1501')
  NAMES2: ('OURAPI')
  ROOT_TRAIN_DIR2: ('./datasets/reid_datasets/Refined_DukeMTMC_reID')
  ROOT_TEST_DIR: ('./datasets/reid_datasets/Refined_DukeMTMC_reID')

DATALOADER:
  SAMPLER: 'softmax'
  NUM_INSTANCE: 4
  NUM_WORKERS: 4

SOLVER:
  OPTIMIZER_NAME: 'SGD'
  MAX_EPOCHS: 40
  BASE_LR: 0.008
  IMS_PER_BATCH: 16
  STEPS: [40, 80]
  GAMMA: 0.
  WARMUP_FACTOR: 0.01
  WARMUP_EPOCHS: 10
  WARMUP_METHOD: 'linear'
  LARGE_FC_LR: False
  CHECKPOINT_PERIOD: 10
  LOG_PERIOD: 100
  EVAL_PERIOD: 1
  WEIGHT_DECAY:  1e-4
  WEIGHT_DECAY_BIAS: 1e-4
  BIAS_LR_FACTOR: 2

TEST:
  EVAL: True
  IMS_PER_BATCH: 64
  RE_RANKING: False
  RE_RANKING_TRACK: False

  WEIGHT: '../logs/trans4DA/transformer_120.pth'
  NECK_FEAT: 'after'
  FEAT_NORM: 'yes'

OUTPUT_DIR: '../logs/trans4DA'



2022-05-10 21:54:11,173 reid_baseline INFO: Running with config:
DATALOADER:
  NUM_INSTANCE: 4
  NUM_WORKERS: 4
  SAMPLER: softmax
DATASETS:
  NAMES: OfficeHome
  NAMES2: OfficeHome
  PLUS_NUM_ID: 100
  QUERY_MINING: False
  ROOT_TEST_DIR: ../data/OfficeHomeDataset/Art.txt
  ROOT_TRAIN_DIR: ../data/OfficeHomeDataset/Clipart.txt
  ROOT_TRAIN_DIR2: ../data/OfficeHomeDataset/Art.txt
INPUT:
  AA_PROB: 0.0
  PADDING: 0
  PIXEL_MEAN: [0.485, 0.456, 0.406]
  PIXEL_STD: [0.229, 0.224, 0.225]
  PROB: 0.5
  RE_PROB: 0.0
  SIZE_CROP: [224, 224]
  SIZE_TEST: [256, 256]
  SIZE_TRAIN: [256, 256]
MODEL:
  AIE_COE: 1.5
  BLOCK_PATTERN: 3_branches
  CAMERA_EMBEDDING: False
  COS_LAYER: False
  DEVICE: cuda
  DEVICE_ID: 3
  DEVIDE_LENGTH: 4
  DIST_TRAIN: False
  DROP_OUT: 0.0
  DROP_PATH: 0.1
  FC_SETTING: TransReID
  FROZEN: -1
  ID_LOSS_TYPE: softmax
  ID_LOSS_WEIGHT: 1.0
  IF_LABELSMOOTH: on
  IF_WITH_CENTER: no
  LAST_STRIDE: 1
  LOCAL_F: False
  METRIC_LOSS_TYPE: triplet
  NAME: transformer
  NECK: bnneck
  NO_MARGIN: True
  NO_SHUFFLE: False
  PATCH_SHUFFLE: 2
  PRETRAIN_CHOICE: imagenet
  PRETRAIN_PATH: ../data/pretrainModel/deit_base_distilled_patch16_224-df68dfff.pth
  PROB: 0.0
  RECIP_LOSS: 
  STRIDE_SIZE: [16, 16]
  TASK_TYPE: classify_DA
  THRESH: 0.23
  TRIPLET_LOSS_WEIGHT: 1.0
  Transformer_TYPE: uda_vit_base_patch16_224_TransReID
  UDA_STAGE: UDA
  VIEWPOINT_EMBEDDING: False
  YIWEI_NUM: 5
  lameda: 0.5
OUTPUT_DIR: ../logs/uda/deit_base/office-home/Clipart2ArtDRI_Contrastive0.0
SOLVER:
  BASE_LR: 0.008
  BIAS_LR_FACTOR: 2
  CENTER_LOSS_WEIGHT: 0.0005
  CENTER_LR: 0.5
  CHECKPOINT_PERIOD: 10
  CLUSTER_MARGIN: 0.3
  COSINE_MARGIN: 0.5
  COSINE_SCALE: 30
  EVAL_PERIOD: 1
  GAMMA: 0.0
  IMS_PER_BATCH: 16
  LARGE_FC_LR: False
  LOG_PERIOD: 100
  MARGIN: 0.3
  MAX_EPOCHS: 40
  MOMENTUM: 0.9
  OPTIMIZER_NAME: SGD
  RANGE_ALPHA: 0
  RANGE_BETA: 1
  RANGE_K: 2
  RANGE_LOSS_WEIGHT: 1
  RANGE_MARGIN: 0.3
  SEED: 1234
  STEPS: (40, 80)
  WARMUP_EPOCHS: 10
  WARMUP_FACTOR: 0.01
  WARMUP_METHOD: linear
  WEIGHT_DECAY: 0.0001
  WEIGHT_DECAY_BIAS: 0.0001
  WITH_PSEUDO_LABEL_FILTER: False
TEST:
  DIST_MAT: dist_mat.npy
  EVAL: True
  FEAT_NORM: yes
  FLIP_FEATS: off
  IMS_PER_BATCH: 64
  NECK_FEAT: after
  RE_RANKING: False
  RE_RANKING_TRACK: False
  WEIGHT: ../logs/trans4DA/transformer_120.pth
=> Office-Home loaded
Dataset statistics:
train Clipart and valid is Art
  ----------------------------------------
  subset   | # ids | # images | # cameras
  ----------------------------------------
  train   |    65 |     4365 |         1
  valid   |    65 |     2427 |         1
  ----------------------------------------
=> Office-Home loaded
Dataset statistics:
train Art and valid is Art
  ----------------------------------------
  subset   | # ids | # images | # cameras
  ----------------------------------------
  train   |    65 |     2427 |         1
  valid   |    65 |     2427 |         1
  ----------------------------------------
using Transformer_type: uda_vit_base_patch16_224_TransReID as a backbone
using stride: [16, 16], and part number is num_y14 * num_x14
using drop_path_rate is : 0.1
using aie_xishu is : 1.5
using 3branches blocks
distill need to choose right cls token in the pth
Resized position embedding: %s to %s torch.Size([1, 197, 768]) torch.Size([1, 197, 768])
Position embedding resize to height:14 width: 14
Loading pretrained ImageNet model......from ../data/pretrainModel/deit_base_distilled_patch16_224-df68dfff.pth
===========building uda transformer===========
label smooth on, numclasses: 65
2022-05-10 21:54:23,495 reid_baseline.train INFO: start training
2022-05-10 21:56:35,884 reid_baseline.train INFO: Epoch[1] Iteration[100/267] Loss1: 1.401, Loss2: 4.165, Loss3: 0.158,  Acc: 0.391, Acc2: 0.029, Acc2_pse: 0.029, Base Lr: 8.72e-04
2022-05-10 21:58:33,389 reid_baseline.train INFO: Epoch[1] Iteration[200/267] Loss1: 1.248, Loss2: 4.154, Loss3: 0.108,  Acc: 0.467, Acc2: 0.058, Acc2_pse: 0.058, Base Lr: 8.72e-04
2022-05-10 21:59:51,885 reid_baseline.train INFO: Epoch 1 done. Time per batch: 1.217[s] Speed: 13.2[samples/s]
2022-05-10 22:02:27,364 reid_baseline.train INFO: normal accuracy 0.10671611042439226 4.172286510467529 
2022-05-10 22:02:29,930 reid_baseline.train INFO: Classify Domain Adapatation Validation Results - Epoch: 1
2022-05-10 22:02:29,930 reid_baseline.train INFO: Accuracy: 10.7%, best Accuracy: 10.7%, min Mean_entropy: 4e+00
2022-05-10 22:04:26,307 reid_baseline.train INFO: Epoch[2] Iteration[100/267] Loss1: 0.918, Loss2: 4.088, Loss3: 0.095,  Acc: 0.631, Acc2: 0.108, Acc2_pse: 0.108, Base Lr: 1.66e-03
2022-05-10 22:06:21,029 reid_baseline.train INFO: Epoch[2] Iteration[200/267] Loss1: 0.916, Loss2: 4.061, Loss3: 0.010,  Acc: 0.631, Acc2: 0.128, Acc2_pse: 0.128, Base Lr: 1.66e-03
2022-05-10 22:07:35,527 reid_baseline.train INFO: Epoch 2 done. Time per batch: 1.149[s] Speed: 13.9[samples/s]
2022-05-10 22:10:12,079 reid_baseline.train INFO: normal accuracy 0.1508034610630408 4.1664533615112305 
2022-05-10 22:10:12,893 reid_baseline.train INFO: Classify Domain Adapatation Validation Results - Epoch: 2
2022-05-10 22:10:12,893 reid_baseline.train INFO: Accuracy: 15.1%, best Accuracy: 15.1%, min Mean_entropy: 4e+00
2022-05-10 22:12:13,688 reid_baseline.train INFO: Epoch[3] Iteration[100/267] Loss1: 0.876, Loss2: 3.929, Loss3: 0.031,  Acc: 0.633, Acc2: 0.139, Acc2_pse: 0.139, Base Lr: 2.46e-03
2022-05-10 22:14:09,069 reid_baseline.train INFO: Epoch[3] Iteration[200/267] Loss1: 0.872, Loss2: 3.891, Loss3: -0.018,  Acc: 0.638, Acc2: 0.148, Acc2_pse: 0.148, Base Lr: 2.46e-03
2022-05-10 22:15:22,269 reid_baseline.train INFO: Epoch 3 done. Time per batch: 1.172[s] Speed: 13.7[samples/s]
2022-05-10 22:17:55,934 reid_baseline.train INFO: normal accuracy 0.17511330861145447 4.138796329498291 
2022-05-10 22:17:56,818 reid_baseline.train INFO: Classify Domain Adapatation Validation Results - Epoch: 3
2022-05-10 22:17:56,818 reid_baseline.train INFO: Accuracy: 17.5%, best Accuracy: 17.5%, min Mean_entropy: 4e+00
2022-05-10 22:19:38,862 reid_baseline.train INFO: Epoch[4] Iteration[100/267] Loss1: 0.868, Loss2: 3.704, Loss3: 0.070,  Acc: 0.659, Acc2: 0.160, Acc2_pse: 0.160, Base Lr: 3.25e-03
2022-05-10 22:21:03,535 reid_baseline.train INFO: Epoch[4] Iteration[200/267] Loss1: 0.853, Loss2: 3.630, Loss3: -0.005,  Acc: 0.653, Acc2: 0.189, Acc2_pse: 0.189, Base Lr: 3.25e-03
2022-05-10 22:21:56,527 reid_baseline.train INFO: Epoch 4 done. Time per batch: 0.908[s] Speed: 17.6[samples/s]
2022-05-10 22:24:09,349 reid_baseline.train INFO: normal accuracy 0.23856613102595797 4.037204265594482 
2022-05-10 22:24:10,235 reid_baseline.train INFO: Classify Domain Adapatation Validation Results - Epoch: 4
2022-05-10 22:24:10,235 reid_baseline.train INFO: Accuracy: 23.9%, best Accuracy: 23.9%, min Mean_entropy: 4e+00
2022-05-10 22:25:43,545 reid_baseline.train INFO: Epoch[5] Iteration[100/267] Loss1: 0.860, Loss2: 3.449, Loss3: -0.044,  Acc: 0.645, Acc2: 0.192, Acc2_pse: 0.192, Base Lr: 4.04e-03
2022-05-10 22:27:11,581 reid_baseline.train INFO: Epoch[5] Iteration[200/267] Loss1: 0.847, Loss2: 3.342, Loss3: 0.021,  Acc: 0.654, Acc2: 0.241, Acc2_pse: 0.241, Base Lr: 4.04e-03
2022-05-10 22:28:25,731 reid_baseline.train INFO: Epoch 5 done. Time per batch: 0.964[s] Speed: 16.6[samples/s]
2022-05-10 22:30:54,655 reid_baseline.train INFO: normal accuracy 0.3819530284301607 3.8555595874786377 
2022-05-10 22:30:55,697 reid_baseline.train INFO: Classify Domain Adapatation Validation Results - Epoch: 5
2022-05-10 22:30:55,697 reid_baseline.train INFO: Accuracy: 38.2%, best Accuracy: 38.2%, min Mean_entropy: 4e+00
2022-05-10 22:33:00,152 reid_baseline.train INFO: Epoch[6] Iteration[100/267] Loss1: 0.822, Loss2: 3.081, Loss3: -0.038,  Acc: 0.657, Acc2: 0.326, Acc2_pse: 0.326, Base Lr: 4.83e-03
2022-05-10 22:35:03,369 reid_baseline.train INFO: Epoch[6] Iteration[200/267] Loss1: 0.820, Loss2: 3.046, Loss3: -0.048,  Acc: 0.657, Acc2: 0.335, Acc2_pse: 0.335, Base Lr: 4.83e-03
2022-05-10 22:36:17,268 reid_baseline.train INFO: Epoch 6 done. Time per batch: 1.218[s] Speed: 13.1[samples/s]
2022-05-10 22:38:50,173 reid_baseline.train INFO: normal accuracy 0.4779563246806757 3.584913730621338 
2022-05-10 22:38:52,614 reid_baseline.train INFO: Classify Domain Adapatation Validation Results - Epoch: 6
2022-05-10 22:38:52,614 reid_baseline.train INFO: Accuracy: 47.8%, best Accuracy: 47.8%, min Mean_entropy: 4e+00
2022-05-10 22:40:54,574 reid_baseline.train INFO: Epoch[7] Iteration[100/267] Loss1: 0.843, Loss2: 2.851, Loss3: -0.089,  Acc: 0.649, Acc2: 0.390, Acc2_pse: 0.390, Base Lr: 5.62e-03
2022-05-10 22:42:51,084 reid_baseline.train INFO: Epoch[7] Iteration[200/267] Loss1: 0.840, Loss2: 2.779, Loss3: -0.029,  Acc: 0.654, Acc2: 0.414, Acc2_pse: 0.414, Base Lr: 5.62e-03
2022-05-10 22:43:53,931 reid_baseline.train INFO: Epoch 7 done. Time per batch: 1.146[s] Speed: 14.0[samples/s]
2022-05-10 22:46:03,129 reid_baseline.train INFO: normal accuracy 0.5348166460651009 3.287545919418335 
2022-05-10 22:46:03,958 reid_baseline.train INFO: Classify Domain Adapatation Validation Results - Epoch: 7
2022-05-10 22:46:03,958 reid_baseline.train INFO: Accuracy: 53.5%, best Accuracy: 53.5%, min Mean_entropy: 3e+00
2022-05-10 22:47:27,539 reid_baseline.train INFO: Epoch[8] Iteration[100/267] Loss1: 0.844, Loss2: 2.573, Loss3: 0.033,  Acc: 0.655, Acc2: 0.473, Acc2_pse: 0.473, Base Lr: 6.42e-03
2022-05-10 22:48:48,296 reid_baseline.train INFO: Epoch[8] Iteration[200/267] Loss1: 0.839, Loss2: 2.545, Loss3: -0.016,  Acc: 0.655, Acc2: 0.484, Acc2_pse: 0.484, Base Lr: 6.42e-03
2022-05-10 22:49:43,318 reid_baseline.train INFO: Epoch 8 done. Time per batch: 0.828[s] Speed: 19.3[samples/s]
2022-05-10 22:51:50,475 reid_baseline.train INFO: normal accuracy 0.580552121961269 2.9825191497802734 
2022-05-10 22:51:51,405 reid_baseline.train INFO: Classify Domain Adapatation Validation Results - Epoch: 8
2022-05-10 22:51:51,406 reid_baseline.train INFO: Accuracy: 58.1%, best Accuracy: 58.1%, min Mean_entropy: 3e+00
2022-05-10 22:53:16,685 reid_baseline.train INFO: Epoch[9] Iteration[100/267] Loss1: 0.846, Loss2: 2.371, Loss3: -0.010,  Acc: 0.657, Acc2: 0.492, Acc2_pse: 0.492, Base Lr: 7.21e-03
2022-05-10 22:54:39,513 reid_baseline.train INFO: Epoch[9] Iteration[200/267] Loss1: 0.849, Loss2: 2.347, Loss3: -0.006,  Acc: 0.649, Acc2: 0.517, Acc2_pse: 0.517, Base Lr: 7.21e-03
2022-05-10 22:55:30,074 reid_baseline.train INFO: Epoch 9 done. Time per batch: 0.828[s] Speed: 19.3[samples/s]
2022-05-10 22:57:40,577 reid_baseline.train INFO: normal accuracy 0.5978574371652245 2.7523367404937744 
2022-05-10 22:57:41,427 reid_baseline.train INFO: Classify Domain Adapatation Validation Results - Epoch: 9
2022-05-10 22:57:41,427 reid_baseline.train INFO: Accuracy: 59.8%, best Accuracy: 59.8%, min Mean_entropy: 3e+00
2022-05-10 22:59:04,198 reid_baseline.train INFO: Epoch[10] Iteration[100/267] Loss1: 0.869, Loss2: 2.208, Loss3: -0.036,  Acc: 0.630, Acc2: 0.568, Acc2_pse: 0.568, Base Lr: 6.83e-03
2022-05-10 23:00:25,416 reid_baseline.train INFO: Epoch[10] Iteration[200/267] Loss1: 0.828, Loss2: 2.194, Loss3: 0.061,  Acc: 0.664, Acc2: 0.575, Acc2_pse: 0.575, Base Lr: 6.83e-03
2022-05-10 23:01:17,978 reid_baseline.train INFO: Epoch 10 done. Time per batch: 0.817[s] Speed: 19.6[samples/s]
2022-05-10 23:03:28,203 reid_baseline.train INFO: normal accuracy 0.6209311907704985 2.549778461456299 
2022-05-10 23:03:29,081 reid_baseline.train INFO: Classify Domain Adapatation Validation Results - Epoch: 10
2022-05-10 23:03:29,081 reid_baseline.train INFO: Accuracy: 62.1%, best Accuracy: 62.1%, min Mean_entropy: 3e+00
2022-05-10 23:04:52,327 reid_baseline.train INFO: Epoch[11] Iteration[100/267] Loss1: 0.824, Loss2: 2.112, Loss3: -0.111,  Acc: 0.663, Acc2: 0.604, Acc2_pse: 0.604, Base Lr: 6.60e-03
2022-05-10 23:06:15,858 reid_baseline.train INFO: Epoch[11] Iteration[200/267] Loss1: 0.815, Loss2: 2.081, Loss3: -0.142,  Acc: 0.662, Acc2: 0.609, Acc2_pse: 0.609, Base Lr: 6.60e-03
2022-05-10 23:07:10,487 reid_baseline.train INFO: Epoch 11 done. Time per batch: 0.832[s] Speed: 19.2[samples/s]
2022-05-10 23:09:19,681 reid_baseline.train INFO: normal accuracy 0.6444169756901524 2.4515511989593506 
2022-05-10 23:09:20,504 reid_baseline.train INFO: Classify Domain Adapatation Validation Results - Epoch: 11
2022-05-10 23:09:20,505 reid_baseline.train INFO: Accuracy: 64.4%, best Accuracy: 64.4%, min Mean_entropy: 2e+00
2022-05-10 23:10:45,659 reid_baseline.train INFO: Epoch[12] Iteration[100/267] Loss1: 0.823, Loss2: 1.970, Loss3: -0.044,  Acc: 0.667, Acc2: 0.639, Acc2_pse: 0.639, Base Lr: 6.35e-03
2022-05-10 23:12:09,070 reid_baseline.train INFO: Epoch[12] Iteration[200/267] Loss1: 0.811, Loss2: 1.956, Loss3: -0.032,  Acc: 0.671, Acc2: 0.646, Acc2_pse: 0.646, Base Lr: 6.35e-03
2022-05-10 23:13:01,561 reid_baseline.train INFO: Epoch 12 done. Time per batch: 0.834[s] Speed: 19.2[samples/s]
2022-05-10 23:15:08,763 reid_baseline.train INFO: normal accuracy 0.6345282241450351 2.4875779151916504 
2022-05-10 23:15:08,764 reid_baseline.train INFO: Classify Domain Adapatation Validation Results - Epoch: 12
2022-05-10 23:15:08,764 reid_baseline.train INFO: Accuracy: 63.5%, best Accuracy: 64.4%, min Mean_entropy: 2e+00
2022-05-10 23:16:33,454 reid_baseline.train INFO: Epoch[13] Iteration[100/267] Loss1: 0.804, Loss2: 1.908, Loss3: -0.011,  Acc: 0.670, Acc2: 0.664, Acc2_pse: 0.664, Base Lr: 6.09e-03
2022-05-10 23:17:53,031 reid_baseline.train INFO: Epoch[13] Iteration[200/267] Loss1: 0.808, Loss2: 1.892, Loss3: -0.003,  Acc: 0.670, Acc2: 0.667, Acc2_pse: 0.667, Base Lr: 6.09e-03
2022-05-10 23:18:44,525 reid_baseline.train INFO: Epoch 13 done. Time per batch: 0.814[s] Speed: 19.7[samples/s]
2022-05-10 23:20:44,898 reid_baseline.train INFO: normal accuracy 0.6510094767202307 2.3169054985046387 
2022-05-10 23:20:45,722 reid_baseline.train INFO: Classify Domain Adapatation Validation Results - Epoch: 13
2022-05-10 23:20:45,723 reid_baseline.train INFO: Accuracy: 65.1%, best Accuracy: 65.1%, min Mean_entropy: 2e+00
2022-05-10 23:22:06,762 reid_baseline.train INFO: Epoch[14] Iteration[100/267] Loss1: 0.782, Loss2: 1.803, Loss3: 0.094,  Acc: 0.690, Acc2: 0.689, Acc2_pse: 0.689, Base Lr: 5.82e-03
2022-05-10 23:23:26,221 reid_baseline.train INFO: Epoch[14] Iteration[200/267] Loss1: 0.793, Loss2: 1.817, Loss3: 0.066,  Acc: 0.674, Acc2: 0.687, Acc2_pse: 0.687, Base Lr: 5.82e-03
2022-05-10 23:24:17,532 reid_baseline.train INFO: Epoch 14 done. Time per batch: 0.799[s] Speed: 20.0[samples/s]
2022-05-10 23:26:08,435 reid_baseline.train INFO: normal accuracy 0.6378244746600742 2.0495643615722656 
2022-05-10 23:26:08,435 reid_baseline.train INFO: Classify Domain Adapatation Validation Results - Epoch: 14
2022-05-10 23:26:08,435 reid_baseline.train INFO: Accuracy: 63.8%, best Accuracy: 65.1%, min Mean_entropy: 2e+00
2022-05-10 23:27:29,069 reid_baseline.train INFO: Epoch[15] Iteration[100/267] Loss1: 0.846, Loss2: 1.771, Loss3: 0.030,  Acc: 0.662, Acc2: 0.704, Acc2_pse: 0.704, Base Lr: 5.54e-03
2022-05-10 23:28:48,444 reid_baseline.train INFO: Epoch[15] Iteration[200/267] Loss1: 0.820, Loss2: 1.767, Loss3: 0.040,  Acc: 0.671, Acc2: 0.699, Acc2_pse: 0.699, Base Lr: 5.54e-03
2022-05-10 23:29:38,333 reid_baseline.train INFO: Epoch 15 done. Time per batch: 0.795[s] Speed: 20.1[samples/s]
2022-05-10 23:31:33,196 reid_baseline.train INFO: normal accuracy 0.6534816646065101 1.968843936920166 
2022-05-10 23:31:33,987 reid_baseline.train INFO: Classify Domain Adapatation Validation Results - Epoch: 15
2022-05-10 23:31:33,988 reid_baseline.train INFO: Accuracy: 65.3%, best Accuracy: 65.3%, min Mean_entropy: 2e+00
2022-05-10 23:32:54,332 reid_baseline.train INFO: Epoch[16] Iteration[100/267] Loss1: 0.848, Loss2: 1.758, Loss3: -0.085,  Acc: 0.640, Acc2: 0.702, Acc2_pse: 0.702, Base Lr: 5.24e-03
2022-05-10 23:34:13,296 reid_baseline.train INFO: Epoch[16] Iteration[200/267] Loss1: 0.817, Loss2: 1.721, Loss3: -0.002,  Acc: 0.663, Acc2: 0.716, Acc2_pse: 0.716, Base Lr: 5.24e-03
2022-05-10 23:35:03,941 reid_baseline.train INFO: Epoch 16 done. Time per batch: 0.792[s] Speed: 20.2[samples/s]
2022-05-10 23:37:01,135 reid_baseline.train INFO: normal accuracy 0.6596621343222084 2.0531039237976074 
2022-05-10 23:37:02,320 reid_baseline.train INFO: Classify Domain Adapatation Validation Results - Epoch: 16
2022-05-10 23:37:02,322 reid_baseline.train INFO: Accuracy: 66.0%, best Accuracy: 66.0%, min Mean_entropy: 2e+00
2022-05-10 23:38:23,483 reid_baseline.train INFO: Epoch[17] Iteration[100/267] Loss1: 0.815, Loss2: 1.730, Loss3: -0.032,  Acc: 0.664, Acc2: 0.709, Acc2_pse: 0.709, Base Lr: 4.94e-03
2022-05-10 23:39:42,262 reid_baseline.train INFO: Epoch[17] Iteration[200/267] Loss1: 0.801, Loss2: 1.692, Loss3: 0.025,  Acc: 0.677, Acc2: 0.722, Acc2_pse: 0.722, Base Lr: 4.94e-03
2022-05-10 23:40:32,228 reid_baseline.train INFO: Epoch 17 done. Time per batch: 0.795[s] Speed: 20.1[samples/s]
2022-05-10 23:42:23,976 reid_baseline.train INFO: normal accuracy 0.6534816646065101 1.8988044261932373 
2022-05-10 23:42:23,976 reid_baseline.train INFO: Classify Domain Adapatation Validation Results - Epoch: 17
2022-05-10 23:42:23,976 reid_baseline.train INFO: Accuracy: 65.3%, best Accuracy: 66.0%, min Mean_entropy: 2e+00
2022-05-10 23:43:42,536 reid_baseline.train INFO: Epoch[18] Iteration[100/267] Loss1: 0.852, Loss2: 1.653, Loss3: -0.024,  Acc: 0.649, Acc2: 0.731, Acc2_pse: 0.731, Base Lr: 4.63e-03
2022-05-10 23:45:00,313 reid_baseline.train INFO: Epoch[18] Iteration[200/267] Loss1: 0.838, Loss2: 1.637, Loss3: -0.033,  Acc: 0.655, Acc2: 0.737, Acc2_pse: 0.737, Base Lr: 4.63e-03
2022-05-10 23:45:41,492 reid_baseline.train INFO: Epoch 18 done. Time per batch: 0.745[s] Speed: 21.5[samples/s]
2022-05-10 23:47:27,350 reid_baseline.train INFO: normal accuracy 0.661722290894108 1.8509774208068848 
2022-05-10 23:47:28,164 reid_baseline.train INFO: Classify Domain Adapatation Validation Results - Epoch: 18
2022-05-10 23:47:28,164 reid_baseline.train INFO: Accuracy: 66.2%, best Accuracy: 66.2%, min Mean_entropy: 2e+00
2022-05-10 23:48:19,730 reid_baseline.train INFO: Epoch[19] Iteration[100/267] Loss1: 0.796, Loss2: 1.656, Loss3: -0.008,  Acc: 0.680, Acc2: 0.739, Acc2_pse: 0.739, Base Lr: 4.32e-03
2022-05-10 23:49:04,111 reid_baseline.train INFO: Epoch[19] Iteration[200/267] Loss1: 0.801, Loss2: 1.607, Loss3: 0.042,  Acc: 0.677, Acc2: 0.752, Acc2_pse: 0.752, Base Lr: 4.32e-03
2022-05-10 23:49:33,872 reid_baseline.train INFO: Epoch 19 done. Time per batch: 0.474[s] Speed: 33.7[samples/s]
2022-05-10 23:51:27,950 reid_baseline.train INFO: normal accuracy 0.6555418211784095 1.8502302169799805 
2022-05-10 23:51:27,950 reid_baseline.train INFO: Classify Domain Adapatation Validation Results - Epoch: 19
2022-05-10 23:51:27,950 reid_baseline.train INFO: Accuracy: 65.6%, best Accuracy: 66.2%, min Mean_entropy: 2e+00
2022-05-10 23:52:16,406 reid_baseline.train INFO: Epoch[20] Iteration[100/267] Loss1: 0.798, Loss2: 1.584, Loss3: -0.032,  Acc: 0.669, Acc2: 0.751, Acc2_pse: 0.751, Base Lr: 4.01e-03
2022-05-10 23:53:02,683 reid_baseline.train INFO: Epoch[20] Iteration[200/267] Loss1: 0.802, Loss2: 1.554, Loss3: 0.012,  Acc: 0.672, Acc2: 0.763, Acc2_pse: 0.763, Base Lr: 4.01e-03
2022-05-10 23:53:33,514 reid_baseline.train INFO: Epoch 20 done. Time per batch: 0.474[s] Speed: 33.8[samples/s]
2022-05-10 23:55:21,932 reid_baseline.train INFO: normal accuracy 0.6592501030078286 1.862912654876709 
2022-05-10 23:55:21,932 reid_baseline.train INFO: Classify Domain Adapatation Validation Results - Epoch: 20
2022-05-10 23:55:21,932 reid_baseline.train INFO: Accuracy: 65.9%, best Accuracy: 66.2%, min Mean_entropy: 2e+00
2022-05-10 23:56:12,060 reid_baseline.train INFO: Epoch[21] Iteration[100/267] Loss1: 0.810, Loss2: 1.547, Loss3: -0.010,  Acc: 0.674, Acc2: 0.773, Acc2_pse: 0.773, Base Lr: 3.69e-03
2022-05-10 23:56:59,108 reid_baseline.train INFO: Epoch[21] Iteration[200/267] Loss1: 0.810, Loss2: 1.525, Loss3: -0.038,  Acc: 0.668, Acc2: 0.774, Acc2_pse: 0.774, Base Lr: 3.69e-03
2022-05-10 23:57:28,626 reid_baseline.train INFO: Epoch 21 done. Time per batch: 0.478[s] Speed: 33.5[samples/s]
2022-05-10 23:59:14,169 reid_baseline.train INFO: normal accuracy 0.661722290894108 1.7565556764602661 
2022-05-10 23:59:14,169 reid_baseline.train INFO: Classify Domain Adapatation Validation Results - Epoch: 21
2022-05-10 23:59:14,169 reid_baseline.train INFO: Accuracy: 66.2%, best Accuracy: 66.2%, min Mean_entropy: 2e+00
2022-05-11 00:00:04,384 reid_baseline.train INFO: Epoch[22] Iteration[100/267] Loss1: 0.848, Loss2: 1.542, Loss3: -0.030,  Acc: 0.642, Acc2: 0.769, Acc2_pse: 0.769, Base Lr: 3.38e-03
2022-05-11 00:00:51,154 reid_baseline.train INFO: Epoch[22] Iteration[200/267] Loss1: 0.855, Loss2: 1.510, Loss3: -0.039,  Acc: 0.643, Acc2: 0.779, Acc2_pse: 0.779, Base Lr: 3.38e-03
2022-05-11 00:01:21,336 reid_baseline.train INFO: Epoch 22 done. Time per batch: 0.482[s] Speed: 33.2[samples/s]
2022-05-11 00:03:10,107 reid_baseline.train INFO: normal accuracy 0.6596621343222084 1.7174122333526611 
2022-05-11 00:03:10,107 reid_baseline.train INFO: Classify Domain Adapatation Validation Results - Epoch: 22
2022-05-11 00:03:10,107 reid_baseline.train INFO: Accuracy: 66.0%, best Accuracy: 66.2%, min Mean_entropy: 2e+00
2022-05-11 00:03:58,992 reid_baseline.train INFO: Epoch[23] Iteration[100/267] Loss1: 0.781, Loss2: 1.529, Loss3: -0.080,  Acc: 0.680, Acc2: 0.776, Acc2_pse: 0.776, Base Lr: 3.08e-03
2022-05-11 00:04:47,150 reid_baseline.train INFO: Epoch[23] Iteration[200/267] Loss1: 0.790, Loss2: 1.482, Loss3: -0.030,  Acc: 0.679, Acc2: 0.783, Acc2_pse: 0.783, Base Lr: 3.08e-03
2022-05-11 00:05:17,006 reid_baseline.train INFO: Epoch 23 done. Time per batch: 0.482[s] Speed: 33.2[samples/s]
2022-05-11 00:07:03,271 reid_baseline.train INFO: normal accuracy 0.6720230737536053 1.795130729675293 
2022-05-11 00:07:04,062 reid_baseline.train INFO: Classify Domain Adapatation Validation Results - Epoch: 23
2022-05-11 00:07:04,063 reid_baseline.train INFO: Accuracy: 67.2%, best Accuracy: 67.2%, min Mean_entropy: 2e+00
2022-05-11 00:07:52,653 reid_baseline.train INFO: Epoch[24] Iteration[100/267] Loss1: 0.841, Loss2: 1.501, Loss3: -0.015,  Acc: 0.646, Acc2: 0.791, Acc2_pse: 0.791, Base Lr: 2.77e-03
2022-05-11 00:08:38,434 reid_baseline.train INFO: Epoch[24] Iteration[200/267] Loss1: 0.822, Loss2: 1.463, Loss3: 0.012,  Acc: 0.662, Acc2: 0.797, Acc2_pse: 0.797, Base Lr: 2.77e-03
2022-05-11 00:09:08,263 reid_baseline.train INFO: Epoch 24 done. Time per batch: 0.467[s] Speed: 34.3[samples/s]
2022-05-11 00:10:50,676 reid_baseline.train INFO: normal accuracy 0.6687268232385661 1.808701992034912 
2022-05-11 00:10:50,677 reid_baseline.train INFO: Classify Domain Adapatation Validation Results - Epoch: 24
2022-05-11 00:10:50,677 reid_baseline.train INFO: Accuracy: 66.9%, best Accuracy: 67.2%, min Mean_entropy: 2e+00
2022-05-11 00:11:41,425 reid_baseline.train INFO: Epoch[25] Iteration[100/267] Loss1: 0.807, Loss2: 1.494, Loss3: -0.118,  Acc: 0.666, Acc2: 0.783, Acc2_pse: 0.783, Base Lr: 2.48e-03
2022-05-11 00:12:28,250 reid_baseline.train INFO: Epoch[25] Iteration[200/267] Loss1: 0.807, Loss2: 1.467, Loss3: -0.070,  Acc: 0.668, Acc2: 0.794, Acc2_pse: 0.794, Base Lr: 2.48e-03
2022-05-11 00:12:57,486 reid_baseline.train INFO: Epoch 25 done. Time per batch: 0.484[s] Speed: 33.1[samples/s]
2022-05-11 00:14:44,458 reid_baseline.train INFO: normal accuracy 0.6679027606098064 1.7629057168960571 
2022-05-11 00:14:44,458 reid_baseline.train INFO: Classify Domain Adapatation Validation Results - Epoch: 25
2022-05-11 00:14:44,458 reid_baseline.train INFO: Accuracy: 66.8%, best Accuracy: 67.2%, min Mean_entropy: 2e+00
2022-05-11 00:15:33,994 reid_baseline.train INFO: Epoch[26] Iteration[100/267] Loss1: 0.813, Loss2: 1.472, Loss3: 0.044,  Acc: 0.672, Acc2: 0.776, Acc2_pse: 0.776, Base Lr: 2.20e-03
2022-05-11 00:16:22,421 reid_baseline.train INFO: Epoch[26] Iteration[200/267] Loss1: 0.799, Loss2: 1.441, Loss3: 0.056,  Acc: 0.678, Acc2: 0.796, Acc2_pse: 0.796, Base Lr: 2.20e-03
2022-05-11 00:16:52,818 reid_baseline.train INFO: Epoch 26 done. Time per batch: 0.484[s] Speed: 33.0[samples/s]
2022-05-11 00:18:38,641 reid_baseline.train INFO: normal accuracy 0.6716110424392254 1.6876851320266724 
2022-05-11 00:18:38,641 reid_baseline.train INFO: Classify Domain Adapatation Validation Results - Epoch: 26
2022-05-11 00:18:38,641 reid_baseline.train INFO: Accuracy: 67.2%, best Accuracy: 67.2%, min Mean_entropy: 2e+00
2022-05-11 00:19:28,028 reid_baseline.train INFO: Epoch[27] Iteration[100/267] Loss1: 0.784, Loss2: 1.461, Loss3: 0.030,  Acc: 0.680, Acc2: 0.788, Acc2_pse: 0.788, Base Lr: 1.92e-03
2022-05-11 00:20:17,794 reid_baseline.train INFO: Epoch[27] Iteration[200/267] Loss1: 0.780, Loss2: 1.443, Loss3: 0.028,  Acc: 0.685, Acc2: 0.796, Acc2_pse: 0.796, Base Lr: 1.92e-03
2022-05-11 00:20:47,670 reid_baseline.train INFO: Epoch 27 done. Time per batch: 0.487[s] Speed: 32.9[samples/s]
2022-05-11 00:22:32,143 reid_baseline.train INFO: normal accuracy 0.680675731355583 1.606972575187683 
2022-05-11 00:22:32,966 reid_baseline.train INFO: Classify Domain Adapatation Validation Results - Epoch: 27
2022-05-11 00:22:32,966 reid_baseline.train INFO: Accuracy: 68.1%, best Accuracy: 68.1%, min Mean_entropy: 2e+00
2022-05-11 00:23:21,921 reid_baseline.train INFO: Epoch[28] Iteration[100/267] Loss1: 0.752, Loss2: 1.440, Loss3: 0.057,  Acc: 0.696, Acc2: 0.795, Acc2_pse: 0.795, Base Lr: 1.66e-03
2022-05-11 00:24:09,005 reid_baseline.train INFO: Epoch[28] Iteration[200/267] Loss1: 0.758, Loss2: 1.418, Loss3: 0.046,  Acc: 0.694, Acc2: 0.802, Acc2_pse: 0.802, Base Lr: 1.66e-03
2022-05-11 00:24:38,401 reid_baseline.train INFO: Epoch 28 done. Time per batch: 0.473[s] Speed: 33.8[samples/s]
2022-05-11 00:26:26,548 reid_baseline.train INFO: normal accuracy 0.673259167696745 1.6224018335342407 
2022-05-11 00:26:26,548 reid_baseline.train INFO: Classify Domain Adapatation Validation Results - Epoch: 28
2022-05-11 00:26:26,548 reid_baseline.train INFO: Accuracy: 67.3%, best Accuracy: 68.1%, min Mean_entropy: 2e+00
2022-05-11 00:27:14,802 reid_baseline.train INFO: Epoch[29] Iteration[100/267] Loss1: 0.816, Loss2: 1.410, Loss3: -0.040,  Acc: 0.666, Acc2: 0.802, Acc2_pse: 0.802, Base Lr: 1.42e-03
2022-05-11 00:28:03,255 reid_baseline.train INFO: Epoch[29] Iteration[200/267] Loss1: 0.805, Loss2: 1.390, Loss3: -0.030,  Acc: 0.668, Acc2: 0.806, Acc2_pse: 0.806, Base Lr: 1.42e-03
2022-05-11 00:28:35,232 reid_baseline.train INFO: Epoch 29 done. Time per batch: 0.485[s] Speed: 33.0[samples/s]
2022-05-11 00:30:23,014 reid_baseline.train INFO: normal accuracy 0.6765554182117841 1.531922698020935 
2022-05-11 00:30:23,014 reid_baseline.train INFO: Classify Domain Adapatation Validation Results - Epoch: 29
2022-05-11 00:30:23,014 reid_baseline.train INFO: Accuracy: 67.7%, best Accuracy: 68.1%, min Mean_entropy: 2e+00
2022-05-11 00:31:10,455 reid_baseline.train INFO: Epoch[30] Iteration[100/267] Loss1: 0.817, Loss2: 1.367, Loss3: -0.052,  Acc: 0.666, Acc2: 0.818, Acc2_pse: 0.818, Base Lr: 1.19e-03
2022-05-11 00:31:54,926 reid_baseline.train INFO: Epoch[30] Iteration[200/267] Loss1: 0.808, Loss2: 1.367, Loss3: -0.045,  Acc: 0.666, Acc2: 0.818, Acc2_pse: 0.818, Base Lr: 1.19e-03
2022-05-11 00:32:24,589 reid_baseline.train INFO: Epoch 30 done. Time per batch: 0.460[s] Speed: 34.8[samples/s]
2022-05-11 00:34:12,236 reid_baseline.train INFO: normal accuracy 0.6794396374124434 1.5816946029663086 
2022-05-11 00:34:12,237 reid_baseline.train INFO: Classify Domain Adapatation Validation Results - Epoch: 30
2022-05-11 00:34:12,237 reid_baseline.train INFO: Accuracy: 67.9%, best Accuracy: 68.1%, min Mean_entropy: 2e+00
2022-05-11 00:35:01,543 reid_baseline.train INFO: Epoch[31] Iteration[100/267] Loss1: 0.815, Loss2: 1.417, Loss3: 0.037,  Acc: 0.680, Acc2: 0.810, Acc2_pse: 0.810, Base Lr: 9.72e-04
2022-05-11 00:35:46,857 reid_baseline.train INFO: Epoch[31] Iteration[200/267] Loss1: 0.788, Loss2: 1.404, Loss3: 0.025,  Acc: 0.686, Acc2: 0.812, Acc2_pse: 0.812, Base Lr: 9.72e-04
2022-05-11 00:36:17,014 reid_baseline.train INFO: Epoch 31 done. Time per batch: 0.470[s] Speed: 34.0[samples/s]
2022-05-11 00:38:02,414 reid_baseline.train INFO: normal accuracy 0.6765554182117841 1.6756843328475952 
2022-05-11 00:38:02,414 reid_baseline.train INFO: Classify Domain Adapatation Validation Results - Epoch: 31
2022-05-11 00:38:02,414 reid_baseline.train INFO: Accuracy: 67.7%, best Accuracy: 68.1%, min Mean_entropy: 2e+00
2022-05-11 00:38:52,526 reid_baseline.train INFO: Epoch[32] Iteration[100/267] Loss1: 0.818, Loss2: 1.392, Loss3: -0.039,  Acc: 0.658, Acc2: 0.815, Acc2_pse: 0.815, Base Lr: 7.78e-04
2022-05-11 00:39:38,719 reid_baseline.train INFO: Epoch[32] Iteration[200/267] Loss1: 0.811, Loss2: 1.366, Loss3: -0.025,  Acc: 0.672, Acc2: 0.827, Acc2_pse: 0.827, Base Lr: 7.78e-04
2022-05-11 00:40:09,437 reid_baseline.train INFO: Epoch 32 done. Time per batch: 0.477[s] Speed: 33.5[samples/s]
2022-05-11 00:41:56,650 reid_baseline.train INFO: normal accuracy 0.6794396374124434 1.623645544052124 
2022-05-11 00:41:56,650 reid_baseline.train INFO: Classify Domain Adapatation Validation Results - Epoch: 32
2022-05-11 00:41:56,650 reid_baseline.train INFO: Accuracy: 67.9%, best Accuracy: 68.1%, min Mean_entropy: 2e+00
2022-05-11 00:42:46,265 reid_baseline.train INFO: Epoch[33] Iteration[100/267] Loss1: 0.765, Loss2: 1.360, Loss3: 0.008,  Acc: 0.691, Acc2: 0.821, Acc2_pse: 0.821, Base Lr: 6.04e-04
2022-05-11 00:43:32,527 reid_baseline.train INFO: Epoch[33] Iteration[200/267] Loss1: 0.780, Loss2: 1.356, Loss3: -0.008,  Acc: 0.684, Acc2: 0.831, Acc2_pse: 0.831, Base Lr: 6.04e-04
2022-05-11 00:44:02,528 reid_baseline.train INFO: Epoch 33 done. Time per batch: 0.475[s] Speed: 33.7[samples/s]
2022-05-11 00:45:50,911 reid_baseline.train INFO: normal accuracy 0.6794396374124434 1.5154606103897095 
2022-05-11 00:45:50,912 reid_baseline.train INFO: Classify Domain Adapatation Validation Results - Epoch: 33
2022-05-11 00:45:50,912 reid_baseline.train INFO: Accuracy: 67.9%, best Accuracy: 68.1%, min Mean_entropy: 2e+00
2022-05-11 00:46:39,091 reid_baseline.train INFO: Epoch[34] Iteration[100/267] Loss1: 0.836, Loss2: 1.372, Loss3: -0.074,  Acc: 0.656, Acc2: 0.820, Acc2_pse: 0.820, Base Lr: 4.51e-04
2022-05-11 00:47:30,997 reid_baseline.train INFO: Epoch[34] Iteration[200/267] Loss1: 0.822, Loss2: 1.369, Loss3: -0.025,  Acc: 0.665, Acc2: 0.824, Acc2_pse: 0.824, Base Lr: 4.51e-04
2022-05-11 00:48:00,723 reid_baseline.train INFO: Epoch 34 done. Time per batch: 0.489[s] Speed: 32.7[samples/s]
2022-05-11 00:49:43,218 reid_baseline.train INFO: normal accuracy 0.6777915121549237 1.4933794736862183 
2022-05-11 00:49:43,218 reid_baseline.train INFO: Classify Domain Adapatation Validation Results - Epoch: 34
2022-05-11 00:49:43,218 reid_baseline.train INFO: Accuracy: 67.8%, best Accuracy: 68.1%, min Mean_entropy: 2e+00
2022-05-11 00:50:33,604 reid_baseline.train INFO: Epoch[35] Iteration[100/267] Loss1: 0.809, Loss2: 1.326, Loss3: -0.069,  Acc: 0.668, Acc2: 0.840, Acc2_pse: 0.840, Base Lr: 3.20e-04
2022-05-11 00:51:19,882 reid_baseline.train INFO: Epoch[35] Iteration[200/267] Loss1: 0.803, Loss2: 1.331, Loss3: -0.029,  Acc: 0.672, Acc2: 0.836, Acc2_pse: 0.836, Base Lr: 3.20e-04
2022-05-11 00:51:51,618 reid_baseline.train INFO: Epoch 35 done. Time per batch: 0.484[s] Speed: 33.0[samples/s]
2022-05-11 00:53:34,613 reid_baseline.train INFO: normal accuracy 0.6740832303255048 1.6997108459472656 
2022-05-11 00:53:34,613 reid_baseline.train INFO: Classify Domain Adapatation Validation Results - Epoch: 35
2022-05-11 00:53:34,613 reid_baseline.train INFO: Accuracy: 67.4%, best Accuracy: 68.1%, min Mean_entropy: 2e+00
2022-05-11 00:54:23,111 reid_baseline.train INFO: Epoch[36] Iteration[100/267] Loss1: 0.824, Loss2: 1.413, Loss3: -0.192,  Acc: 0.662, Acc2: 0.797, Acc2_pse: 0.797, Base Lr: 2.11e-04
2022-05-11 00:55:09,779 reid_baseline.train INFO: Epoch[36] Iteration[200/267] Loss1: 0.801, Loss2: 1.366, Loss3: -0.122,  Acc: 0.666, Acc2: 0.813, Acc2_pse: 0.813, Base Lr: 2.11e-04
2022-05-11 00:55:39,018 reid_baseline.train INFO: Epoch 36 done. Time per batch: 0.471[s] Speed: 34.0[samples/s]
2022-05-11 00:57:27,901 reid_baseline.train INFO: normal accuracy 0.673259167696745 1.7071119546890259 
2022-05-11 00:57:27,901 reid_baseline.train INFO: Classify Domain Adapatation Validation Results - Epoch: 36
2022-05-11 00:57:27,901 reid_baseline.train INFO: Accuracy: 67.3%, best Accuracy: 68.1%, min Mean_entropy: 2e+00
2022-05-11 00:58:16,097 reid_baseline.train INFO: Epoch[37] Iteration[100/267] Loss1: 0.783, Loss2: 1.377, Loss3: 0.019,  Acc: 0.685, Acc2: 0.823, Acc2_pse: 0.823, Base Lr: 1.26e-04
2022-05-11 00:59:02,260 reid_baseline.train INFO: Epoch[37] Iteration[200/267] Loss1: 0.779, Loss2: 1.354, Loss3: 0.016,  Acc: 0.685, Acc2: 0.828, Acc2_pse: 0.828, Base Lr: 1.26e-04
2022-05-11 00:59:33,233 reid_baseline.train INFO: Epoch 37 done. Time per batch: 0.473[s] Speed: 33.9[samples/s]
2022-05-11 01:01:22,046 reid_baseline.train INFO: normal accuracy 0.6757313555830243 1.574100136756897 
2022-05-11 01:01:22,047 reid_baseline.train INFO: Classify Domain Adapatation Validation Results - Epoch: 37
2022-05-11 01:01:22,047 reid_baseline.train INFO: Accuracy: 67.6%, best Accuracy: 68.1%, min Mean_entropy: 2e+00
2022-05-11 01:02:09,012 reid_baseline.train INFO: Epoch[38] Iteration[100/267] Loss1: 0.787, Loss2: 1.354, Loss3: 0.059,  Acc: 0.684, Acc2: 0.829, Acc2_pse: 0.829, Base Lr: 6.51e-05
2022-05-11 01:02:56,564 reid_baseline.train INFO: Epoch[38] Iteration[200/267] Loss1: 0.788, Loss2: 1.345, Loss3: 0.036,  Acc: 0.683, Acc2: 0.827, Acc2_pse: 0.827, Base Lr: 6.51e-05
2022-05-11 01:03:26,635 reid_baseline.train INFO: Epoch 38 done. Time per batch: 0.468[s] Speed: 34.2[samples/s]
2022-05-11 01:05:12,936 reid_baseline.train INFO: normal accuracy 0.6736711990111248 1.5969890356063843 
2022-05-11 01:05:12,936 reid_baseline.train INFO: Classify Domain Adapatation Validation Results - Epoch: 38
2022-05-11 01:05:12,936 reid_baseline.train INFO: Accuracy: 67.4%, best Accuracy: 68.1%, min Mean_entropy: 2e+00
2022-05-11 01:06:02,811 reid_baseline.train INFO: Epoch[39] Iteration[100/267] Loss1: 0.805, Loss2: 1.392, Loss3: -0.038,  Acc: 0.677, Acc2: 0.814, Acc2_pse: 0.814, Base Lr: 2.83e-05
2022-05-11 01:06:48,313 reid_baseline.train INFO: Epoch[39] Iteration[200/267] Loss1: 0.808, Loss2: 1.349, Loss3: -0.036,  Acc: 0.667, Acc2: 0.833, Acc2_pse: 0.833, Base Lr: 2.83e-05
2022-05-11 01:07:17,759 reid_baseline.train INFO: Epoch 39 done. Time per batch: 0.471[s] Speed: 34.0[samples/s]
2022-05-11 01:09:05,142 reid_baseline.train INFO: normal accuracy 0.6765554182117841 1.7368210554122925 
2022-05-11 01:09:05,142 reid_baseline.train INFO: Classify Domain Adapatation Validation Results - Epoch: 39
2022-05-11 01:09:05,142 reid_baseline.train INFO: Accuracy: 67.7%, best Accuracy: 68.1%, min Mean_entropy: 2e+00
2022-05-11 01:09:54,370 reid_baseline.train INFO: Epoch[40] Iteration[100/267] Loss1: 0.798, Loss2: 1.361, Loss3: -0.043,  Acc: 0.670, Acc2: 0.824, Acc2_pse: 0.824, Base Lr: 1.60e-05
2022-05-11 01:10:42,599 reid_baseline.train INFO: Epoch[40] Iteration[200/267] Loss1: 0.791, Loss2: 1.339, Loss3: 0.007,  Acc: 0.678, Acc2: 0.826, Acc2_pse: 0.826, Base Lr: 1.60e-05
2022-05-11 01:11:13,864 reid_baseline.train INFO: Epoch 40 done. Time per batch: 0.486[s] Speed: 33.0[samples/s]
2022-05-11 01:13:00,063 reid_baseline.train INFO: normal accuracy 0.673259167696745 1.5796998739242554 
2022-05-11 01:13:00,064 reid_baseline.train INFO: Classify Domain Adapatation Validation Results - Epoch: 40
2022-05-11 01:13:00,064 reid_baseline.train INFO: Accuracy: 67.3%, best Accuracy: 68.1%, min Mean_entropy: 2e+00
best model preformance is 0.680675731355583
Loading pretrained model for finetuning from ../logs/uda/deit_base/office-home/Clipart2ArtDRI_Contrastive0.0/transformer_best_model.pth
2022-05-11 01:14:42,433 reid_baseline.train INFO: normal accuracy 0.680675731355583 1.606972575187683 
2022-05-11 01:14:42,434 reid_baseline.train INFO: Classify Domain Adapatation Validation Results - Best model
2022-05-11 01:14:42,434 reid_baseline.train INFO: Accuracy: 68.1%
2022-05-11 01:16:48,477 reid_baseline.train INFO: normal accuracy 0.8904925544100801 0.8491320610046387 
2022-05-11 01:16:48,477 reid_baseline.train INFO: Classify Domain Adapatation Source Results - Best model
2022-05-11 01:16:48,477 reid_baseline.train INFO: Accuracy: 89.0%
2022-05-11 01:16:53,845 reid_baseline INFO: Saving model in the path :../logs/uda/deit_base/office-home/Clipart2ProductDRI_Contrastive0.0
2022-05-11 01:16:53,845 reid_baseline INFO: Namespace(config_file='configs/uda.yml', opts=['MODEL.DEVICE_ID', "('3')", 'OUTPUT_DIR', '../logs/uda/deit_base/office-home/Clipart2ProductDRI_Contrastive0.0', 'DATASETS.ROOT_TRAIN_DIR', '../data/OfficeHomeDataset/Clipart.txt', 'DATASETS.ROOT_TRAIN_DIR2', '../data/OfficeHomeDataset/Product.txt', 'DATASETS.ROOT_TEST_DIR', '../data/OfficeHomeDataset/Product.txt', 'DATASETS.NAMES', 'OfficeHome', 'DATASETS.NAMES2', 'OfficeHome', 'MODEL.Transformer_TYPE', 'uda_vit_base_patch16_224_TransReID'], local_rank=0, patch_size=8, dom_cls=False, layer_num=1, dom_weight=0.0)
2022-05-11 01:16:53,845 reid_baseline INFO: Loaded configuration file configs/uda.yml
2022-05-11 01:16:53,845 reid_baseline INFO: 
MODEL:
  PRETRAIN_CHOICE: 'imagenet'
  PRETRAIN_PATH: '../data/pretrainModel/deit_base_distilled_patch16_224-df68dfff.pth'
  METRIC_LOSS_TYPE: 'triplet'
  IF_LABELSMOOTH: 'on'
  IF_WITH_CENTER: 'no'
  NAME: 'transformer'
  NO_MARGIN: True
  DEVICE_ID: ('0')
  Transformer_TYPE: 'uda_vit_base_patch16_224_TransReID' #uda_vit_small_patch16_224_TransReID
  STRIDE_SIZE: [16, 16]
  BLOCK_PATTERN: '3_branches'
  TASK_TYPE: 'classify_DA'
  UDA_STAGE: 'UDA'
#  CAMERA_EMBEDDING: True
#  VIEWPOINT_EMBEDDING: True

INPUT:
  SIZE_TRAIN: [256, 256]
  SIZE_TEST: [256, 256]
  SIZE_CROP: [224, 224]
  PROB: 0.5 # random horizontal flip
  RE_PROB: 0.0 # random erasing
  PADDING: 0
  PIXEL_MEAN: [0.485, 0.456, 0.406]
  PIXEL_STD: [0.229, 0.224, 0.225]

DATASETS:
  NAMES: ('OURAPI')
  ROOT_TRAIN_DIR: ('./datasets/reid_datasets/Corrected_Market1501')
  NAMES2: ('OURAPI')
  ROOT_TRAIN_DIR2: ('./datasets/reid_datasets/Refined_DukeMTMC_reID')
  ROOT_TEST_DIR: ('./datasets/reid_datasets/Refined_DukeMTMC_reID')

DATALOADER:
  SAMPLER: 'softmax'
  NUM_INSTANCE: 4
  NUM_WORKERS: 4

SOLVER:
  OPTIMIZER_NAME: 'SGD'
  MAX_EPOCHS: 40
  BASE_LR: 0.008
  IMS_PER_BATCH: 16
  STEPS: [40, 80]
  GAMMA: 0.
  WARMUP_FACTOR: 0.01
  WARMUP_EPOCHS: 10
  WARMUP_METHOD: 'linear'
  LARGE_FC_LR: False
  CHECKPOINT_PERIOD: 10
  LOG_PERIOD: 100
  EVAL_PERIOD: 1
  WEIGHT_DECAY:  1e-4
  WEIGHT_DECAY_BIAS: 1e-4
  BIAS_LR_FACTOR: 2

TEST:
  EVAL: True
  IMS_PER_BATCH: 64
  RE_RANKING: False
  RE_RANKING_TRACK: False

  WEIGHT: '../logs/trans4DA/transformer_120.pth'
  NECK_FEAT: 'after'
  FEAT_NORM: 'yes'

OUTPUT_DIR: '../logs/trans4DA'



2022-05-11 01:16:53,845 reid_baseline INFO: Running with config:
DATALOADER:
  NUM_INSTANCE: 4
  NUM_WORKERS: 4
  SAMPLER: softmax
DATASETS:
  NAMES: OfficeHome
  NAMES2: OfficeHome
  PLUS_NUM_ID: 100
  QUERY_MINING: False
  ROOT_TEST_DIR: ../data/OfficeHomeDataset/Product.txt
  ROOT_TRAIN_DIR: ../data/OfficeHomeDataset/Clipart.txt
  ROOT_TRAIN_DIR2: ../data/OfficeHomeDataset/Product.txt
INPUT:
  AA_PROB: 0.0
  PADDING: 0
  PIXEL_MEAN: [0.485, 0.456, 0.406]
  PIXEL_STD: [0.229, 0.224, 0.225]
  PROB: 0.5
  RE_PROB: 0.0
  SIZE_CROP: [224, 224]
  SIZE_TEST: [256, 256]
  SIZE_TRAIN: [256, 256]
MODEL:
  AIE_COE: 1.5
  BLOCK_PATTERN: 3_branches
  CAMERA_EMBEDDING: False
  COS_LAYER: False
  DEVICE: cuda
  DEVICE_ID: 3
  DEVIDE_LENGTH: 4
  DIST_TRAIN: False
  DROP_OUT: 0.0
  DROP_PATH: 0.1
  FC_SETTING: TransReID
  FROZEN: -1
  ID_LOSS_TYPE: softmax
  ID_LOSS_WEIGHT: 1.0
  IF_LABELSMOOTH: on
  IF_WITH_CENTER: no
  LAST_STRIDE: 1
  LOCAL_F: False
  METRIC_LOSS_TYPE: triplet
  NAME: transformer
  NECK: bnneck
  NO_MARGIN: True
  NO_SHUFFLE: False
  PATCH_SHUFFLE: 2
  PRETRAIN_CHOICE: imagenet
  PRETRAIN_PATH: ../data/pretrainModel/deit_base_distilled_patch16_224-df68dfff.pth
  PROB: 0.0
  RECIP_LOSS: 
  STRIDE_SIZE: [16, 16]
  TASK_TYPE: classify_DA
  THRESH: 0.23
  TRIPLET_LOSS_WEIGHT: 1.0
  Transformer_TYPE: uda_vit_base_patch16_224_TransReID
  UDA_STAGE: UDA
  VIEWPOINT_EMBEDDING: False
  YIWEI_NUM: 5
  lameda: 0.5
OUTPUT_DIR: ../logs/uda/deit_base/office-home/Clipart2ProductDRI_Contrastive0.0
SOLVER:
  BASE_LR: 0.008
  BIAS_LR_FACTOR: 2
  CENTER_LOSS_WEIGHT: 0.0005
  CENTER_LR: 0.5
  CHECKPOINT_PERIOD: 10
  CLUSTER_MARGIN: 0.3
  COSINE_MARGIN: 0.5
  COSINE_SCALE: 30
  EVAL_PERIOD: 1
  GAMMA: 0.0
  IMS_PER_BATCH: 16
  LARGE_FC_LR: False
  LOG_PERIOD: 100
  MARGIN: 0.3
  MAX_EPOCHS: 40
  MOMENTUM: 0.9
  OPTIMIZER_NAME: SGD
  RANGE_ALPHA: 0
  RANGE_BETA: 1
  RANGE_K: 2
  RANGE_LOSS_WEIGHT: 1
  RANGE_MARGIN: 0.3
  SEED: 1234
  STEPS: (40, 80)
  WARMUP_EPOCHS: 10
  WARMUP_FACTOR: 0.01
  WARMUP_METHOD: linear
  WEIGHT_DECAY: 0.0001
  WEIGHT_DECAY_BIAS: 0.0001
  WITH_PSEUDO_LABEL_FILTER: False
TEST:
  DIST_MAT: dist_mat.npy
  EVAL: True
  FEAT_NORM: yes
  FLIP_FEATS: off
  IMS_PER_BATCH: 64
  NECK_FEAT: after
  RE_RANKING: False
  RE_RANKING_TRACK: False
  WEIGHT: ../logs/trans4DA/transformer_120.pth
=> Office-Home loaded
Dataset statistics:
train Clipart and valid is Product
  ----------------------------------------
  subset   | # ids | # images | # cameras
  ----------------------------------------
  train   |    65 |     4365 |         1
  valid   |    65 |     4439 |         1
  ----------------------------------------
=> Office-Home loaded
Dataset statistics:
train Product and valid is Product
  ----------------------------------------
  subset   | # ids | # images | # cameras
  ----------------------------------------
  train   |    65 |     4439 |         1
  valid   |    65 |     4439 |         1
  ----------------------------------------
using Transformer_type: uda_vit_base_patch16_224_TransReID as a backbone
using stride: [16, 16], and part number is num_y14 * num_x14
using drop_path_rate is : 0.1
using aie_xishu is : 1.5
using 3branches blocks
distill need to choose right cls token in the pth
Resized position embedding: %s to %s torch.Size([1, 197, 768]) torch.Size([1, 197, 768])
Position embedding resize to height:14 width: 14
Loading pretrained ImageNet model......from ../data/pretrainModel/deit_base_distilled_patch16_224-df68dfff.pth
===========building uda transformer===========
label smooth on, numclasses: 65
2022-05-11 01:17:01,655 reid_baseline.train INFO: start training
2022-05-11 01:17:54,866 reid_baseline.train INFO: Epoch[1] Iteration[100/267] Loss1: 1.401, Loss2: 4.165, Loss3: 0.158,  Acc: 0.391, Acc2: 0.029, Acc2_pse: 0.029, Base Lr: 8.72e-04
2022-05-11 01:18:40,330 reid_baseline.train INFO: Epoch[1] Iteration[200/267] Loss1: 1.248, Loss2: 4.154, Loss3: 0.108,  Acc: 0.467, Acc2: 0.058, Acc2_pse: 0.058, Base Lr: 8.72e-04
2022-05-11 01:19:10,983 reid_baseline.train INFO: Epoch 1 done. Time per batch: 0.484[s] Speed: 33.1[samples/s]
2022-05-11 01:21:16,675 reid_baseline.train INFO: normal accuracy 0.12322595179094391 4.172402381896973 
2022-05-11 01:21:17,436 reid_baseline.train INFO: Classify Domain Adapatation Validation Results - Epoch: 1
2022-05-11 01:21:17,436 reid_baseline.train INFO: Accuracy: 12.3%, best Accuracy: 12.3%, min Mean_entropy: 4e+00
2022-05-11 01:22:07,784 reid_baseline.train INFO: Epoch[2] Iteration[100/267] Loss1: 0.918, Loss2: 4.088, Loss3: 0.095,  Acc: 0.631, Acc2: 0.108, Acc2_pse: 0.108, Base Lr: 1.66e-03
2022-05-11 01:22:54,928 reid_baseline.train INFO: Epoch[2] Iteration[200/267] Loss1: 0.916, Loss2: 4.061, Loss3: 0.010,  Acc: 0.631, Acc2: 0.128, Acc2_pse: 0.128, Base Lr: 1.66e-03
2022-05-11 01:23:25,332 reid_baseline.train INFO: Epoch 2 done. Time per batch: 0.481[s] Speed: 33.3[samples/s]
2022-05-11 01:25:29,160 reid_baseline.train INFO: normal accuracy 0.18337463392656003 4.166887283325195 
2022-05-11 01:25:29,955 reid_baseline.train INFO: Classify Domain Adapatation Validation Results - Epoch: 2
2022-05-11 01:25:29,955 reid_baseline.train INFO: Accuracy: 18.3%, best Accuracy: 18.3%, min Mean_entropy: 4e+00
2022-05-11 01:26:20,538 reid_baseline.train INFO: Epoch[3] Iteration[100/267] Loss1: 0.876, Loss2: 3.929, Loss3: 0.031,  Acc: 0.633, Acc2: 0.138, Acc2_pse: 0.138, Base Lr: 2.46e-03
2022-05-11 01:27:07,052 reid_baseline.train INFO: Epoch[3] Iteration[200/267] Loss1: 0.872, Loss2: 3.892, Loss3: -0.018,  Acc: 0.639, Acc2: 0.148, Acc2_pse: 0.148, Base Lr: 2.46e-03
2022-05-11 01:27:36,560 reid_baseline.train INFO: Epoch 3 done. Time per batch: 0.479[s] Speed: 33.4[samples/s]
2022-05-11 01:29:47,365 reid_baseline.train INFO: normal accuracy 0.22144627168281145 4.138035774230957 
2022-05-11 01:29:48,158 reid_baseline.train INFO: Classify Domain Adapatation Validation Results - Epoch: 3
2022-05-11 01:29:48,158 reid_baseline.train INFO: Accuracy: 22.1%, best Accuracy: 22.1%, min Mean_entropy: 4e+00
2022-05-11 01:30:37,484 reid_baseline.train INFO: Epoch[4] Iteration[100/267] Loss1: 0.867, Loss2: 3.704, Loss3: 0.070,  Acc: 0.659, Acc2: 0.161, Acc2_pse: 0.161, Base Lr: 3.25e-03
2022-05-11 01:31:23,534 reid_baseline.train INFO: Epoch[4] Iteration[200/267] Loss1: 0.853, Loss2: 3.631, Loss3: -0.005,  Acc: 0.652, Acc2: 0.187, Acc2_pse: 0.187, Base Lr: 3.25e-03
2022-05-11 01:31:53,980 reid_baseline.train INFO: Epoch 4 done. Time per batch: 0.477[s] Speed: 33.6[samples/s]
2022-05-11 01:34:05,940 reid_baseline.train INFO: normal accuracy 0.2975895471953143 4.030559539794922 
2022-05-11 01:34:07,243 reid_baseline.train INFO: Classify Domain Adapatation Validation Results - Epoch: 4
2022-05-11 01:34:07,244 reid_baseline.train INFO: Accuracy: 29.8%, best Accuracy: 29.8%, min Mean_entropy: 4e+00
2022-05-11 01:34:56,247 reid_baseline.train INFO: Epoch[5] Iteration[100/267] Loss1: 0.859, Loss2: 3.450, Loss3: -0.043,  Acc: 0.640, Acc2: 0.194, Acc2_pse: 0.194, Base Lr: 4.04e-03
2022-05-11 01:35:43,824 reid_baseline.train INFO: Epoch[5] Iteration[200/267] Loss1: 0.846, Loss2: 3.343, Loss3: 0.021,  Acc: 0.652, Acc2: 0.242, Acc2_pse: 0.242, Base Lr: 4.04e-03
2022-05-11 01:36:13,550 reid_baseline.train INFO: Epoch 5 done. Time per batch: 0.477[s] Speed: 33.6[samples/s]
2022-05-11 01:38:25,766 reid_baseline.train INFO: normal accuracy 0.4482991664789367 3.8416688442230225 
2022-05-11 01:38:26,596 reid_baseline.train INFO: Classify Domain Adapatation Validation Results - Epoch: 5
2022-05-11 01:38:26,604 reid_baseline.train INFO: Accuracy: 44.8%, best Accuracy: 44.8%, min Mean_entropy: 4e+00
2022-05-11 01:39:18,076 reid_baseline.train INFO: Epoch[6] Iteration[100/267] Loss1: 0.823, Loss2: 3.081, Loss3: -0.038,  Acc: 0.658, Acc2: 0.327, Acc2_pse: 0.327, Base Lr: 4.83e-03
2022-05-11 01:40:06,364 reid_baseline.train INFO: Epoch[6] Iteration[200/267] Loss1: 0.820, Loss2: 3.046, Loss3: -0.048,  Acc: 0.659, Acc2: 0.336, Acc2_pse: 0.336, Base Lr: 4.83e-03
2022-05-11 01:40:36,493 reid_baseline.train INFO: Epoch 6 done. Time per batch: 0.492[s] Speed: 32.5[samples/s]
2022-05-11 01:42:43,910 reid_baseline.train INFO: normal accuracy 0.5517008335210632 3.523677110671997 
2022-05-11 01:42:44,714 reid_baseline.train INFO: Classify Domain Adapatation Validation Results - Epoch: 6
2022-05-11 01:42:44,714 reid_baseline.train INFO: Accuracy: 55.2%, best Accuracy: 55.2%, min Mean_entropy: 4e+00
2022-05-11 01:43:34,342 reid_baseline.train INFO: Epoch[7] Iteration[100/267] Loss1: 0.843, Loss2: 2.850, Loss3: -0.089,  Acc: 0.650, Acc2: 0.387, Acc2_pse: 0.387, Base Lr: 5.62e-03
2022-05-11 01:44:21,230 reid_baseline.train INFO: Epoch[7] Iteration[200/267] Loss1: 0.840, Loss2: 2.778, Loss3: -0.029,  Acc: 0.656, Acc2: 0.412, Acc2_pse: 0.412, Base Lr: 5.62e-03
2022-05-11 01:44:50,007 reid_baseline.train INFO: Epoch 7 done. Time per batch: 0.476[s] Speed: 33.6[samples/s]
2022-05-11 01:46:55,327 reid_baseline.train INFO: normal accuracy 0.5902230232034242 3.1229231357574463 
2022-05-11 01:46:56,109 reid_baseline.train INFO: Classify Domain Adapatation Validation Results - Epoch: 7
2022-05-11 01:46:56,109 reid_baseline.train INFO: Accuracy: 59.0%, best Accuracy: 59.0%, min Mean_entropy: 3e+00
2022-05-11 01:47:44,909 reid_baseline.train INFO: Epoch[8] Iteration[100/267] Loss1: 0.846, Loss2: 2.572, Loss3: 0.033,  Acc: 0.648, Acc2: 0.470, Acc2_pse: 0.470, Base Lr: 6.42e-03
2022-05-11 01:48:31,964 reid_baseline.train INFO: Epoch[8] Iteration[200/267] Loss1: 0.840, Loss2: 2.546, Loss3: -0.016,  Acc: 0.652, Acc2: 0.485, Acc2_pse: 0.485, Base Lr: 6.42e-03
2022-05-11 01:49:01,250 reid_baseline.train INFO: Epoch 8 done. Time per batch: 0.472[s] Speed: 33.9[samples/s]
2022-05-11 01:51:12,632 reid_baseline.train INFO: normal accuracy 0.6373056994818653 2.7748889923095703 
2022-05-11 01:51:13,442 reid_baseline.train INFO: Classify Domain Adapatation Validation Results - Epoch: 8
2022-05-11 01:51:13,442 reid_baseline.train INFO: Accuracy: 63.7%, best Accuracy: 63.7%, min Mean_entropy: 3e+00
2022-05-11 01:52:03,804 reid_baseline.train INFO: Epoch[9] Iteration[100/267] Loss1: 0.846, Loss2: 2.371, Loss3: -0.014,  Acc: 0.657, Acc2: 0.498, Acc2_pse: 0.498, Base Lr: 7.21e-03
2022-05-11 01:52:50,023 reid_baseline.train INFO: Epoch[9] Iteration[200/267] Loss1: 0.849, Loss2: 2.347, Loss3: -0.009,  Acc: 0.649, Acc2: 0.517, Acc2_pse: 0.517, Base Lr: 7.21e-03
2022-05-11 01:53:20,219 reid_baseline.train INFO: Epoch 9 done. Time per batch: 0.480[s] Speed: 33.3[samples/s]
2022-05-11 01:55:29,015 reid_baseline.train INFO: normal accuracy 0.6560036044154088 2.558826446533203 
2022-05-11 01:55:29,795 reid_baseline.train INFO: Classify Domain Adapatation Validation Results - Epoch: 9
2022-05-11 01:55:29,795 reid_baseline.train INFO: Accuracy: 65.6%, best Accuracy: 65.6%, min Mean_entropy: 3e+00
2022-05-11 01:56:19,233 reid_baseline.train INFO: Epoch[10] Iteration[100/267] Loss1: 0.868, Loss2: 2.208, Loss3: -0.037,  Acc: 0.635, Acc2: 0.565, Acc2_pse: 0.565, Base Lr: 6.83e-03
2022-05-11 01:57:05,838 reid_baseline.train INFO: Epoch[10] Iteration[200/267] Loss1: 0.829, Loss2: 2.194, Loss3: 0.060,  Acc: 0.661, Acc2: 0.578, Acc2_pse: 0.578, Base Lr: 6.83e-03
2022-05-11 01:57:36,900 reid_baseline.train INFO: Epoch 10 done. Time per batch: 0.480[s] Speed: 33.4[samples/s]
2022-05-11 01:59:45,164 reid_baseline.train INFO: normal accuracy 0.6789817526469926 2.366051435470581 
2022-05-11 01:59:45,944 reid_baseline.train INFO: Classify Domain Adapatation Validation Results - Epoch: 10
2022-05-11 01:59:45,945 reid_baseline.train INFO: Accuracy: 67.9%, best Accuracy: 67.9%, min Mean_entropy: 2e+00
2022-05-11 02:00:35,267 reid_baseline.train INFO: Epoch[11] Iteration[100/267] Loss1: 0.823, Loss2: 2.111, Loss3: -0.113,  Acc: 0.664, Acc2: 0.603, Acc2_pse: 0.603, Base Lr: 6.60e-03
2022-05-11 02:01:22,102 reid_baseline.train INFO: Epoch[11] Iteration[200/267] Loss1: 0.815, Loss2: 2.080, Loss3: -0.142,  Acc: 0.664, Acc2: 0.610, Acc2_pse: 0.610, Base Lr: 6.60e-03
2022-05-11 02:01:54,995 reid_baseline.train INFO: Epoch 11 done. Time per batch: 0.485[s] Speed: 33.0[samples/s]
2022-05-11 02:04:03,512 reid_baseline.train INFO: normal accuracy 0.6904708267627844 2.2519421577453613 
2022-05-11 02:04:05,922 reid_baseline.train INFO: Classify Domain Adapatation Validation Results - Epoch: 11
2022-05-11 02:04:05,922 reid_baseline.train INFO: Accuracy: 69.0%, best Accuracy: 69.0%, min Mean_entropy: 2e+00
2022-05-11 02:04:56,483 reid_baseline.train INFO: Epoch[12] Iteration[100/267] Loss1: 0.825, Loss2: 1.969, Loss3: -0.044,  Acc: 0.667, Acc2: 0.640, Acc2_pse: 0.640, Base Lr: 6.35e-03
2022-05-11 02:05:47,355 reid_baseline.train INFO: Epoch[12] Iteration[200/267] Loss1: 0.813, Loss2: 1.957, Loss3: -0.032,  Acc: 0.669, Acc2: 0.648, Acc2_pse: 0.648, Base Lr: 6.35e-03
2022-05-11 02:06:19,382 reid_baseline.train INFO: Epoch 12 done. Time per batch: 0.504[s] Speed: 31.8[samples/s]
2022-05-11 02:08:21,606 reid_baseline.train INFO: normal accuracy 0.688218067132237 2.229114294052124 
2022-05-11 02:08:21,606 reid_baseline.train INFO: Classify Domain Adapatation Validation Results - Epoch: 12
2022-05-11 02:08:21,607 reid_baseline.train INFO: Accuracy: 68.8%, best Accuracy: 69.0%, min Mean_entropy: 2e+00
2022-05-11 02:09:13,968 reid_baseline.train INFO: Epoch[13] Iteration[100/267] Loss1: 0.802, Loss2: 1.907, Loss3: -0.013,  Acc: 0.665, Acc2: 0.666, Acc2_pse: 0.666, Base Lr: 6.09e-03
2022-05-11 02:10:10,418 reid_baseline.train INFO: Epoch[13] Iteration[200/267] Loss1: 0.807, Loss2: 1.890, Loss3: -0.003,  Acc: 0.666, Acc2: 0.667, Acc2_pse: 0.667, Base Lr: 6.09e-03
2022-05-11 02:10:44,639 reid_baseline.train INFO: Epoch 13 done. Time per batch: 0.540[s] Speed: 29.6[samples/s]
2022-05-11 02:13:00,668 reid_baseline.train INFO: normal accuracy 0.7075917999549448 2.1756837368011475 
2022-05-11 02:13:01,528 reid_baseline.train INFO: Classify Domain Adapatation Validation Results - Epoch: 13
2022-05-11 02:13:01,528 reid_baseline.train INFO: Accuracy: 70.8%, best Accuracy: 70.8%, min Mean_entropy: 2e+00
2022-05-11 02:13:57,969 reid_baseline.train INFO: Epoch[14] Iteration[100/267] Loss1: 0.785, Loss2: 1.802, Loss3: 0.094,  Acc: 0.687, Acc2: 0.681, Acc2_pse: 0.681, Base Lr: 5.82e-03
2022-05-11 02:14:45,378 reid_baseline.train INFO: Epoch[14] Iteration[200/267] Loss1: 0.794, Loss2: 1.816, Loss3: 0.065,  Acc: 0.675, Acc2: 0.682, Acc2_pse: 0.682, Base Lr: 5.82e-03
2022-05-11 02:15:17,858 reid_baseline.train INFO: Epoch 14 done. Time per batch: 0.514[s] Speed: 31.1[samples/s]
2022-05-11 02:17:24,772 reid_baseline.train INFO: normal accuracy 0.7064654201396711 1.8154181241989136 
2022-05-11 02:17:24,772 reid_baseline.train INFO: Classify Domain Adapatation Validation Results - Epoch: 14
2022-05-11 02:17:24,772 reid_baseline.train INFO: Accuracy: 70.6%, best Accuracy: 70.8%, min Mean_entropy: 2e+00
2022-05-11 02:18:13,397 reid_baseline.train INFO: Epoch[15] Iteration[100/267] Loss1: 0.846, Loss2: 1.767, Loss3: 0.033,  Acc: 0.660, Acc2: 0.708, Acc2_pse: 0.708, Base Lr: 5.54e-03
2022-05-11 02:19:01,409 reid_baseline.train INFO: Epoch[15] Iteration[200/267] Loss1: 0.818, Loss2: 1.766, Loss3: 0.042,  Acc: 0.671, Acc2: 0.703, Acc2_pse: 0.703, Base Lr: 5.54e-03
2022-05-11 02:19:35,457 reid_baseline.train INFO: Epoch 15 done. Time per batch: 0.495[s] Speed: 32.3[samples/s]
2022-05-11 02:21:59,296 reid_baseline.train INFO: normal accuracy 0.7235863933318315 1.7177404165267944 
2022-05-11 02:22:00,185 reid_baseline.train INFO: Classify Domain Adapatation Validation Results - Epoch: 15
2022-05-11 02:22:00,185 reid_baseline.train INFO: Accuracy: 72.4%, best Accuracy: 72.4%, min Mean_entropy: 2e+00
2022-05-11 02:22:57,557 reid_baseline.train INFO: Epoch[16] Iteration[100/267] Loss1: 0.847, Loss2: 1.758, Loss3: -0.085,  Acc: 0.642, Acc2: 0.706, Acc2_pse: 0.706, Base Lr: 5.24e-03
2022-05-11 02:23:51,175 reid_baseline.train INFO: Epoch[16] Iteration[200/267] Loss1: 0.817, Loss2: 1.721, Loss3: -0.002,  Acc: 0.665, Acc2: 0.716, Acc2_pse: 0.716, Base Lr: 5.24e-03
2022-05-11 02:24:24,143 reid_baseline.train INFO: Epoch 16 done. Time per batch: 0.543[s] Speed: 29.5[samples/s]
2022-05-11 02:26:49,722 reid_baseline.train INFO: normal accuracy 0.7235863933318315 1.8386608362197876 
2022-05-11 02:26:49,722 reid_baseline.train INFO: Classify Domain Adapatation Validation Results - Epoch: 16
2022-05-11 02:26:49,722 reid_baseline.train INFO: Accuracy: 72.4%, best Accuracy: 72.4%, min Mean_entropy: 2e+00
2022-05-11 02:27:45,521 reid_baseline.train INFO: Epoch[17] Iteration[100/267] Loss1: 0.818, Loss2: 1.730, Loss3: -0.029,  Acc: 0.664, Acc2: 0.709, Acc2_pse: 0.709, Base Lr: 4.94e-03
2022-05-11 02:28:39,513 reid_baseline.train INFO: Epoch[17] Iteration[200/267] Loss1: 0.802, Loss2: 1.690, Loss3: 0.026,  Acc: 0.677, Acc2: 0.726, Acc2_pse: 0.726, Base Lr: 4.94e-03
2022-05-11 02:29:15,685 reid_baseline.train INFO: Epoch 17 done. Time per batch: 0.553[s] Speed: 28.9[samples/s]
2022-05-11 02:31:51,024 reid_baseline.train INFO: normal accuracy 0.7260644289254337 1.705008625984192 
2022-05-11 02:31:51,834 reid_baseline.train INFO: Classify Domain Adapatation Validation Results - Epoch: 17
2022-05-11 02:31:51,835 reid_baseline.train INFO: Accuracy: 72.6%, best Accuracy: 72.6%, min Mean_entropy: 2e+00
2022-05-11 02:32:51,274 reid_baseline.train INFO: Epoch[18] Iteration[100/267] Loss1: 0.849, Loss2: 1.654, Loss3: -0.027,  Acc: 0.651, Acc2: 0.729, Acc2_pse: 0.729, Base Lr: 4.63e-03
2022-05-11 02:33:46,689 reid_baseline.train INFO: Epoch[18] Iteration[200/267] Loss1: 0.837, Loss2: 1.637, Loss3: -0.035,  Acc: 0.658, Acc2: 0.734, Acc2_pse: 0.734, Base Lr: 4.63e-03
2022-05-11 02:34:23,506 reid_baseline.train INFO: Epoch 18 done. Time per batch: 0.572[s] Speed: 28.0[samples/s]
2022-05-11 02:36:52,808 reid_baseline.train INFO: normal accuracy 0.7314710520387475 1.6622010469436646 
2022-05-11 02:36:53,658 reid_baseline.train INFO: Classify Domain Adapatation Validation Results - Epoch: 18
2022-05-11 02:36:53,658 reid_baseline.train INFO: Accuracy: 73.1%, best Accuracy: 73.1%, min Mean_entropy: 2e+00
2022-05-11 02:37:52,387 reid_baseline.train INFO: Epoch[19] Iteration[100/267] Loss1: 0.795, Loss2: 1.655, Loss3: -0.010,  Acc: 0.677, Acc2: 0.741, Acc2_pse: 0.741, Base Lr: 4.32e-03
2022-05-11 02:38:46,001 reid_baseline.train INFO: Epoch[19] Iteration[200/267] Loss1: 0.801, Loss2: 1.604, Loss3: 0.042,  Acc: 0.672, Acc2: 0.754, Acc2_pse: 0.754, Base Lr: 4.32e-03
2022-05-11 02:39:21,505 reid_baseline.train INFO: Epoch 19 done. Time per batch: 0.558[s] Speed: 28.7[samples/s]
2022-05-11 02:41:59,466 reid_baseline.train INFO: normal accuracy 0.7350754674476233 1.6230735778808594 
2022-05-11 02:42:00,306 reid_baseline.train INFO: Classify Domain Adapatation Validation Results - Epoch: 19
2022-05-11 02:42:00,306 reid_baseline.train INFO: Accuracy: 73.5%, best Accuracy: 73.5%, min Mean_entropy: 2e+00
2022-05-11 02:43:00,961 reid_baseline.train INFO: Epoch[20] Iteration[100/267] Loss1: 0.799, Loss2: 1.582, Loss3: -0.032,  Acc: 0.671, Acc2: 0.754, Acc2_pse: 0.754, Base Lr: 4.01e-03
2022-05-11 02:43:56,551 reid_baseline.train INFO: Epoch[20] Iteration[200/267] Loss1: 0.802, Loss2: 1.553, Loss3: 0.013,  Acc: 0.673, Acc2: 0.761, Acc2_pse: 0.761, Base Lr: 4.01e-03
2022-05-11 02:44:35,874 reid_baseline.train INFO: Epoch 20 done. Time per batch: 0.587[s] Speed: 27.3[samples/s]
2022-05-11 02:47:08,857 reid_baseline.train INFO: normal accuracy 0.7325974318540212 1.6514045000076294 
2022-05-11 02:47:08,857 reid_baseline.train INFO: Classify Domain Adapatation Validation Results - Epoch: 20
2022-05-11 02:47:08,857 reid_baseline.train INFO: Accuracy: 73.3%, best Accuracy: 73.5%, min Mean_entropy: 2e+00
2022-05-11 02:48:08,388 reid_baseline.train INFO: Epoch[21] Iteration[100/267] Loss1: 0.811, Loss2: 1.545, Loss3: -0.007,  Acc: 0.671, Acc2: 0.781, Acc2_pse: 0.781, Base Lr: 3.69e-03
2022-05-11 02:49:04,300 reid_baseline.train INFO: Epoch[21] Iteration[200/267] Loss1: 0.810, Loss2: 1.524, Loss3: -0.036,  Acc: 0.668, Acc2: 0.780, Acc2_pse: 0.780, Base Lr: 3.69e-03
2022-05-11 02:49:44,545 reid_baseline.train INFO: Epoch 21 done. Time per batch: 0.587[s] Speed: 27.2[samples/s]
2022-05-11 02:52:18,008 reid_baseline.train INFO: normal accuracy 0.739806262671773 1.5632104873657227 
2022-05-11 02:52:18,971 reid_baseline.train INFO: Classify Domain Adapatation Validation Results - Epoch: 21
2022-05-11 02:52:18,972 reid_baseline.train INFO: Accuracy: 74.0%, best Accuracy: 74.0%, min Mean_entropy: 2e+00
2022-05-11 02:53:16,745 reid_baseline.train INFO: Epoch[22] Iteration[100/267] Loss1: 0.848, Loss2: 1.540, Loss3: -0.030,  Acc: 0.642, Acc2: 0.771, Acc2_pse: 0.771, Base Lr: 3.38e-03
2022-05-11 02:54:14,545 reid_baseline.train INFO: Epoch[22] Iteration[200/267] Loss1: 0.855, Loss2: 1.510, Loss3: -0.039,  Acc: 0.644, Acc2: 0.779, Acc2_pse: 0.779, Base Lr: 3.38e-03
2022-05-11 02:54:51,158 reid_baseline.train INFO: Epoch 22 done. Time per batch: 0.576[s] Speed: 27.8[samples/s]
2022-05-11 02:57:22,383 reid_baseline.train INFO: normal accuracy 0.7407073665239919 1.5111933946609497 
2022-05-11 02:57:23,233 reid_baseline.train INFO: Classify Domain Adapatation Validation Results - Epoch: 22
2022-05-11 02:57:23,233 reid_baseline.train INFO: Accuracy: 74.1%, best Accuracy: 74.1%, min Mean_entropy: 2e+00
2022-05-11 02:58:21,605 reid_baseline.train INFO: Epoch[23] Iteration[100/267] Loss1: 0.783, Loss2: 1.527, Loss3: -0.076,  Acc: 0.677, Acc2: 0.773, Acc2_pse: 0.773, Base Lr: 3.08e-03
2022-05-11 02:59:24,076 reid_baseline.train INFO: Epoch[23] Iteration[200/267] Loss1: 0.791, Loss2: 1.481, Loss3: -0.028,  Acc: 0.679, Acc2: 0.782, Acc2_pse: 0.782, Base Lr: 3.08e-03
2022-05-11 03:00:01,918 reid_baseline.train INFO: Epoch 23 done. Time per batch: 0.603[s] Speed: 26.5[samples/s]
2022-05-11 03:02:34,023 reid_baseline.train INFO: normal accuracy 0.7427348501914846 1.5393784046173096 
2022-05-11 03:02:35,082 reid_baseline.train INFO: Classify Domain Adapatation Validation Results - Epoch: 23
2022-05-11 03:02:35,082 reid_baseline.train INFO: Accuracy: 74.3%, best Accuracy: 74.3%, min Mean_entropy: 2e+00
2022-05-11 03:03:34,789 reid_baseline.train INFO: Epoch[24] Iteration[100/267] Loss1: 0.840, Loss2: 1.503, Loss3: -0.013,  Acc: 0.644, Acc2: 0.790, Acc2_pse: 0.790, Base Lr: 2.77e-03
2022-05-11 03:04:28,270 reid_baseline.train INFO: Epoch[24] Iteration[200/267] Loss1: 0.822, Loss2: 1.463, Loss3: 0.012,  Acc: 0.658, Acc2: 0.796, Acc2_pse: 0.796, Base Lr: 2.77e-03
2022-05-11 03:05:05,782 reid_baseline.train INFO: Epoch 24 done. Time per batch: 0.567[s] Speed: 28.2[samples/s]
2022-05-11 03:07:35,867 reid_baseline.train INFO: normal accuracy 0.7434106780806488 1.5319350957870483 
2022-05-11 03:07:36,710 reid_baseline.train INFO: Classify Domain Adapatation Validation Results - Epoch: 24
2022-05-11 03:07:36,710 reid_baseline.train INFO: Accuracy: 74.3%, best Accuracy: 74.3%, min Mean_entropy: 2e+00
2022-05-11 03:08:41,774 reid_baseline.train INFO: Epoch[25] Iteration[100/267] Loss1: 0.807, Loss2: 1.494, Loss3: -0.118,  Acc: 0.664, Acc2: 0.783, Acc2_pse: 0.783, Base Lr: 2.48e-03
2022-05-11 03:09:38,700 reid_baseline.train INFO: Epoch[25] Iteration[200/267] Loss1: 0.807, Loss2: 1.467, Loss3: -0.070,  Acc: 0.668, Acc2: 0.794, Acc2_pse: 0.794, Base Lr: 2.48e-03
2022-05-11 03:10:11,532 reid_baseline.train INFO: Epoch 25 done. Time per batch: 0.591[s] Speed: 27.1[samples/s]
2022-05-11 03:12:41,786 reid_baseline.train INFO: normal accuracy 0.7422842982653751 1.483633279800415 
2022-05-11 03:12:41,786 reid_baseline.train INFO: Classify Domain Adapatation Validation Results - Epoch: 25
2022-05-11 03:12:41,786 reid_baseline.train INFO: Accuracy: 74.2%, best Accuracy: 74.3%, min Mean_entropy: 2e+00
2022-05-11 03:13:43,874 reid_baseline.train INFO: Epoch[26] Iteration[100/267] Loss1: 0.812, Loss2: 1.472, Loss3: 0.044,  Acc: 0.666, Acc2: 0.774, Acc2_pse: 0.774, Base Lr: 2.20e-03
2022-05-11 03:14:42,140 reid_baseline.train INFO: Epoch[26] Iteration[200/267] Loss1: 0.799, Loss2: 1.441, Loss3: 0.056,  Acc: 0.676, Acc2: 0.795, Acc2_pse: 0.795, Base Lr: 2.20e-03
2022-05-11 03:15:19,184 reid_baseline.train INFO: Epoch 26 done. Time per batch: 0.594[s] Speed: 26.9[samples/s]
2022-05-11 03:17:51,646 reid_baseline.train INFO: normal accuracy 0.7445370578959225 1.4502334594726562 
2022-05-11 03:17:52,493 reid_baseline.train INFO: Classify Domain Adapatation Validation Results - Epoch: 26
2022-05-11 03:17:52,494 reid_baseline.train INFO: Accuracy: 74.5%, best Accuracy: 74.5%, min Mean_entropy: 1e+00
2022-05-11 03:18:55,796 reid_baseline.train INFO: Epoch[27] Iteration[100/267] Loss1: 0.783, Loss2: 1.461, Loss3: 0.031,  Acc: 0.677, Acc2: 0.787, Acc2_pse: 0.787, Base Lr: 1.92e-03
2022-05-11 03:19:51,641 reid_baseline.train INFO: Epoch[27] Iteration[200/267] Loss1: 0.780, Loss2: 1.442, Loss3: 0.028,  Acc: 0.684, Acc2: 0.795, Acc2_pse: 0.795, Base Lr: 1.92e-03
2022-05-11 03:20:30,882 reid_baseline.train INFO: Epoch 27 done. Time per batch: 0.598[s] Speed: 26.8[samples/s]
2022-05-11 03:22:59,280 reid_baseline.train INFO: normal accuracy 0.7456634377111963 1.3933894634246826 
2022-05-11 03:23:00,150 reid_baseline.train INFO: Classify Domain Adapatation Validation Results - Epoch: 27
2022-05-11 03:23:00,150 reid_baseline.train INFO: Accuracy: 74.6%, best Accuracy: 74.6%, min Mean_entropy: 1e+00
2022-05-11 03:23:57,894 reid_baseline.train INFO: Epoch[28] Iteration[100/267] Loss1: 0.752, Loss2: 1.441, Loss3: 0.060,  Acc: 0.696, Acc2: 0.796, Acc2_pse: 0.796, Base Lr: 1.66e-03
2022-05-11 03:24:54,501 reid_baseline.train INFO: Epoch[28] Iteration[200/267] Loss1: 0.758, Loss2: 1.418, Loss3: 0.047,  Acc: 0.695, Acc2: 0.803, Acc2_pse: 0.803, Base Lr: 1.66e-03
2022-05-11 03:25:27,319 reid_baseline.train INFO: Epoch 28 done. Time per batch: 0.555[s] Speed: 28.8[samples/s]
2022-05-11 03:28:02,500 reid_baseline.train INFO: normal accuracy 0.7467898175264699 1.3838201761245728 
2022-05-11 03:28:03,289 reid_baseline.train INFO: Classify Domain Adapatation Validation Results - Epoch: 28
2022-05-11 03:28:03,289 reid_baseline.train INFO: Accuracy: 74.7%, best Accuracy: 74.7%, min Mean_entropy: 1e+00
2022-05-11 03:28:51,341 reid_baseline.train INFO: Epoch[29] Iteration[100/267] Loss1: 0.815, Loss2: 1.409, Loss3: -0.042,  Acc: 0.668, Acc2: 0.806, Acc2_pse: 0.806, Base Lr: 1.42e-03
2022-05-11 03:29:39,450 reid_baseline.train INFO: Epoch[29] Iteration[200/267] Loss1: 0.805, Loss2: 1.390, Loss3: -0.031,  Acc: 0.670, Acc2: 0.808, Acc2_pse: 0.808, Base Lr: 1.42e-03
2022-05-11 03:30:12,137 reid_baseline.train INFO: Epoch 29 done. Time per batch: 0.486[s] Speed: 32.9[samples/s]
2022-05-11 03:32:20,985 reid_baseline.train INFO: normal accuracy 0.7517458887136742 1.315853476524353 
2022-05-11 03:32:21,769 reid_baseline.train INFO: Classify Domain Adapatation Validation Results - Epoch: 29
2022-05-11 03:32:21,769 reid_baseline.train INFO: Accuracy: 75.2%, best Accuracy: 75.2%, min Mean_entropy: 1e+00
2022-05-11 03:33:09,346 reid_baseline.train INFO: Epoch[30] Iteration[100/267] Loss1: 0.817, Loss2: 1.368, Loss3: -0.051,  Acc: 0.667, Acc2: 0.816, Acc2_pse: 0.816, Base Lr: 1.19e-03
2022-05-11 03:33:52,968 reid_baseline.train INFO: Epoch[30] Iteration[200/267] Loss1: 0.808, Loss2: 1.368, Loss3: -0.044,  Acc: 0.666, Acc2: 0.816, Acc2_pse: 0.816, Base Lr: 1.19e-03
2022-05-11 03:34:23,712 reid_baseline.train INFO: Epoch 30 done. Time per batch: 0.462[s] Speed: 34.6[samples/s]
2022-05-11 03:36:29,381 reid_baseline.train INFO: normal accuracy 0.7503942329353458 1.3641633987426758 
2022-05-11 03:36:29,382 reid_baseline.train INFO: Classify Domain Adapatation Validation Results - Epoch: 30
2022-05-11 03:36:29,382 reid_baseline.train INFO: Accuracy: 75.0%, best Accuracy: 75.2%, min Mean_entropy: 1e+00
2022-05-11 03:37:18,249 reid_baseline.train INFO: Epoch[31] Iteration[100/267] Loss1: 0.814, Loss2: 1.415, Loss3: 0.038,  Acc: 0.680, Acc2: 0.808, Acc2_pse: 0.808, Base Lr: 9.72e-04
2022-05-11 03:38:03,698 reid_baseline.train INFO: Epoch[31] Iteration[200/267] Loss1: 0.788, Loss2: 1.403, Loss3: 0.026,  Acc: 0.685, Acc2: 0.812, Acc2_pse: 0.812, Base Lr: 9.72e-04
2022-05-11 03:38:47,979 reid_baseline.train INFO: Epoch 31 done. Time per batch: 0.523[s] Speed: 30.6[samples/s]
2022-05-11 03:41:09,230 reid_baseline.train INFO: normal accuracy 0.7560261320117143 1.449726939201355 
2022-05-11 03:41:10,046 reid_baseline.train INFO: Classify Domain Adapatation Validation Results - Epoch: 31
2022-05-11 03:41:10,047 reid_baseline.train INFO: Accuracy: 75.6%, best Accuracy: 75.6%, min Mean_entropy: 1e+00
2022-05-11 03:42:21,249 reid_baseline.train INFO: Epoch[32] Iteration[100/267] Loss1: 0.819, Loss2: 1.393, Loss3: -0.040,  Acc: 0.661, Acc2: 0.820, Acc2_pse: 0.820, Base Lr: 7.78e-04
2022-05-11 03:43:31,450 reid_baseline.train INFO: Epoch[32] Iteration[200/267] Loss1: 0.811, Loss2: 1.367, Loss3: -0.027,  Acc: 0.672, Acc2: 0.830, Acc2_pse: 0.830, Base Lr: 7.78e-04
2022-05-11 03:44:16,916 reid_baseline.train INFO: Epoch 32 done. Time per batch: 0.702[s] Speed: 22.8[samples/s]
2022-05-11 03:46:46,170 reid_baseline.train INFO: normal accuracy 0.7537733723811669 1.3969225883483887 
2022-05-11 03:46:46,171 reid_baseline.train INFO: Classify Domain Adapatation Validation Results - Epoch: 32
2022-05-11 03:46:46,171 reid_baseline.train INFO: Accuracy: 75.4%, best Accuracy: 75.6%, min Mean_entropy: 1e+00
2022-05-11 03:48:00,808 reid_baseline.train INFO: Epoch[33] Iteration[100/267] Loss1: 0.765, Loss2: 1.363, Loss3: 0.008,  Acc: 0.692, Acc2: 0.821, Acc2_pse: 0.821, Base Lr: 6.04e-04
2022-05-11 03:49:13,876 reid_baseline.train INFO: Epoch[33] Iteration[200/267] Loss1: 0.780, Loss2: 1.357, Loss3: -0.008,  Acc: 0.684, Acc2: 0.832, Acc2_pse: 0.832, Base Lr: 6.04e-04
2022-05-11 03:49:59,904 reid_baseline.train INFO: Epoch 33 done. Time per batch: 0.731[s] Speed: 21.9[samples/s]
2022-05-11 03:52:35,176 reid_baseline.train INFO: normal accuracy 0.7533228204550575 1.296818494796753 
2022-05-11 03:52:35,176 reid_baseline.train INFO: Classify Domain Adapatation Validation Results - Epoch: 33
2022-05-11 03:52:35,177 reid_baseline.train INFO: Accuracy: 75.3%, best Accuracy: 75.6%, min Mean_entropy: 1e+00
2022-05-11 03:53:48,738 reid_baseline.train INFO: Epoch[34] Iteration[100/267] Loss1: 0.837, Loss2: 1.373, Loss3: -0.072,  Acc: 0.660, Acc2: 0.823, Acc2_pse: 0.823, Base Lr: 4.51e-04
2022-05-11 03:55:01,483 reid_baseline.train INFO: Epoch[34] Iteration[200/267] Loss1: 0.822, Loss2: 1.369, Loss3: -0.023,  Acc: 0.668, Acc2: 0.824, Acc2_pse: 0.824, Base Lr: 4.51e-04
2022-05-11 03:55:48,875 reid_baseline.train INFO: Epoch 34 done. Time per batch: 0.731[s] Speed: 21.9[samples/s]
2022-05-11 03:58:25,519 reid_baseline.train INFO: normal accuracy 0.7526469925658932 1.3094435930252075 
2022-05-11 03:58:25,520 reid_baseline.train INFO: Classify Domain Adapatation Validation Results - Epoch: 34
2022-05-11 03:58:25,521 reid_baseline.train INFO: Accuracy: 75.3%, best Accuracy: 75.6%, min Mean_entropy: 1e+00
2022-05-11 03:59:42,539 reid_baseline.train INFO: Epoch[35] Iteration[100/267] Loss1: 0.810, Loss2: 1.326, Loss3: -0.067,  Acc: 0.667, Acc2: 0.842, Acc2_pse: 0.842, Base Lr: 3.20e-04
2022-05-11 04:00:53,181 reid_baseline.train INFO: Epoch[35] Iteration[200/267] Loss1: 0.803, Loss2: 1.331, Loss3: -0.028,  Acc: 0.672, Acc2: 0.838, Acc2_pse: 0.838, Base Lr: 3.20e-04
2022-05-11 04:01:40,313 reid_baseline.train INFO: Epoch 35 done. Time per batch: 0.734[s] Speed: 21.8[samples/s]
2022-05-11 04:04:16,345 reid_baseline.train INFO: normal accuracy 0.7551250281594953 1.4998314380645752 
2022-05-11 04:04:16,345 reid_baseline.train INFO: Classify Domain Adapatation Validation Results - Epoch: 35
2022-05-11 04:04:16,346 reid_baseline.train INFO: Accuracy: 75.5%, best Accuracy: 75.6%, min Mean_entropy: 1e+00
2022-05-11 04:05:34,341 reid_baseline.train INFO: Epoch[36] Iteration[100/267] Loss1: 0.824, Loss2: 1.412, Loss3: -0.191,  Acc: 0.662, Acc2: 0.800, Acc2_pse: 0.800, Base Lr: 2.11e-04
2022-05-11 04:06:51,348 reid_baseline.train INFO: Epoch[36] Iteration[200/267] Loss1: 0.801, Loss2: 1.365, Loss3: -0.122,  Acc: 0.668, Acc2: 0.814, Acc2_pse: 0.814, Base Lr: 2.11e-04
2022-05-11 04:07:38,797 reid_baseline.train INFO: Epoch 36 done. Time per batch: 0.767[s] Speed: 20.9[samples/s]
2022-05-11 04:10:15,262 reid_baseline.train INFO: normal accuracy 0.7521964406397837 1.4758422374725342 
2022-05-11 04:10:15,277 reid_baseline.train INFO: Classify Domain Adapatation Validation Results - Epoch: 36
2022-05-11 04:10:15,277 reid_baseline.train INFO: Accuracy: 75.2%, best Accuracy: 75.6%, min Mean_entropy: 1e+00
2022-05-11 04:11:32,964 reid_baseline.train INFO: Epoch[37] Iteration[100/267] Loss1: 0.782, Loss2: 1.377, Loss3: 0.020,  Acc: 0.685, Acc2: 0.823, Acc2_pse: 0.823, Base Lr: 1.26e-04
2022-05-11 04:12:49,384 reid_baseline.train INFO: Epoch[37] Iteration[200/267] Loss1: 0.778, Loss2: 1.354, Loss3: 0.017,  Acc: 0.687, Acc2: 0.829, Acc2_pse: 0.829, Base Lr: 1.26e-04
2022-05-11 04:13:36,748 reid_baseline.train INFO: Epoch 37 done. Time per batch: 0.760[s] Speed: 21.0[samples/s]
2022-05-11 04:16:29,975 reid_baseline.train INFO: normal accuracy 0.7524217166028385 1.3344191312789917 
2022-05-11 04:16:29,975 reid_baseline.train INFO: Classify Domain Adapatation Validation Results - Epoch: 37
2022-05-11 04:16:29,975 reid_baseline.train INFO: Accuracy: 75.2%, best Accuracy: 75.6%, min Mean_entropy: 1e+00
2022-05-11 04:17:45,883 reid_baseline.train INFO: Epoch[38] Iteration[100/267] Loss1: 0.786, Loss2: 1.355, Loss3: 0.059,  Acc: 0.683, Acc2: 0.828, Acc2_pse: 0.828, Base Lr: 6.51e-05
2022-05-11 04:19:03,852 reid_baseline.train INFO: Epoch[38] Iteration[200/267] Loss1: 0.788, Loss2: 1.345, Loss3: 0.036,  Acc: 0.681, Acc2: 0.825, Acc2_pse: 0.825, Base Lr: 6.51e-05
2022-05-11 04:19:53,182 reid_baseline.train INFO: Epoch 38 done. Time per batch: 0.764[s] Speed: 21.0[samples/s]
2022-05-11 04:22:35,976 reid_baseline.train INFO: normal accuracy 0.7535480964181122 1.3872368335723877 
2022-05-11 04:22:35,987 reid_baseline.train INFO: Classify Domain Adapatation Validation Results - Epoch: 38
2022-05-11 04:22:35,987 reid_baseline.train INFO: Accuracy: 75.4%, best Accuracy: 75.6%, min Mean_entropy: 1e+00
2022-05-11 04:23:54,615 reid_baseline.train INFO: Epoch[39] Iteration[100/267] Loss1: 0.806, Loss2: 1.393, Loss3: -0.035,  Acc: 0.673, Acc2: 0.817, Acc2_pse: 0.817, Base Lr: 2.83e-05
2022-05-11 04:25:09,928 reid_baseline.train INFO: Epoch[39] Iteration[200/267] Loss1: 0.808, Loss2: 1.349, Loss3: -0.035,  Acc: 0.665, Acc2: 0.835, Acc2_pse: 0.835, Base Lr: 2.83e-05
2022-05-11 04:26:00,738 reid_baseline.train INFO: Epoch 39 done. Time per batch: 0.773[s] Speed: 20.7[samples/s]
2022-05-11 04:28:47,954 reid_baseline.train INFO: normal accuracy 0.7533228204550575 1.5327430963516235 
2022-05-11 04:28:47,954 reid_baseline.train INFO: Classify Domain Adapatation Validation Results - Epoch: 39
2022-05-11 04:28:47,954 reid_baseline.train INFO: Accuracy: 75.3%, best Accuracy: 75.6%, min Mean_entropy: 1e+00
2022-05-11 04:30:07,820 reid_baseline.train INFO: Epoch[40] Iteration[100/267] Loss1: 0.799, Loss2: 1.361, Loss3: -0.044,  Acc: 0.672, Acc2: 0.820, Acc2_pse: 0.820, Base Lr: 1.60e-05
2022-05-11 04:31:24,088 reid_baseline.train INFO: Epoch[40] Iteration[200/267] Loss1: 0.791, Loss2: 1.339, Loss3: 0.007,  Acc: 0.680, Acc2: 0.825, Acc2_pse: 0.825, Base Lr: 1.60e-05
2022-05-11 04:32:11,306 reid_baseline.train INFO: Epoch 40 done. Time per batch: 0.767[s] Speed: 20.9[samples/s]
2022-05-11 04:35:08,073 reid_baseline.train INFO: normal accuracy 0.7555755800856049 1.37445068359375 
2022-05-11 04:35:08,074 reid_baseline.train INFO: Classify Domain Adapatation Validation Results - Epoch: 40
2022-05-11 04:35:08,074 reid_baseline.train INFO: Accuracy: 75.6%, best Accuracy: 75.6%, min Mean_entropy: 1e+00
best model preformance is 0.7560261320117143
Loading pretrained model for finetuning from ../logs/uda/deit_base/office-home/Clipart2ProductDRI_Contrastive0.0/transformer_best_model.pth
2022-05-11 04:37:49,869 reid_baseline.train INFO: normal accuracy 0.7560261320117143 1.449726939201355 
2022-05-11 04:37:49,869 reid_baseline.train INFO: Classify Domain Adapatation Validation Results - Best model
2022-05-11 04:37:49,869 reid_baseline.train INFO: Accuracy: 75.6%
2022-05-11 04:40:29,017 reid_baseline.train INFO: normal accuracy 0.8959908361970218 0.8757291436195374 
2022-05-11 04:40:29,017 reid_baseline.train INFO: Classify Domain Adapatation Source Results - Best model
2022-05-11 04:40:29,018 reid_baseline.train INFO: Accuracy: 89.6%
2022-05-11 04:40:34,348 reid_baseline INFO: Saving model in the path :../logs/uda/deit_base/office-home/Clipart2Real_WorldDRI_Contrastive0.0
2022-05-11 04:40:34,348 reid_baseline INFO: Namespace(config_file='configs/uda.yml', opts=['MODEL.DEVICE_ID', "('3')", 'OUTPUT_DIR', '../logs/uda/deit_base/office-home/Clipart2Real_WorldDRI_Contrastive0.0', 'DATASETS.ROOT_TRAIN_DIR', '../data/OfficeHomeDataset/Clipart.txt', 'DATASETS.ROOT_TRAIN_DIR2', '../data/OfficeHomeDataset/Real_World.txt', 'DATASETS.ROOT_TEST_DIR', '../data/OfficeHomeDataset/Real_World.txt', 'DATASETS.NAMES', 'OfficeHome', 'DATASETS.NAMES2', 'OfficeHome', 'MODEL.Transformer_TYPE', 'uda_vit_base_patch16_224_TransReID'], local_rank=0, patch_size=8, dom_cls=False, layer_num=1, dom_weight=0.0)
2022-05-11 04:40:34,348 reid_baseline INFO: Loaded configuration file configs/uda.yml
2022-05-11 04:40:34,348 reid_baseline INFO: 
MODEL:
  PRETRAIN_CHOICE: 'imagenet'
  PRETRAIN_PATH: '../data/pretrainModel/deit_base_distilled_patch16_224-df68dfff.pth'
  METRIC_LOSS_TYPE: 'triplet'
  IF_LABELSMOOTH: 'on'
  IF_WITH_CENTER: 'no'
  NAME: 'transformer'
  NO_MARGIN: True
  DEVICE_ID: ('0')
  Transformer_TYPE: 'uda_vit_base_patch16_224_TransReID' #uda_vit_small_patch16_224_TransReID
  STRIDE_SIZE: [16, 16]
  BLOCK_PATTERN: '3_branches'
  TASK_TYPE: 'classify_DA'
  UDA_STAGE: 'UDA'
#  CAMERA_EMBEDDING: True
#  VIEWPOINT_EMBEDDING: True

INPUT:
  SIZE_TRAIN: [256, 256]
  SIZE_TEST: [256, 256]
  SIZE_CROP: [224, 224]
  PROB: 0.5 # random horizontal flip
  RE_PROB: 0.0 # random erasing
  PADDING: 0
  PIXEL_MEAN: [0.485, 0.456, 0.406]
  PIXEL_STD: [0.229, 0.224, 0.225]

DATASETS:
  NAMES: ('OURAPI')
  ROOT_TRAIN_DIR: ('./datasets/reid_datasets/Corrected_Market1501')
  NAMES2: ('OURAPI')
  ROOT_TRAIN_DIR2: ('./datasets/reid_datasets/Refined_DukeMTMC_reID')
  ROOT_TEST_DIR: ('./datasets/reid_datasets/Refined_DukeMTMC_reID')

DATALOADER:
  SAMPLER: 'softmax'
  NUM_INSTANCE: 4
  NUM_WORKERS: 4

SOLVER:
  OPTIMIZER_NAME: 'SGD'
  MAX_EPOCHS: 40
  BASE_LR: 0.008
  IMS_PER_BATCH: 16
  STEPS: [40, 80]
  GAMMA: 0.
  WARMUP_FACTOR: 0.01
  WARMUP_EPOCHS: 10
  WARMUP_METHOD: 'linear'
  LARGE_FC_LR: False
  CHECKPOINT_PERIOD: 10
  LOG_PERIOD: 100
  EVAL_PERIOD: 1
  WEIGHT_DECAY:  1e-4
  WEIGHT_DECAY_BIAS: 1e-4
  BIAS_LR_FACTOR: 2

TEST:
  EVAL: True
  IMS_PER_BATCH: 64
  RE_RANKING: False
  RE_RANKING_TRACK: False

  WEIGHT: '../logs/trans4DA/transformer_120.pth'
  NECK_FEAT: 'after'
  FEAT_NORM: 'yes'

OUTPUT_DIR: '../logs/trans4DA'



2022-05-11 04:40:34,348 reid_baseline INFO: Running with config:
DATALOADER:
  NUM_INSTANCE: 4
  NUM_WORKERS: 4
  SAMPLER: softmax
DATASETS:
  NAMES: OfficeHome
  NAMES2: OfficeHome
  PLUS_NUM_ID: 100
  QUERY_MINING: False
  ROOT_TEST_DIR: ../data/OfficeHomeDataset/Real_World.txt
  ROOT_TRAIN_DIR: ../data/OfficeHomeDataset/Clipart.txt
  ROOT_TRAIN_DIR2: ../data/OfficeHomeDataset/Real_World.txt
INPUT:
  AA_PROB: 0.0
  PADDING: 0
  PIXEL_MEAN: [0.485, 0.456, 0.406]
  PIXEL_STD: [0.229, 0.224, 0.225]
  PROB: 0.5
  RE_PROB: 0.0
  SIZE_CROP: [224, 224]
  SIZE_TEST: [256, 256]
  SIZE_TRAIN: [256, 256]
MODEL:
  AIE_COE: 1.5
  BLOCK_PATTERN: 3_branches
  CAMERA_EMBEDDING: False
  COS_LAYER: False
  DEVICE: cuda
  DEVICE_ID: 3
  DEVIDE_LENGTH: 4
  DIST_TRAIN: False
  DROP_OUT: 0.0
  DROP_PATH: 0.1
  FC_SETTING: TransReID
  FROZEN: -1
  ID_LOSS_TYPE: softmax
  ID_LOSS_WEIGHT: 1.0
  IF_LABELSMOOTH: on
  IF_WITH_CENTER: no
  LAST_STRIDE: 1
  LOCAL_F: False
  METRIC_LOSS_TYPE: triplet
  NAME: transformer
  NECK: bnneck
  NO_MARGIN: True
  NO_SHUFFLE: False
  PATCH_SHUFFLE: 2
  PRETRAIN_CHOICE: imagenet
  PRETRAIN_PATH: ../data/pretrainModel/deit_base_distilled_patch16_224-df68dfff.pth
  PROB: 0.0
  RECIP_LOSS: 
  STRIDE_SIZE: [16, 16]
  TASK_TYPE: classify_DA
  THRESH: 0.23
  TRIPLET_LOSS_WEIGHT: 1.0
  Transformer_TYPE: uda_vit_base_patch16_224_TransReID
  UDA_STAGE: UDA
  VIEWPOINT_EMBEDDING: False
  YIWEI_NUM: 5
  lameda: 0.5
OUTPUT_DIR: ../logs/uda/deit_base/office-home/Clipart2Real_WorldDRI_Contrastive0.0
SOLVER:
  BASE_LR: 0.008
  BIAS_LR_FACTOR: 2
  CENTER_LOSS_WEIGHT: 0.0005
  CENTER_LR: 0.5
  CHECKPOINT_PERIOD: 10
  CLUSTER_MARGIN: 0.3
  COSINE_MARGIN: 0.5
  COSINE_SCALE: 30
  EVAL_PERIOD: 1
  GAMMA: 0.0
  IMS_PER_BATCH: 16
  LARGE_FC_LR: False
  LOG_PERIOD: 100
  MARGIN: 0.3
  MAX_EPOCHS: 40
  MOMENTUM: 0.9
  OPTIMIZER_NAME: SGD
  RANGE_ALPHA: 0
  RANGE_BETA: 1
  RANGE_K: 2
  RANGE_LOSS_WEIGHT: 1
  RANGE_MARGIN: 0.3
  SEED: 1234
  STEPS: (40, 80)
  WARMUP_EPOCHS: 10
  WARMUP_FACTOR: 0.01
  WARMUP_METHOD: linear
  WEIGHT_DECAY: 0.0001
  WEIGHT_DECAY_BIAS: 0.0001
  WITH_PSEUDO_LABEL_FILTER: False
TEST:
  DIST_MAT: dist_mat.npy
  EVAL: True
  FEAT_NORM: yes
  FLIP_FEATS: off
  IMS_PER_BATCH: 64
  NECK_FEAT: after
  RE_RANKING: False
  RE_RANKING_TRACK: False
  WEIGHT: ../logs/trans4DA/transformer_120.pth
=> Office-Home loaded
Dataset statistics:
train Clipart and valid is Real_World
  ----------------------------------------
  subset   | # ids | # images | # cameras
  ----------------------------------------
  train   |    65 |     4365 |         1
  valid   |    65 |     4357 |         1
  ----------------------------------------
=> Office-Home loaded
Dataset statistics:
train Real_World and valid is Real_World
  ----------------------------------------
  subset   | # ids | # images | # cameras
  ----------------------------------------
  train   |    65 |     4357 |         1
  valid   |    65 |     4357 |         1
  ----------------------------------------
using Transformer_type: uda_vit_base_patch16_224_TransReID as a backbone
using stride: [16, 16], and part number is num_y14 * num_x14
using drop_path_rate is : 0.1
using aie_xishu is : 1.5
using 3branches blocks
distill need to choose right cls token in the pth
Resized position embedding: %s to %s torch.Size([1, 197, 768]) torch.Size([1, 197, 768])
Position embedding resize to height:14 width: 14
Loading pretrained ImageNet model......from ../data/pretrainModel/deit_base_distilled_patch16_224-df68dfff.pth
===========building uda transformer===========
label smooth on, numclasses: 65
2022-05-11 04:40:42,192 reid_baseline.train INFO: start training
2022-05-11 04:42:08,137 reid_baseline.train INFO: Epoch[1] Iteration[100/267] Loss1: 1.401, Loss2: 4.165, Loss3: 0.158,  Acc: 0.391, Acc2: 0.029, Acc2_pse: 0.029, Base Lr: 8.72e-04
2022-05-11 04:43:30,404 reid_baseline.train INFO: Epoch[1] Iteration[200/267] Loss1: 1.248, Loss2: 4.154, Loss3: 0.108,  Acc: 0.467, Acc2: 0.058, Acc2_pse: 0.058, Base Lr: 8.72e-04
2022-05-11 04:44:21,906 reid_baseline.train INFO: Epoch 1 done. Time per batch: 0.820[s] Speed: 19.5[samples/s]
2022-05-11 04:52:12,052 reid_baseline.train INFO: normal accuracy 0.11613495524443425 4.172398567199707 
2022-05-11 04:52:13,483 reid_baseline.train INFO: Classify Domain Adapatation Validation Results - Epoch: 1
2022-05-11 04:52:13,483 reid_baseline.train INFO: Accuracy: 11.6%, best Accuracy: 11.6%, min Mean_entropy: 4e+00
2022-05-11 04:53:31,547 reid_baseline.train INFO: Epoch[2] Iteration[100/267] Loss1: 0.918, Loss2: 4.088, Loss3: 0.095,  Acc: 0.631, Acc2: 0.108, Acc2_pse: 0.108, Base Lr: 1.66e-03
2022-05-11 04:54:48,444 reid_baseline.train INFO: Epoch[2] Iteration[200/267] Loss1: 0.916, Loss2: 4.061, Loss3: 0.010,  Acc: 0.630, Acc2: 0.128, Acc2_pse: 0.128, Base Lr: 1.66e-03
2022-05-11 04:55:37,689 reid_baseline.train INFO: Epoch 2 done. Time per batch: 0.768[s] Speed: 20.8[samples/s]
2022-05-11 05:03:25,569 reid_baseline.train INFO: normal accuracy 0.16203809960982327 4.166889190673828 
2022-05-11 05:03:26,403 reid_baseline.train INFO: Classify Domain Adapatation Validation Results - Epoch: 2
2022-05-11 05:03:26,403 reid_baseline.train INFO: Accuracy: 16.2%, best Accuracy: 16.2%, min Mean_entropy: 4e+00
2022-05-11 05:04:50,118 reid_baseline.train INFO: Epoch[3] Iteration[100/267] Loss1: 0.876, Loss2: 3.929, Loss3: 0.031,  Acc: 0.635, Acc2: 0.139, Acc2_pse: 0.139, Base Lr: 2.46e-03
2022-05-11 05:06:08,886 reid_baseline.train INFO: Epoch[3] Iteration[200/267] Loss1: 0.872, Loss2: 3.892, Loss3: -0.018,  Acc: 0.639, Acc2: 0.149, Acc2_pse: 0.149, Base Lr: 2.46e-03
2022-05-11 05:07:02,436 reid_baseline.train INFO: Epoch 3 done. Time per batch: 0.818[s] Speed: 19.6[samples/s]
2022-05-11 05:16:13,699 reid_baseline.train INFO: normal accuracy 0.1962359421620381 4.140019416809082 
2022-05-11 05:16:14,731 reid_baseline.train INFO: Classify Domain Adapatation Validation Results - Epoch: 3
2022-05-11 05:16:14,732 reid_baseline.train INFO: Accuracy: 19.6%, best Accuracy: 19.6%, min Mean_entropy: 4e+00
2022-05-11 05:17:41,467 reid_baseline.train INFO: Epoch[4] Iteration[100/267] Loss1: 0.867, Loss2: 3.705, Loss3: 0.070,  Acc: 0.658, Acc2: 0.161, Acc2_pse: 0.161, Base Lr: 3.25e-03
2022-05-11 05:19:04,648 reid_baseline.train INFO: Epoch[4] Iteration[200/267] Loss1: 0.853, Loss2: 3.631, Loss3: -0.005,  Acc: 0.653, Acc2: 0.189, Acc2_pse: 0.189, Base Lr: 3.25e-03
2022-05-11 05:19:59,108 reid_baseline.train INFO: Epoch 4 done. Time per batch: 0.850[s] Speed: 18.8[samples/s]
2022-05-11 05:27:40,245 reid_baseline.train INFO: normal accuracy 0.2627955014918522 4.039144992828369 
2022-05-11 05:27:41,092 reid_baseline.train INFO: Classify Domain Adapatation Validation Results - Epoch: 4
2022-05-11 05:27:41,093 reid_baseline.train INFO: Accuracy: 26.3%, best Accuracy: 26.3%, min Mean_entropy: 4e+00
2022-05-11 05:28:45,317 reid_baseline.train INFO: Epoch[5] Iteration[100/267] Loss1: 0.859, Loss2: 3.450, Loss3: -0.044,  Acc: 0.647, Acc2: 0.197, Acc2_pse: 0.197, Base Lr: 4.04e-03
2022-05-11 05:29:44,527 reid_baseline.train INFO: Epoch[5] Iteration[200/267] Loss1: 0.846, Loss2: 3.342, Loss3: 0.021,  Acc: 0.656, Acc2: 0.245, Acc2_pse: 0.245, Base Lr: 4.04e-03
2022-05-11 05:30:22,288 reid_baseline.train INFO: Epoch 5 done. Time per batch: 0.608[s] Speed: 26.3[samples/s]
2022-05-11 05:37:41,828 reid_baseline.train INFO: normal accuracy 0.43699793435850354 3.85654354095459 
2022-05-11 05:37:42,841 reid_baseline.train INFO: Classify Domain Adapatation Validation Results - Epoch: 5
2022-05-11 05:37:42,841 reid_baseline.train INFO: Accuracy: 43.7%, best Accuracy: 43.7%, min Mean_entropy: 4e+00
2022-05-11 05:38:48,570 reid_baseline.train INFO: Epoch[6] Iteration[100/267] Loss1: 0.823, Loss2: 3.079, Loss3: -0.039,  Acc: 0.659, Acc2: 0.329, Acc2_pse: 0.329, Base Lr: 4.83e-03
2022-05-11 05:39:47,385 reid_baseline.train INFO: Epoch[6] Iteration[200/267] Loss1: 0.819, Loss2: 3.044, Loss3: -0.048,  Acc: 0.659, Acc2: 0.337, Acc2_pse: 0.337, Base Lr: 4.83e-03
2022-05-11 05:40:24,198 reid_baseline.train INFO: Epoch 6 done. Time per batch: 0.610[s] Speed: 26.2[samples/s]
2022-05-11 05:47:34,602 reid_baseline.train INFO: normal accuracy 0.5492311223318798 3.5691704750061035 
2022-05-11 05:47:35,413 reid_baseline.train INFO: Classify Domain Adapatation Validation Results - Epoch: 6
2022-05-11 05:47:35,413 reid_baseline.train INFO: Accuracy: 54.9%, best Accuracy: 54.9%, min Mean_entropy: 4e+00
2022-05-11 05:48:33,310 reid_baseline.train INFO: Epoch[7] Iteration[100/267] Loss1: 0.844, Loss2: 2.847, Loss3: -0.089,  Acc: 0.647, Acc2: 0.385, Acc2_pse: 0.385, Base Lr: 5.62e-03
2022-05-11 05:49:28,311 reid_baseline.train INFO: Epoch[7] Iteration[200/267] Loss1: 0.841, Loss2: 2.776, Loss3: -0.029,  Acc: 0.655, Acc2: 0.411, Acc2_pse: 0.411, Base Lr: 5.62e-03
2022-05-11 05:50:04,244 reid_baseline.train INFO: Epoch 7 done. Time per batch: 0.566[s] Speed: 28.3[samples/s]
2022-05-11 05:56:47,679 reid_baseline.train INFO: normal accuracy 0.5965113610282304 3.1974008083343506 
2022-05-11 05:56:48,540 reid_baseline.train INFO: Classify Domain Adapatation Validation Results - Epoch: 7
2022-05-11 05:56:48,541 reid_baseline.train INFO: Accuracy: 59.7%, best Accuracy: 59.7%, min Mean_entropy: 3e+00
2022-05-11 05:57:38,328 reid_baseline.train INFO: Epoch[8] Iteration[100/267] Loss1: 0.845, Loss2: 2.572, Loss3: 0.033,  Acc: 0.649, Acc2: 0.465, Acc2_pse: 0.465, Base Lr: 6.42e-03
2022-05-11 05:58:24,719 reid_baseline.train INFO: Epoch[8] Iteration[200/267] Loss1: 0.840, Loss2: 2.546, Loss3: -0.016,  Acc: 0.653, Acc2: 0.481, Acc2_pse: 0.481, Base Lr: 6.42e-03
2022-05-11 05:58:53,640 reid_baseline.train INFO: Epoch 8 done. Time per batch: 0.472[s] Speed: 33.9[samples/s]
2022-05-11 06:05:04,854 reid_baseline.train INFO: normal accuracy 0.6339224236860225 2.873213052749634 
2022-05-11 06:05:05,652 reid_baseline.train INFO: Classify Domain Adapatation Validation Results - Epoch: 8
2022-05-11 06:05:05,652 reid_baseline.train INFO: Accuracy: 63.4%, best Accuracy: 63.4%, min Mean_entropy: 3e+00
2022-05-11 06:05:57,944 reid_baseline.train INFO: Epoch[9] Iteration[100/267] Loss1: 0.846, Loss2: 2.373, Loss3: -0.009,  Acc: 0.657, Acc2: 0.496, Acc2_pse: 0.496, Base Lr: 7.21e-03
2022-05-11 06:06:44,464 reid_baseline.train INFO: Epoch[9] Iteration[200/267] Loss1: 0.849, Loss2: 2.347, Loss3: -0.005,  Acc: 0.647, Acc2: 0.517, Acc2_pse: 0.517, Base Lr: 7.21e-03
2022-05-11 06:07:14,622 reid_baseline.train INFO: Epoch 9 done. Time per batch: 0.488[s] Speed: 32.8[samples/s]
2022-05-11 06:13:06,323 reid_baseline.train INFO: normal accuracy 0.6626118889143906 2.6164515018463135 
2022-05-11 06:13:07,157 reid_baseline.train INFO: Classify Domain Adapatation Validation Results - Epoch: 9
2022-05-11 06:13:07,157 reid_baseline.train INFO: Accuracy: 66.3%, best Accuracy: 66.3%, min Mean_entropy: 3e+00
2022-05-11 06:13:56,380 reid_baseline.train INFO: Epoch[10] Iteration[100/267] Loss1: 0.872, Loss2: 2.210, Loss3: -0.038,  Acc: 0.630, Acc2: 0.568, Acc2_pse: 0.568, Base Lr: 6.83e-03
2022-05-11 06:14:41,934 reid_baseline.train INFO: Epoch[10] Iteration[200/267] Loss1: 0.832, Loss2: 2.195, Loss3: 0.061,  Acc: 0.660, Acc2: 0.576, Acc2_pse: 0.576, Base Lr: 6.83e-03
2022-05-11 06:15:12,197 reid_baseline.train INFO: Epoch 10 done. Time per batch: 0.472[s] Speed: 33.9[samples/s]
2022-05-11 06:21:17,825 reid_baseline.train INFO: normal accuracy 0.6926784484737204 2.444063186645508 
2022-05-11 06:21:18,611 reid_baseline.train INFO: Classify Domain Adapatation Validation Results - Epoch: 10
2022-05-11 06:21:18,611 reid_baseline.train INFO: Accuracy: 69.3%, best Accuracy: 69.3%, min Mean_entropy: 2e+00
2022-05-11 06:22:07,450 reid_baseline.train INFO: Epoch[11] Iteration[100/267] Loss1: 0.824, Loss2: 2.116, Loss3: -0.109,  Acc: 0.663, Acc2: 0.605, Acc2_pse: 0.605, Base Lr: 6.60e-03
2022-05-11 06:22:54,562 reid_baseline.train INFO: Epoch[11] Iteration[200/267] Loss1: 0.815, Loss2: 2.082, Loss3: -0.140,  Acc: 0.661, Acc2: 0.610, Acc2_pse: 0.610, Base Lr: 6.60e-03
2022-05-11 06:23:27,262 reid_baseline.train INFO: Epoch 11 done. Time per batch: 0.484[s] Speed: 33.1[samples/s]
2022-05-11 06:29:22,801 reid_baseline.train INFO: normal accuracy 0.7020885930686253 2.3186886310577393 
2022-05-11 06:29:23,599 reid_baseline.train INFO: Classify Domain Adapatation Validation Results - Epoch: 11
2022-05-11 06:29:23,599 reid_baseline.train INFO: Accuracy: 70.2%, best Accuracy: 70.2%, min Mean_entropy: 2e+00
2022-05-11 06:30:13,879 reid_baseline.train INFO: Epoch[12] Iteration[100/267] Loss1: 0.824, Loss2: 1.967, Loss3: -0.042,  Acc: 0.667, Acc2: 0.641, Acc2_pse: 0.641, Base Lr: 6.35e-03
2022-05-11 06:31:03,407 reid_baseline.train INFO: Epoch[12] Iteration[200/267] Loss1: 0.811, Loss2: 1.955, Loss3: -0.030,  Acc: 0.670, Acc2: 0.648, Acc2_pse: 0.648, Base Lr: 6.35e-03
2022-05-11 06:31:35,352 reid_baseline.train INFO: Epoch 12 done. Time per batch: 0.497[s] Speed: 32.2[samples/s]
2022-05-11 06:37:22,532 reid_baseline.train INFO: normal accuracy 0.7059903603396833 2.242723226547241 
2022-05-11 06:37:23,339 reid_baseline.train INFO: Classify Domain Adapatation Validation Results - Epoch: 12
2022-05-11 06:37:23,339 reid_baseline.train INFO: Accuracy: 70.6%, best Accuracy: 70.6%, min Mean_entropy: 2e+00
2022-05-11 06:38:12,242 reid_baseline.train INFO: Epoch[13] Iteration[100/267] Loss1: 0.806, Loss2: 1.906, Loss3: -0.014,  Acc: 0.667, Acc2: 0.668, Acc2_pse: 0.668, Base Lr: 6.09e-03
2022-05-11 06:38:58,851 reid_baseline.train INFO: Epoch[13] Iteration[200/267] Loss1: 0.807, Loss2: 1.891, Loss3: -0.005,  Acc: 0.669, Acc2: 0.668, Acc2_pse: 0.668, Base Lr: 6.09e-03
2022-05-11 06:39:27,952 reid_baseline.train INFO: Epoch 13 done. Time per batch: 0.470[s] Speed: 34.0[samples/s]
2022-05-11 06:45:28,301 reid_baseline.train INFO: normal accuracy 0.7131053477163186 2.171410083770752 
2022-05-11 06:45:29,076 reid_baseline.train INFO: Classify Domain Adapatation Validation Results - Epoch: 13
2022-05-11 06:45:29,076 reid_baseline.train INFO: Accuracy: 71.3%, best Accuracy: 71.3%, min Mean_entropy: 2e+00
2022-05-11 06:46:18,217 reid_baseline.train INFO: Epoch[14] Iteration[100/267] Loss1: 0.782, Loss2: 1.800, Loss3: 0.097,  Acc: 0.687, Acc2: 0.688, Acc2_pse: 0.688, Base Lr: 5.82e-03
2022-05-11 06:47:03,455 reid_baseline.train INFO: Epoch[14] Iteration[200/267] Loss1: 0.793, Loss2: 1.815, Loss3: 0.065,  Acc: 0.675, Acc2: 0.687, Acc2_pse: 0.687, Base Lr: 5.82e-03
2022-05-11 06:47:35,680 reid_baseline.train INFO: Epoch 14 done. Time per batch: 0.477[s] Speed: 33.5[samples/s]
2022-05-11 06:53:24,287 reid_baseline.train INFO: normal accuracy 0.7193022722056461 1.8348848819732666 
2022-05-11 06:53:25,071 reid_baseline.train INFO: Classify Domain Adapatation Validation Results - Epoch: 14
2022-05-11 06:53:25,071 reid_baseline.train INFO: Accuracy: 71.9%, best Accuracy: 71.9%, min Mean_entropy: 2e+00
2022-05-11 06:54:12,719 reid_baseline.train INFO: Epoch[15] Iteration[100/267] Loss1: 0.847, Loss2: 1.762, Loss3: 0.033,  Acc: 0.660, Acc2: 0.707, Acc2_pse: 0.707, Base Lr: 5.54e-03
2022-05-11 06:54:58,955 reid_baseline.train INFO: Epoch[15] Iteration[200/267] Loss1: 0.819, Loss2: 1.763, Loss3: 0.042,  Acc: 0.672, Acc2: 0.704, Acc2_pse: 0.704, Base Lr: 5.54e-03
2022-05-11 06:55:28,813 reid_baseline.train INFO: Epoch 15 done. Time per batch: 0.469[s] Speed: 34.1[samples/s]
2022-05-11 07:01:26,270 reid_baseline.train INFO: normal accuracy 0.7257287124168006 1.7731270790100098 
2022-05-11 07:01:27,045 reid_baseline.train INFO: Classify Domain Adapatation Validation Results - Epoch: 15
2022-05-11 07:01:27,046 reid_baseline.train INFO: Accuracy: 72.6%, best Accuracy: 72.6%, min Mean_entropy: 2e+00
2022-05-11 07:02:13,937 reid_baseline.train INFO: Epoch[16] Iteration[100/267] Loss1: 0.849, Loss2: 1.759, Loss3: -0.086,  Acc: 0.638, Acc2: 0.704, Acc2_pse: 0.704, Base Lr: 5.24e-03
2022-05-11 07:03:00,095 reid_baseline.train INFO: Epoch[16] Iteration[200/267] Loss1: 0.818, Loss2: 1.720, Loss3: -0.002,  Acc: 0.660, Acc2: 0.716, Acc2_pse: 0.716, Base Lr: 5.24e-03
2022-05-11 07:03:29,799 reid_baseline.train INFO: Epoch 16 done. Time per batch: 0.463[s] Speed: 34.6[samples/s]
2022-05-11 07:09:19,058 reid_baseline.train INFO: normal accuracy 0.7454670644939179 1.8822987079620361 
2022-05-11 07:09:19,841 reid_baseline.train INFO: Classify Domain Adapatation Validation Results - Epoch: 16
2022-05-11 07:09:19,841 reid_baseline.train INFO: Accuracy: 74.5%, best Accuracy: 74.5%, min Mean_entropy: 2e+00
2022-05-11 07:10:07,060 reid_baseline.train INFO: Epoch[17] Iteration[100/267] Loss1: 0.814, Loss2: 1.726, Loss3: -0.032,  Acc: 0.660, Acc2: 0.710, Acc2_pse: 0.710, Base Lr: 4.94e-03
2022-05-11 07:10:50,534 reid_baseline.train INFO: Epoch[17] Iteration[200/267] Loss1: 0.801, Loss2: 1.688, Loss3: 0.025,  Acc: 0.675, Acc2: 0.724, Acc2_pse: 0.724, Base Lr: 4.94e-03
2022-05-11 07:11:19,880 reid_baseline.train INFO: Epoch 17 done. Time per batch: 0.454[s] Speed: 35.2[samples/s]
2022-05-11 07:17:26,481 reid_baseline.train INFO: normal accuracy 0.7319256369061281 1.729331612586975 
2022-05-11 07:17:26,481 reid_baseline.train INFO: Classify Domain Adapatation Validation Results - Epoch: 17
2022-05-11 07:17:26,481 reid_baseline.train INFO: Accuracy: 73.2%, best Accuracy: 74.5%, min Mean_entropy: 2e+00
2022-05-11 07:18:15,202 reid_baseline.train INFO: Epoch[18] Iteration[100/267] Loss1: 0.850, Loss2: 1.653, Loss3: -0.027,  Acc: 0.647, Acc2: 0.729, Acc2_pse: 0.729, Base Lr: 4.63e-03
2022-05-11 07:19:02,149 reid_baseline.train INFO: Epoch[18] Iteration[200/267] Loss1: 0.839, Loss2: 1.636, Loss3: -0.034,  Acc: 0.654, Acc2: 0.735, Acc2_pse: 0.735, Base Lr: 4.63e-03
2022-05-11 07:19:33,904 reid_baseline.train INFO: Epoch 18 done. Time per batch: 0.481[s] Speed: 33.3[samples/s]
2022-05-11 07:25:19,308 reid_baseline.train INFO: normal accuracy 0.7399586871700712 1.6690866947174072 
2022-05-11 07:25:19,309 reid_baseline.train INFO: Classify Domain Adapatation Validation Results - Epoch: 18
2022-05-11 07:25:19,309 reid_baseline.train INFO: Accuracy: 74.0%, best Accuracy: 74.5%, min Mean_entropy: 2e+00
2022-05-11 07:26:08,838 reid_baseline.train INFO: Epoch[19] Iteration[100/267] Loss1: 0.796, Loss2: 1.656, Loss3: -0.011,  Acc: 0.675, Acc2: 0.739, Acc2_pse: 0.739, Base Lr: 4.32e-03
2022-05-11 07:26:53,111 reid_baseline.train INFO: Epoch[19] Iteration[200/267] Loss1: 0.802, Loss2: 1.603, Loss3: 0.040,  Acc: 0.670, Acc2: 0.752, Acc2_pse: 0.752, Base Lr: 4.32e-03
2022-05-11 07:27:21,873 reid_baseline.train INFO: Epoch 19 done. Time per batch: 0.462[s] Speed: 34.6[samples/s]
2022-05-11 07:33:18,433 reid_baseline.train INFO: normal accuracy 0.7378930456736287 1.6176306009292603 
2022-05-11 07:33:18,434 reid_baseline.train INFO: Classify Domain Adapatation Validation Results - Epoch: 19
2022-05-11 07:33:18,434 reid_baseline.train INFO: Accuracy: 73.8%, best Accuracy: 74.5%, min Mean_entropy: 2e+00
2022-05-11 07:34:06,754 reid_baseline.train INFO: Epoch[20] Iteration[100/267] Loss1: 0.800, Loss2: 1.582, Loss3: -0.034,  Acc: 0.667, Acc2: 0.745, Acc2_pse: 0.745, Base Lr: 4.01e-03
2022-05-11 07:34:53,469 reid_baseline.train INFO: Epoch[20] Iteration[200/267] Loss1: 0.803, Loss2: 1.553, Loss3: 0.012,  Acc: 0.670, Acc2: 0.760, Acc2_pse: 0.760, Base Lr: 4.01e-03
2022-05-11 07:35:23,281 reid_baseline.train INFO: Epoch 20 done. Time per batch: 0.470[s] Speed: 34.0[samples/s]
2022-05-11 07:41:24,969 reid_baseline.train INFO: normal accuracy 0.7397291714482442 1.6490147113800049 
2022-05-11 07:41:24,969 reid_baseline.train INFO: Classify Domain Adapatation Validation Results - Epoch: 20
2022-05-11 07:41:24,969 reid_baseline.train INFO: Accuracy: 74.0%, best Accuracy: 74.5%, min Mean_entropy: 2e+00
2022-05-11 07:42:13,534 reid_baseline.train INFO: Epoch[21] Iteration[100/267] Loss1: 0.810, Loss2: 1.545, Loss3: -0.011,  Acc: 0.675, Acc2: 0.773, Acc2_pse: 0.773, Base Lr: 3.69e-03
2022-05-11 07:42:59,313 reid_baseline.train INFO: Epoch[21] Iteration[200/267] Loss1: 0.810, Loss2: 1.522, Loss3: -0.038,  Acc: 0.667, Acc2: 0.778, Acc2_pse: 0.778, Base Lr: 3.69e-03
2022-05-11 07:43:28,882 reid_baseline.train INFO: Epoch 21 done. Time per batch: 0.468[s] Speed: 34.2[samples/s]
2022-05-11 07:49:30,113 reid_baseline.train INFO: normal accuracy 0.7470736745467065 1.5834605693817139 
2022-05-11 07:49:30,904 reid_baseline.train INFO: Classify Domain Adapatation Validation Results - Epoch: 21
2022-05-11 07:49:30,904 reid_baseline.train INFO: Accuracy: 74.7%, best Accuracy: 74.7%, min Mean_entropy: 2e+00
2022-05-11 07:50:19,921 reid_baseline.train INFO: Epoch[22] Iteration[100/267] Loss1: 0.850, Loss2: 1.541, Loss3: -0.031,  Acc: 0.643, Acc2: 0.770, Acc2_pse: 0.770, Base Lr: 3.38e-03
2022-05-11 07:51:04,989 reid_baseline.train INFO: Epoch[22] Iteration[200/267] Loss1: 0.855, Loss2: 1.508, Loss3: -0.038,  Acc: 0.642, Acc2: 0.779, Acc2_pse: 0.779, Base Lr: 3.38e-03
2022-05-11 07:51:34,208 reid_baseline.train INFO: Epoch 22 done. Time per batch: 0.467[s] Speed: 34.3[samples/s]
2022-05-11 07:57:40,024 reid_baseline.train INFO: normal accuracy 0.7507459260959376 1.5273005962371826 
2022-05-11 07:57:40,834 reid_baseline.train INFO: Classify Domain Adapatation Validation Results - Epoch: 22
2022-05-11 07:57:40,834 reid_baseline.train INFO: Accuracy: 75.1%, best Accuracy: 75.1%, min Mean_entropy: 2e+00
2022-05-11 07:58:29,281 reid_baseline.train INFO: Epoch[23] Iteration[100/267] Loss1: 0.782, Loss2: 1.523, Loss3: -0.079,  Acc: 0.678, Acc2: 0.773, Acc2_pse: 0.773, Base Lr: 3.08e-03
2022-05-11 07:59:17,136 reid_baseline.train INFO: Epoch[23] Iteration[200/267] Loss1: 0.790, Loss2: 1.478, Loss3: -0.031,  Acc: 0.680, Acc2: 0.783, Acc2_pse: 0.783, Base Lr: 3.08e-03
2022-05-11 07:59:47,493 reid_baseline.train INFO: Epoch 23 done. Time per batch: 0.481[s] Speed: 33.2[samples/s]
2022-05-11 08:05:37,796 reid_baseline.train INFO: normal accuracy 0.7495983474868029 1.5644365549087524 
2022-05-11 08:05:37,796 reid_baseline.train INFO: Classify Domain Adapatation Validation Results - Epoch: 23
2022-05-11 08:05:37,797 reid_baseline.train INFO: Accuracy: 75.0%, best Accuracy: 75.1%, min Mean_entropy: 2e+00
2022-05-11 08:06:25,770 reid_baseline.train INFO: Epoch[24] Iteration[100/267] Loss1: 0.840, Loss2: 1.499, Loss3: -0.011,  Acc: 0.647, Acc2: 0.787, Acc2_pse: 0.787, Base Lr: 2.77e-03
2022-05-11 08:07:09,817 reid_baseline.train INFO: Epoch[24] Iteration[200/267] Loss1: 0.822, Loss2: 1.462, Loss3: 0.014,  Acc: 0.660, Acc2: 0.792, Acc2_pse: 0.792, Base Lr: 2.77e-03
2022-05-11 08:07:39,486 reid_baseline.train INFO: Epoch 24 done. Time per batch: 0.457[s] Speed: 35.0[samples/s]
2022-05-11 08:13:29,202 reid_baseline.train INFO: normal accuracy 0.7555657562543034 1.5960477590560913 
2022-05-11 08:13:29,988 reid_baseline.train INFO: Classify Domain Adapatation Validation Results - Epoch: 24
2022-05-11 08:13:29,988 reid_baseline.train INFO: Accuracy: 75.6%, best Accuracy: 75.6%, min Mean_entropy: 2e+00
2022-05-11 08:14:20,273 reid_baseline.train INFO: Epoch[25] Iteration[100/267] Loss1: 0.808, Loss2: 1.492, Loss3: -0.120,  Acc: 0.663, Acc2: 0.785, Acc2_pse: 0.785, Base Lr: 2.48e-03
2022-05-11 08:15:06,275 reid_baseline.train INFO: Epoch[25] Iteration[200/267] Loss1: 0.808, Loss2: 1.465, Loss3: -0.071,  Acc: 0.668, Acc2: 0.796, Acc2_pse: 0.796, Base Lr: 2.48e-03
2022-05-11 08:15:36,020 reid_baseline.train INFO: Epoch 25 done. Time per batch: 0.481[s] Speed: 33.3[samples/s]
2022-05-11 08:21:35,538 reid_baseline.train INFO: normal accuracy 0.7537296304796879 1.5326809883117676 
2022-05-11 08:21:35,538 reid_baseline.train INFO: Classify Domain Adapatation Validation Results - Epoch: 25
2022-05-11 08:21:35,538 reid_baseline.train INFO: Accuracy: 75.4%, best Accuracy: 75.6%, min Mean_entropy: 2e+00
2022-05-11 08:22:26,715 reid_baseline.train INFO: Epoch[26] Iteration[100/267] Loss1: 0.812, Loss2: 1.469, Loss3: 0.044,  Acc: 0.671, Acc2: 0.779, Acc2_pse: 0.779, Base Lr: 2.20e-03
2022-05-11 08:23:15,778 reid_baseline.train INFO: Epoch[26] Iteration[200/267] Loss1: 0.799, Loss2: 1.437, Loss3: 0.056,  Acc: 0.679, Acc2: 0.797, Acc2_pse: 0.797, Base Lr: 2.20e-03
2022-05-11 08:23:46,638 reid_baseline.train INFO: Epoch 26 done. Time per batch: 0.495[s] Speed: 32.3[samples/s]
2022-05-11 08:29:42,486 reid_baseline.train INFO: normal accuracy 0.7613036492999771 1.4566336870193481 
2022-05-11 08:29:43,271 reid_baseline.train INFO: Classify Domain Adapatation Validation Results - Epoch: 26
2022-05-11 08:29:43,271 reid_baseline.train INFO: Accuracy: 76.1%, best Accuracy: 76.1%, min Mean_entropy: 1e+00
2022-05-11 08:30:32,764 reid_baseline.train INFO: Epoch[27] Iteration[100/267] Loss1: 0.784, Loss2: 1.459, Loss3: 0.030,  Acc: 0.681, Acc2: 0.789, Acc2_pse: 0.789, Base Lr: 1.92e-03
2022-05-11 08:31:22,223 reid_baseline.train INFO: Epoch[27] Iteration[200/267] Loss1: 0.781, Loss2: 1.440, Loss3: 0.029,  Acc: 0.689, Acc2: 0.794, Acc2_pse: 0.794, Base Lr: 1.92e-03
2022-05-11 08:31:52,953 reid_baseline.train INFO: Epoch 27 done. Time per batch: 0.489[s] Speed: 32.7[samples/s]
2022-05-11 08:37:41,482 reid_baseline.train INFO: normal accuracy 0.7619921964654579 1.3814985752105713 
2022-05-11 08:37:42,269 reid_baseline.train INFO: Classify Domain Adapatation Validation Results - Epoch: 27
2022-05-11 08:37:42,269 reid_baseline.train INFO: Accuracy: 76.2%, best Accuracy: 76.2%, min Mean_entropy: 1e+00
2022-05-11 08:38:29,656 reid_baseline.train INFO: Epoch[28] Iteration[100/267] Loss1: 0.752, Loss2: 1.438, Loss3: 0.058,  Acc: 0.694, Acc2: 0.797, Acc2_pse: 0.797, Base Lr: 1.66e-03
2022-05-11 08:39:15,641 reid_baseline.train INFO: Epoch[28] Iteration[200/267] Loss1: 0.758, Loss2: 1.416, Loss3: 0.045,  Acc: 0.694, Acc2: 0.804, Acc2_pse: 0.804, Base Lr: 1.66e-03
2022-05-11 08:39:44,745 reid_baseline.train INFO: Epoch 28 done. Time per batch: 0.462[s] Speed: 34.6[samples/s]
2022-05-11 08:45:35,938 reid_baseline.train INFO: normal accuracy 0.7603855864126693 1.3920236825942993 
2022-05-11 08:45:35,938 reid_baseline.train INFO: Classify Domain Adapatation Validation Results - Epoch: 28
2022-05-11 08:45:35,939 reid_baseline.train INFO: Accuracy: 76.0%, best Accuracy: 76.2%, min Mean_entropy: 1e+00
2022-05-11 08:46:22,905 reid_baseline.train INFO: Epoch[29] Iteration[100/267] Loss1: 0.816, Loss2: 1.410, Loss3: -0.043,  Acc: 0.665, Acc2: 0.809, Acc2_pse: 0.809, Base Lr: 1.42e-03
2022-05-11 08:47:09,588 reid_baseline.train INFO: Epoch[29] Iteration[200/267] Loss1: 0.805, Loss2: 1.389, Loss3: -0.031,  Acc: 0.669, Acc2: 0.811, Acc2_pse: 0.811, Base Lr: 1.42e-03
2022-05-11 08:47:41,022 reid_baseline.train INFO: Epoch 29 done. Time per batch: 0.472[s] Speed: 33.9[samples/s]
2022-05-11 08:53:26,281 reid_baseline.train INFO: normal accuracy 0.7596970392471885 1.326248049736023 
2022-05-11 08:53:26,281 reid_baseline.train INFO: Classify Domain Adapatation Validation Results - Epoch: 29
2022-05-11 08:53:26,282 reid_baseline.train INFO: Accuracy: 76.0%, best Accuracy: 76.2%, min Mean_entropy: 1e+00
2022-05-11 08:54:12,911 reid_baseline.train INFO: Epoch[30] Iteration[100/267] Loss1: 0.817, Loss2: 1.367, Loss3: -0.053,  Acc: 0.669, Acc2: 0.816, Acc2_pse: 0.816, Base Lr: 1.19e-03
2022-05-11 08:54:55,140 reid_baseline.train INFO: Epoch[30] Iteration[200/267] Loss1: 0.808, Loss2: 1.368, Loss3: -0.044,  Acc: 0.667, Acc2: 0.817, Acc2_pse: 0.817, Base Lr: 1.19e-03
2022-05-11 08:55:24,569 reid_baseline.train INFO: Epoch 30 done. Time per batch: 0.448[s] Speed: 35.8[samples/s]
2022-05-11 09:01:25,595 reid_baseline.train INFO: normal accuracy 0.7610741335781501 1.362054467201233 
2022-05-11 09:01:25,596 reid_baseline.train INFO: Classify Domain Adapatation Validation Results - Epoch: 30
2022-05-11 09:01:25,596 reid_baseline.train INFO: Accuracy: 76.1%, best Accuracy: 76.2%, min Mean_entropy: 1e+00
2022-05-11 09:02:13,391 reid_baseline.train INFO: Epoch[31] Iteration[100/267] Loss1: 0.815, Loss2: 1.415, Loss3: 0.041,  Acc: 0.679, Acc2: 0.809, Acc2_pse: 0.809, Base Lr: 9.72e-04
2022-05-11 09:02:57,089 reid_baseline.train INFO: Epoch[31] Iteration[200/267] Loss1: 0.789, Loss2: 1.402, Loss3: 0.028,  Acc: 0.684, Acc2: 0.813, Acc2_pse: 0.813, Base Lr: 9.72e-04
2022-05-11 09:03:24,887 reid_baseline.train INFO: Epoch 31 done. Time per batch: 0.449[s] Speed: 35.6[samples/s]
2022-05-11 09:09:09,207 reid_baseline.train INFO: normal accuracy 0.7594675235253615 1.4501268863677979 
2022-05-11 09:09:09,207 reid_baseline.train INFO: Classify Domain Adapatation Validation Results - Epoch: 31
2022-05-11 09:09:09,207 reid_baseline.train INFO: Accuracy: 75.9%, best Accuracy: 76.2%, min Mean_entropy: 1e+00
2022-05-11 09:09:58,066 reid_baseline.train INFO: Epoch[32] Iteration[100/267] Loss1: 0.820, Loss2: 1.393, Loss3: -0.039,  Acc: 0.663, Acc2: 0.816, Acc2_pse: 0.816, Base Lr: 7.78e-04
2022-05-11 09:10:43,018 reid_baseline.train INFO: Epoch[32] Iteration[200/267] Loss1: 0.813, Loss2: 1.366, Loss3: -0.025,  Acc: 0.674, Acc2: 0.826, Acc2_pse: 0.826, Base Lr: 7.78e-04
2022-05-11 09:11:12,323 reid_baseline.train INFO: Epoch 32 done. Time per batch: 0.463[s] Speed: 34.6[samples/s]
2022-05-11 09:17:03,772 reid_baseline.train INFO: normal accuracy 0.757631397750746 1.412599802017212 
2022-05-11 09:17:03,772 reid_baseline.train INFO: Classify Domain Adapatation Validation Results - Epoch: 32
2022-05-11 09:17:03,772 reid_baseline.train INFO: Accuracy: 75.8%, best Accuracy: 76.2%, min Mean_entropy: 1e+00
2022-05-11 09:17:52,858 reid_baseline.train INFO: Epoch[33] Iteration[100/267] Loss1: 0.766, Loss2: 1.360, Loss3: 0.009,  Acc: 0.689, Acc2: 0.824, Acc2_pse: 0.824, Base Lr: 6.04e-04
2022-05-11 09:18:37,648 reid_baseline.train INFO: Epoch[33] Iteration[200/267] Loss1: 0.781, Loss2: 1.354, Loss3: -0.009,  Acc: 0.682, Acc2: 0.833, Acc2_pse: 0.833, Base Lr: 6.04e-04
2022-05-11 09:19:07,592 reid_baseline.train INFO: Epoch 33 done. Time per batch: 0.466[s] Speed: 34.3[samples/s]
2022-05-11 09:24:56,043 reid_baseline.train INFO: normal accuracy 0.7594675235253615 1.307569146156311 
2022-05-11 09:24:56,043 reid_baseline.train INFO: Classify Domain Adapatation Validation Results - Epoch: 33
2022-05-11 09:24:56,043 reid_baseline.train INFO: Accuracy: 75.9%, best Accuracy: 76.2%, min Mean_entropy: 1e+00
2022-05-11 09:25:42,620 reid_baseline.train INFO: Epoch[34] Iteration[100/267] Loss1: 0.837, Loss2: 1.369, Loss3: -0.070,  Acc: 0.660, Acc2: 0.824, Acc2_pse: 0.824, Base Lr: 4.51e-04
2022-05-11 09:26:34,041 reid_baseline.train INFO: Epoch[34] Iteration[200/267] Loss1: 0.822, Loss2: 1.365, Loss3: -0.023,  Acc: 0.666, Acc2: 0.827, Acc2_pse: 0.827, Base Lr: 4.51e-04
2022-05-11 09:27:02,024 reid_baseline.train INFO: Epoch 34 done. Time per batch: 0.475[s] Speed: 33.7[samples/s]
2022-05-11 09:33:10,092 reid_baseline.train INFO: normal accuracy 0.7631397750745926 1.2901891469955444 
2022-05-11 09:33:10,861 reid_baseline.train INFO: Classify Domain Adapatation Validation Results - Epoch: 34
2022-05-11 09:33:10,861 reid_baseline.train INFO: Accuracy: 76.3%, best Accuracy: 76.3%, min Mean_entropy: 1e+00
2022-05-11 09:33:59,038 reid_baseline.train INFO: Epoch[35] Iteration[100/267] Loss1: 0.809, Loss2: 1.325, Loss3: -0.069,  Acc: 0.665, Acc2: 0.841, Acc2_pse: 0.841, Base Lr: 3.20e-04
2022-05-11 09:34:44,529 reid_baseline.train INFO: Epoch[35] Iteration[200/267] Loss1: 0.803, Loss2: 1.331, Loss3: -0.030,  Acc: 0.671, Acc2: 0.837, Acc2_pse: 0.837, Base Lr: 3.20e-04
2022-05-11 09:35:14,555 reid_baseline.train INFO: Epoch 35 done. Time per batch: 0.467[s] Speed: 34.3[samples/s]
2022-05-11 09:41:03,069 reid_baseline.train INFO: normal accuracy 0.7601560706908423 1.498674988746643 
2022-05-11 09:41:03,069 reid_baseline.train INFO: Classify Domain Adapatation Validation Results - Epoch: 35
2022-05-11 09:41:03,069 reid_baseline.train INFO: Accuracy: 76.0%, best Accuracy: 76.3%, min Mean_entropy: 1e+00
2022-05-11 09:41:50,537 reid_baseline.train INFO: Epoch[36] Iteration[100/267] Loss1: 0.824, Loss2: 1.411, Loss3: -0.192,  Acc: 0.665, Acc2: 0.803, Acc2_pse: 0.803, Base Lr: 2.11e-04
2022-05-11 09:42:36,865 reid_baseline.train INFO: Epoch[36] Iteration[200/267] Loss1: 0.802, Loss2: 1.364, Loss3: -0.121,  Acc: 0.669, Acc2: 0.818, Acc2_pse: 0.818, Base Lr: 2.11e-04
2022-05-11 09:43:05,572 reid_baseline.train INFO: Epoch 36 done. Time per batch: 0.463[s] Speed: 34.5[samples/s]
2022-05-11 09:48:48,769 reid_baseline.train INFO: normal accuracy 0.7580904291943998 1.4963301420211792 
2022-05-11 09:48:48,769 reid_baseline.train INFO: Classify Domain Adapatation Validation Results - Epoch: 36
2022-05-11 09:48:48,769 reid_baseline.train INFO: Accuracy: 75.8%, best Accuracy: 76.3%, min Mean_entropy: 1e+00
2022-05-11 09:49:36,261 reid_baseline.train INFO: Epoch[37] Iteration[100/267] Loss1: 0.783, Loss2: 1.377, Loss3: 0.019,  Acc: 0.686, Acc2: 0.822, Acc2_pse: 0.822, Base Lr: 1.26e-04
2022-05-11 09:50:21,071 reid_baseline.train INFO: Epoch[37] Iteration[200/267] Loss1: 0.779, Loss2: 1.353, Loss3: 0.016,  Acc: 0.688, Acc2: 0.828, Acc2_pse: 0.828, Base Lr: 1.26e-04
2022-05-11 09:50:51,150 reid_baseline.train INFO: Epoch 37 done. Time per batch: 0.461[s] Speed: 34.7[samples/s]
2022-05-11 09:56:38,590 reid_baseline.train INFO: normal accuracy 0.761533165021804 1.3559006452560425 
2022-05-11 09:56:38,590 reid_baseline.train INFO: Classify Domain Adapatation Validation Results - Epoch: 37
2022-05-11 09:56:38,591 reid_baseline.train INFO: Accuracy: 76.2%, best Accuracy: 76.3%, min Mean_entropy: 1e+00
2022-05-11 09:57:24,805 reid_baseline.train INFO: Epoch[38] Iteration[100/267] Loss1: 0.787, Loss2: 1.353, Loss3: 0.060,  Acc: 0.685, Acc2: 0.827, Acc2_pse: 0.827, Base Lr: 6.51e-05
2022-05-11 09:58:11,160 reid_baseline.train INFO: Epoch[38] Iteration[200/267] Loss1: 0.788, Loss2: 1.344, Loss3: 0.037,  Acc: 0.683, Acc2: 0.824, Acc2_pse: 0.824, Base Lr: 6.51e-05
2022-05-11 09:58:39,802 reid_baseline.train INFO: Epoch 38 done. Time per batch: 0.455[s] Speed: 35.2[samples/s]
2022-05-11 10:04:26,238 reid_baseline.train INFO: normal accuracy 0.7633692907964196 1.388458490371704 
2022-05-11 10:04:27,022 reid_baseline.train INFO: Classify Domain Adapatation Validation Results - Epoch: 38
2022-05-11 10:04:27,022 reid_baseline.train INFO: Accuracy: 76.3%, best Accuracy: 76.3%, min Mean_entropy: 1e+00
2022-05-11 10:05:15,285 reid_baseline.train INFO: Epoch[39] Iteration[100/267] Loss1: 0.805, Loss2: 1.392, Loss3: -0.038,  Acc: 0.676, Acc2: 0.821, Acc2_pse: 0.821, Base Lr: 2.83e-05
2022-05-11 10:06:00,034 reid_baseline.train INFO: Epoch[39] Iteration[200/267] Loss1: 0.807, Loss2: 1.348, Loss3: -0.035,  Acc: 0.666, Acc2: 0.837, Acc2_pse: 0.837, Base Lr: 2.83e-05
2022-05-11 10:06:27,948 reid_baseline.train INFO: Epoch 39 done. Time per batch: 0.456[s] Speed: 35.1[samples/s]
2022-05-11 10:12:40,359 reid_baseline.train INFO: normal accuracy 0.7590084920817076 1.534502387046814 
2022-05-11 10:12:40,360 reid_baseline.train INFO: Classify Domain Adapatation Validation Results - Epoch: 39
2022-05-11 10:12:40,360 reid_baseline.train INFO: Accuracy: 75.9%, best Accuracy: 76.3%, min Mean_entropy: 1e+00
2022-05-11 10:13:57,633 reid_baseline.train INFO: Epoch[40] Iteration[100/267] Loss1: 0.797, Loss2: 1.362, Loss3: -0.046,  Acc: 0.667, Acc2: 0.821, Acc2_pse: 0.821, Base Lr: 1.60e-05
2022-05-11 10:15:12,813 reid_baseline.train INFO: Epoch[40] Iteration[200/267] Loss1: 0.791, Loss2: 1.338, Loss3: 0.005,  Acc: 0.678, Acc2: 0.826, Acc2_pse: 0.826, Base Lr: 1.60e-05
2022-05-11 10:16:01,151 reid_baseline.train INFO: Epoch 40 done. Time per batch: 0.758[s] Speed: 21.1[samples/s]
2022-05-11 10:21:57,112 reid_baseline.train INFO: normal accuracy 0.7654349322928621 1.3707895278930664 
2022-05-11 10:21:57,980 reid_baseline.train INFO: Classify Domain Adapatation Validation Results - Epoch: 40
2022-05-11 10:21:57,980 reid_baseline.train INFO: Accuracy: 76.5%, best Accuracy: 76.5%, min Mean_entropy: 1e+00
best model preformance is 0.7654349322928621
Loading pretrained model for finetuning from ../logs/uda/deit_base/office-home/Clipart2Real_WorldDRI_Contrastive0.0/transformer_best_model.pth
2022-05-11 10:28:05,553 reid_baseline.train INFO: normal accuracy 0.7654349322928621 1.3707895278930664 
2022-05-11 10:28:05,564 reid_baseline.train INFO: Classify Domain Adapatation Validation Results - Best model
2022-05-11 10:28:05,564 reid_baseline.train INFO: Accuracy: 76.5%
2022-05-11 10:30:11,610 reid_baseline.train INFO: normal accuracy 0.9008018327605957 0.7809953093528748 
2022-05-11 10:30:11,611 reid_baseline.train INFO: Classify Domain Adapatation Source Results - Best model
2022-05-11 10:30:11,611 reid_baseline.train INFO: Accuracy: 90.1%
2022-05-11 10:30:17,168 reid_baseline INFO: Saving model in the path :../logs/uda/deit_base/office-home/Clipart2ArtDRI_Contrastive1.0
2022-05-11 10:30:17,168 reid_baseline INFO: Namespace(config_file='configs/uda.yml', opts=['MODEL.DEVICE_ID', "('3')", 'OUTPUT_DIR', '../logs/uda/deit_base/office-home/Clipart2ArtDRI_Contrastive1.0', 'DATASETS.ROOT_TRAIN_DIR', '../data/OfficeHomeDataset/Clipart.txt', 'DATASETS.ROOT_TRAIN_DIR2', '../data/OfficeHomeDataset/Art.txt', 'DATASETS.ROOT_TEST_DIR', '../data/OfficeHomeDataset/Art.txt', 'DATASETS.NAMES', 'OfficeHome', 'DATASETS.NAMES2', 'OfficeHome', 'MODEL.Transformer_TYPE', 'uda_vit_base_patch16_224_TransReID'], local_rank=0, patch_size=8, dom_cls=False, layer_num=1, dom_weight=1.0)
2022-05-11 10:30:17,168 reid_baseline INFO: Loaded configuration file configs/uda.yml
2022-05-11 10:30:17,168 reid_baseline INFO: 
MODEL:
  PRETRAIN_CHOICE: 'imagenet'
  PRETRAIN_PATH: '../data/pretrainModel/deit_base_distilled_patch16_224-df68dfff.pth'
  METRIC_LOSS_TYPE: 'triplet'
  IF_LABELSMOOTH: 'on'
  IF_WITH_CENTER: 'no'
  NAME: 'transformer'
  NO_MARGIN: True
  DEVICE_ID: ('0')
  Transformer_TYPE: 'uda_vit_base_patch16_224_TransReID' #uda_vit_small_patch16_224_TransReID
  STRIDE_SIZE: [16, 16]
  BLOCK_PATTERN: '3_branches'
  TASK_TYPE: 'classify_DA'
  UDA_STAGE: 'UDA'
#  CAMERA_EMBEDDING: True
#  VIEWPOINT_EMBEDDING: True

INPUT:
  SIZE_TRAIN: [256, 256]
  SIZE_TEST: [256, 256]
  SIZE_CROP: [224, 224]
  PROB: 0.5 # random horizontal flip
  RE_PROB: 0.0 # random erasing
  PADDING: 0
  PIXEL_MEAN: [0.485, 0.456, 0.406]
  PIXEL_STD: [0.229, 0.224, 0.225]

DATASETS:
  NAMES: ('OURAPI')
  ROOT_TRAIN_DIR: ('./datasets/reid_datasets/Corrected_Market1501')
  NAMES2: ('OURAPI')
  ROOT_TRAIN_DIR2: ('./datasets/reid_datasets/Refined_DukeMTMC_reID')
  ROOT_TEST_DIR: ('./datasets/reid_datasets/Refined_DukeMTMC_reID')

DATALOADER:
  SAMPLER: 'softmax'
  NUM_INSTANCE: 4
  NUM_WORKERS: 4

SOLVER:
  OPTIMIZER_NAME: 'SGD'
  MAX_EPOCHS: 40
  BASE_LR: 0.008
  IMS_PER_BATCH: 16
  STEPS: [40, 80]
  GAMMA: 0.
  WARMUP_FACTOR: 0.01
  WARMUP_EPOCHS: 10
  WARMUP_METHOD: 'linear'
  LARGE_FC_LR: False
  CHECKPOINT_PERIOD: 10
  LOG_PERIOD: 100
  EVAL_PERIOD: 1
  WEIGHT_DECAY:  1e-4
  WEIGHT_DECAY_BIAS: 1e-4
  BIAS_LR_FACTOR: 2

TEST:
  EVAL: True
  IMS_PER_BATCH: 64
  RE_RANKING: False
  RE_RANKING_TRACK: False

  WEIGHT: '../logs/trans4DA/transformer_120.pth'
  NECK_FEAT: 'after'
  FEAT_NORM: 'yes'

OUTPUT_DIR: '../logs/trans4DA'



2022-05-11 10:30:17,169 reid_baseline INFO: Running with config:
DATALOADER:
  NUM_INSTANCE: 4
  NUM_WORKERS: 4
  SAMPLER: softmax
DATASETS:
  NAMES: OfficeHome
  NAMES2: OfficeHome
  PLUS_NUM_ID: 100
  QUERY_MINING: False
  ROOT_TEST_DIR: ../data/OfficeHomeDataset/Art.txt
  ROOT_TRAIN_DIR: ../data/OfficeHomeDataset/Clipart.txt
  ROOT_TRAIN_DIR2: ../data/OfficeHomeDataset/Art.txt
INPUT:
  AA_PROB: 0.0
  PADDING: 0
  PIXEL_MEAN: [0.485, 0.456, 0.406]
  PIXEL_STD: [0.229, 0.224, 0.225]
  PROB: 0.5
  RE_PROB: 0.0
  SIZE_CROP: [224, 224]
  SIZE_TEST: [256, 256]
  SIZE_TRAIN: [256, 256]
MODEL:
  AIE_COE: 1.5
  BLOCK_PATTERN: 3_branches
  CAMERA_EMBEDDING: False
  COS_LAYER: False
  DEVICE: cuda
  DEVICE_ID: 3
  DEVIDE_LENGTH: 4
  DIST_TRAIN: False
  DROP_OUT: 0.0
  DROP_PATH: 0.1
  FC_SETTING: TransReID
  FROZEN: -1
  ID_LOSS_TYPE: softmax
  ID_LOSS_WEIGHT: 1.0
  IF_LABELSMOOTH: on
  IF_WITH_CENTER: no
  LAST_STRIDE: 1
  LOCAL_F: False
  METRIC_LOSS_TYPE: triplet
  NAME: transformer
  NECK: bnneck
  NO_MARGIN: True
  NO_SHUFFLE: False
  PATCH_SHUFFLE: 2
  PRETRAIN_CHOICE: imagenet
  PRETRAIN_PATH: ../data/pretrainModel/deit_base_distilled_patch16_224-df68dfff.pth
  PROB: 0.0
  RECIP_LOSS: 
  STRIDE_SIZE: [16, 16]
  TASK_TYPE: classify_DA
  THRESH: 0.23
  TRIPLET_LOSS_WEIGHT: 1.0
  Transformer_TYPE: uda_vit_base_patch16_224_TransReID
  UDA_STAGE: UDA
  VIEWPOINT_EMBEDDING: False
  YIWEI_NUM: 5
  lameda: 0.5
OUTPUT_DIR: ../logs/uda/deit_base/office-home/Clipart2ArtDRI_Contrastive1.0
SOLVER:
  BASE_LR: 0.008
  BIAS_LR_FACTOR: 2
  CENTER_LOSS_WEIGHT: 0.0005
  CENTER_LR: 0.5
  CHECKPOINT_PERIOD: 10
  CLUSTER_MARGIN: 0.3
  COSINE_MARGIN: 0.5
  COSINE_SCALE: 30
  EVAL_PERIOD: 1
  GAMMA: 0.0
  IMS_PER_BATCH: 16
  LARGE_FC_LR: False
  LOG_PERIOD: 100
  MARGIN: 0.3
  MAX_EPOCHS: 40
  MOMENTUM: 0.9
  OPTIMIZER_NAME: SGD
  RANGE_ALPHA: 0
  RANGE_BETA: 1
  RANGE_K: 2
  RANGE_LOSS_WEIGHT: 1
  RANGE_MARGIN: 0.3
  SEED: 1234
  STEPS: (40, 80)
  WARMUP_EPOCHS: 10
  WARMUP_FACTOR: 0.01
  WARMUP_METHOD: linear
  WEIGHT_DECAY: 0.0001
  WEIGHT_DECAY_BIAS: 0.0001
  WITH_PSEUDO_LABEL_FILTER: False
TEST:
  DIST_MAT: dist_mat.npy
  EVAL: True
  FEAT_NORM: yes
  FLIP_FEATS: off
  IMS_PER_BATCH: 64
  NECK_FEAT: after
  RE_RANKING: False
  RE_RANKING_TRACK: False
  WEIGHT: ../logs/trans4DA/transformer_120.pth
=> Office-Home loaded
Dataset statistics:
train Clipart and valid is Art
  ----------------------------------------
  subset   | # ids | # images | # cameras
  ----------------------------------------
  train   |    65 |     4365 |         1
  valid   |    65 |     2427 |         1
  ----------------------------------------
=> Office-Home loaded
Dataset statistics:
train Art and valid is Art
  ----------------------------------------
  subset   | # ids | # images | # cameras
  ----------------------------------------
  train   |    65 |     2427 |         1
  valid   |    65 |     2427 |         1
  ----------------------------------------
using Transformer_type: uda_vit_base_patch16_224_TransReID as a backbone
using stride: [16, 16], and part number is num_y14 * num_x14
using drop_path_rate is : 0.1
using aie_xishu is : 1.5
using 3branches blocks
distill need to choose right cls token in the pth
Resized position embedding: %s to %s torch.Size([1, 197, 768]) torch.Size([1, 197, 768])
Position embedding resize to height:14 width: 14
Loading pretrained ImageNet model......from ../data/pretrainModel/deit_base_distilled_patch16_224-df68dfff.pth
===========building uda transformer===========
label smooth on, numclasses: 65
2022-05-11 10:30:27,263 reid_baseline.train INFO: start training
2022-05-11 10:31:56,523 reid_baseline.train INFO: Epoch[1] Iteration[100/267] Loss1: 1.401, Loss2: 4.165, Loss3: 0.158,  Acc: 0.391, Acc2: 0.029, Acc2_pse: 0.029, Base Lr: 8.72e-04
2022-05-11 10:33:14,244 reid_baseline.train INFO: Epoch[1] Iteration[200/267] Loss1: 1.248, Loss2: 4.154, Loss3: 0.108,  Acc: 0.467, Acc2: 0.058, Acc2_pse: 0.058, Base Lr: 8.72e-04
2022-05-11 10:34:04,857 reid_baseline.train INFO: Epoch 1 done. Time per batch: 0.808[s] Speed: 19.8[samples/s]
2022-05-11 10:35:50,157 reid_baseline.train INFO: normal accuracy 0.10548001648125258 4.172284126281738 
2022-05-11 10:35:50,958 reid_baseline.train INFO: Classify Domain Adapatation Validation Results - Epoch: 1
2022-05-11 10:35:50,958 reid_baseline.train INFO: Accuracy: 10.5%, best Accuracy: 10.5%, min Mean_entropy: 4e+00
2022-05-11 10:37:06,337 reid_baseline.train INFO: Epoch[2] Iteration[100/267] Loss1: 0.918, Loss2: 4.088, Loss3: 0.095,  Acc: 0.631, Acc2: 0.107, Acc2_pse: 0.107, Base Lr: 1.66e-03
2022-05-11 10:38:20,621 reid_baseline.train INFO: Epoch[2] Iteration[200/267] Loss1: 0.916, Loss2: 4.061, Loss3: 0.010,  Acc: 0.631, Acc2: 0.126, Acc2_pse: 0.126, Base Lr: 1.66e-03
2022-05-11 10:39:08,796 reid_baseline.train INFO: Epoch 2 done. Time per batch: 0.744[s] Speed: 21.5[samples/s]
2022-05-11 10:40:54,737 reid_baseline.train INFO: normal accuracy 0.1503914297486609 4.16644811630249 
2022-05-11 10:40:55,570 reid_baseline.train INFO: Classify Domain Adapatation Validation Results - Epoch: 2
2022-05-11 10:40:55,570 reid_baseline.train INFO: Accuracy: 15.0%, best Accuracy: 15.0%, min Mean_entropy: 4e+00
2022-05-11 10:42:12,512 reid_baseline.train INFO: Epoch[3] Iteration[100/267] Loss1: 0.876, Loss2: 3.928, Loss3: 0.031,  Acc: 0.633, Acc2: 0.136, Acc2_pse: 0.136, Base Lr: 2.46e-03
2022-05-11 10:43:26,920 reid_baseline.train INFO: Epoch[3] Iteration[200/267] Loss1: 0.871, Loss2: 3.891, Loss3: -0.018,  Acc: 0.639, Acc2: 0.146, Acc2_pse: 0.146, Base Lr: 2.46e-03
2022-05-11 10:44:13,811 reid_baseline.train INFO: Epoch 3 done. Time per batch: 0.750[s] Speed: 21.3[samples/s]
2022-05-11 10:45:59,353 reid_baseline.train INFO: normal accuracy 0.1738772146683148 4.138894081115723 
2022-05-11 10:46:00,173 reid_baseline.train INFO: Classify Domain Adapatation Validation Results - Epoch: 3
2022-05-11 10:46:00,173 reid_baseline.train INFO: Accuracy: 17.4%, best Accuracy: 17.4%, min Mean_entropy: 4e+00
2022-05-11 10:47:16,133 reid_baseline.train INFO: Epoch[4] Iteration[100/267] Loss1: 0.867, Loss2: 3.705, Loss3: 0.069,  Acc: 0.661, Acc2: 0.156, Acc2_pse: 0.156, Base Lr: 3.25e-03
2022-05-11 10:48:29,418 reid_baseline.train INFO: Epoch[4] Iteration[200/267] Loss1: 0.853, Loss2: 3.632, Loss3: -0.006,  Acc: 0.653, Acc2: 0.184, Acc2_pse: 0.184, Base Lr: 3.25e-03
2022-05-11 10:49:16,618 reid_baseline.train INFO: Epoch 4 done. Time per batch: 0.744[s] Speed: 21.5[samples/s]
2022-05-11 10:51:04,594 reid_baseline.train INFO: normal accuracy 0.22867737948084055 4.042023658752441 
2022-05-11 10:51:05,354 reid_baseline.train INFO: Classify Domain Adapatation Validation Results - Epoch: 4
2022-05-11 10:51:05,355 reid_baseline.train INFO: Accuracy: 22.9%, best Accuracy: 22.9%, min Mean_entropy: 4e+00
2022-05-11 10:52:21,032 reid_baseline.train INFO: Epoch[5] Iteration[100/267] Loss1: 0.860, Loss2: 3.461, Loss3: -0.046,  Acc: 0.644, Acc2: 0.198, Acc2_pse: 0.198, Base Lr: 4.04e-03
2022-05-11 10:53:33,281 reid_baseline.train INFO: Epoch[5] Iteration[200/267] Loss1: 0.847, Loss2: 3.357, Loss3: 0.016,  Acc: 0.653, Acc2: 0.244, Acc2_pse: 0.244, Base Lr: 4.04e-03
2022-05-11 10:54:20,310 reid_baseline.train INFO: Epoch 5 done. Time per batch: 0.735[s] Speed: 21.8[samples/s]
2022-05-11 10:56:08,391 reid_baseline.train INFO: normal accuracy 0.3621755253399258 3.8760194778442383 
2022-05-11 10:56:09,168 reid_baseline.train INFO: Classify Domain Adapatation Validation Results - Epoch: 5
2022-05-11 10:56:09,169 reid_baseline.train INFO: Accuracy: 36.2%, best Accuracy: 36.2%, min Mean_entropy: 4e+00
2022-05-11 10:57:26,318 reid_baseline.train INFO: Epoch[6] Iteration[100/267] Loss1: 0.826, Loss2: 3.109, Loss3: -0.046,  Acc: 0.655, Acc2: 0.324, Acc2_pse: 0.324, Base Lr: 4.83e-03
2022-05-11 10:58:41,508 reid_baseline.train INFO: Epoch[6] Iteration[200/267] Loss1: 0.819, Loss2: 3.077, Loss3: -0.060,  Acc: 0.657, Acc2: 0.328, Acc2_pse: 0.328, Base Lr: 4.83e-03
2022-05-11 10:59:28,273 reid_baseline.train INFO: Epoch 6 done. Time per batch: 0.754[s] Speed: 21.2[samples/s]
2022-05-11 11:01:15,099 reid_baseline.train INFO: normal accuracy 0.4635352286773795 3.657086133956909 
2022-05-11 11:01:15,873 reid_baseline.train INFO: Classify Domain Adapatation Validation Results - Epoch: 6
2022-05-11 11:01:15,873 reid_baseline.train INFO: Accuracy: 46.4%, best Accuracy: 46.4%, min Mean_entropy: 4e+00
2022-05-11 11:02:33,115 reid_baseline.train INFO: Epoch[7] Iteration[100/267] Loss1: 0.842, Loss2: 2.906, Loss3: -0.115,  Acc: 0.647, Acc2: 0.374, Acc2_pse: 0.374, Base Lr: 5.62e-03
2022-05-11 11:03:46,591 reid_baseline.train INFO: Epoch[7] Iteration[200/267] Loss1: 0.841, Loss2: 2.837, Loss3: -0.058,  Acc: 0.653, Acc2: 0.399, Acc2_pse: 0.399, Base Lr: 5.62e-03
2022-05-11 11:04:32,906 reid_baseline.train INFO: Epoch 7 done. Time per batch: 0.749[s] Speed: 21.4[samples/s]
2022-05-11 11:06:22,321 reid_baseline.train INFO: normal accuracy 0.5216316440049443 3.4668538570404053 
2022-05-11 11:06:23,107 reid_baseline.train INFO: Classify Domain Adapatation Validation Results - Epoch: 7
2022-05-11 11:06:23,108 reid_baseline.train INFO: Accuracy: 52.2%, best Accuracy: 52.2%, min Mean_entropy: 3e+00
2022-05-11 11:07:37,832 reid_baseline.train INFO: Epoch[8] Iteration[100/267] Loss1: 0.845, Loss2: 2.677, Loss3: -0.066,  Acc: 0.652, Acc2: 0.436, Acc2_pse: 0.436, Base Lr: 6.42e-03
2022-05-11 11:08:51,520 reid_baseline.train INFO: Epoch[8] Iteration[200/267] Loss1: 0.841, Loss2: 2.654, Loss3: -0.128,  Acc: 0.654, Acc2: 0.447, Acc2_pse: 0.447, Base Lr: 6.42e-03
2022-05-11 11:09:39,220 reid_baseline.train INFO: Epoch 8 done. Time per batch: 0.740[s] Speed: 21.6[samples/s]
2022-05-11 11:11:21,612 reid_baseline.train INFO: normal accuracy 0.5714874330449115 2.9607837200164795 
2022-05-11 11:11:22,401 reid_baseline.train INFO: Classify Domain Adapatation Validation Results - Epoch: 8
2022-05-11 11:11:22,401 reid_baseline.train INFO: Accuracy: 57.1%, best Accuracy: 57.1%, min Mean_entropy: 3e+00
